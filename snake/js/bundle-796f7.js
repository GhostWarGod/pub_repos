"use strict";(()=>{var L2=Object.create;var bd=Object.defineProperty;var sk=Object.getOwnPropertyDescriptor;var w2=Object.getOwnPropertyNames;var T2=Object.getPrototypeOf,C2=Object.prototype.hasOwnProperty;var b=(i,e)=>()=>(i&&(e=i(i=0)),e);var nk=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),yd=(i,e)=>{for(var t in e)bd(i,t,{get:e[t],enumerable:!0})},A2=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of w2(e))!C2.call(i,n)&&n!==t&&bd(i,n,{get:()=>e[n],enumerable:!(s=sk(e,n))||s.enumerable});return i};var ok=(i,e,t)=>(t=i!=null?L2(T2(i)):{},A2(e||!i||!i.__esModule?bd(t,"default",{value:i,enumerable:!0}):t,i));var H=(i,e,t,s)=>{for(var n=s>1?void 0:s?sk(e,t):e,o=i.length-1,l;o>=0;o--)(l=i[o])&&(n=(s?l(e,t,n):l(n))||n);return s&&n&&bd(e,t,n),n};var M2=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var oe=(i,e,t)=>(M2(i,e,"read from private field"),t?t.call(i):e.get(i)),ae=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)};var ex,v,We=b(()=>{"use strict";ex=class i extends Laya.EventDispatcher{static getInstance(){return i._instance||(i._instance=new i),i._instance}},v=ex.getInstance()});var E,ut=b(()=>{"use strict";E=class{};E.MOUSE_HOLDON="MOUSE_HOLDON",E.EVENT_OPEN_MODULE="EVENT_OPEN_MODULE",E.EVENT_MODULE_ADDED="EVENT_MODULE_ADDED",E.EVENT_CLOSE_MODULE="EVENT_CLOSE_MODULE",E.EVENT_CHECK_REMAIN="EVENT_CHECK_REMAIN",E.EVENT_LOADED_COMPLETE="EVENT_LOAD_COMPLETE",E.EVENT_LOADED_SCENE_BG_COM="EVENT_LOADED_SCENE_BG_COM",E.EVENT_LOAD_SKIN_COMPLETE="EVENT_LOAD_SKIN_COMPLETE",E.EVENT_LOAD_HEAD_SKIN_COMPLETE="EVENT_LOAD_HEAD_SKIN_COMPLETE",E.EVENT_LOADING_SUC="EVENT_LOADING_SUC",E.EVENT_BACK_TO_LOGIN="EVENT_BACK_TO_LOGIN",E.EVENT_LOGIN_GAME_END="EVENT_LOGIN_GAME_END",E.EVENT_ENTER_MAIN="EVENT_ENTER_MAIN",E.EVENT_CHANGE_HEAD="EVENT_CHANGE_HEAD",E.EVENT_MODIFY_HEAD="EVENT_MODIFY_HEAD",E.EVENT_ITEM_UPDATE="EVENT_ITEM_UPDATE",E.EVENT_SNAKE_UPDATE="EVENT_SNAKE_UPDATE",E.EVENT_ROLE_UPDATE="EVENT_ROLE_UPDATE",E.STAGE_ON_BLUR="STAGE_ON_BLUR",E.STAGE_ON_FOCUS="STAGE_ON_FOCUS",E.ACCOUNTVO_UPDATE="ACCOUNTVO_UPDATE",E.EVENT_WAIT_PLAYERINFO="EVENT_WAIT_PLAYERINFO",E.EVENT_END_HEROBUY="EVENT_END_HEROBUY",E.EVENT_END_HEROTRANSFER="EVENT_END_HEROTRANSFER",E.EVENT_REFRESH_HEROTRANSFER="EVENT_REFRESH_HEROTRANSFER",E.EVENT_REFRESH_QUAN_STATUS="EVENT_REFRESH_QUAN_STATUS",E.EVENT_REFRESH_ITEM_ONCHAIN_STATUS="EVENT_REFRESH_ITEM_ONCHAIN_STATUS",E.EVENT_REFRESH_RENT_HERO_ONCHAIN_STATUS="EVENT_REFRESH_RENT_HERO_ONCHAIN_STATUS",E.EVENT_REFRESH_NODE_ONCHAIN_STATUS="EVENT_REFRESH_NODE_ONCHAIN_STATUS",E.EVENT_REFRESH_UNIONMEMBER_TRANSFER="EVENT_REFRESH_UNIONMEMBER_TRANSFER",E.EVENT_REFRESH_KNAPSACK="EVENT_REFRESH_KNAPSACK",E.EVENT_ADD_UNIONMEMBER_ADDRESS="EVENT_ADD_UNIONMEMBER_ADDRESS",E.EVENT_ADD_TICKET_ADDRESS="EVENT_ADD_TICKET_ADDRESS",E.EVENT_EMOJI_ICON_SELECT="EVENT_EMOJI_ICON_SELECT",E.EVENT_COLOR_ICON_SELECT="EVENT_COLOR_ICON_SELECT",E.EVENT_CHECK_ICON_SELECT="EVENT_CHECK_ICON_SELECT",E.EVENT_CHECK_PLAYER_NUM_SELECT="EVENT_CHECK_PLAYER_NUM_SELECT",E.EVENT_CHECK_NODE_SELECT="EVENT_CHECK_NODE_SELECT",E.PACKAGE_UPDATE_ITEM="PACKAGE_UPDATE_ITEM",E.IMPROVE_SUCESS_EVENT="IMPROVE_SUCESS_EVENT",E.CHANG_POTRAIT="CHANG_POTRAIT",E.ROLE_INFO_CHANGE="ROLE_INFO_CHANGE",E.ROLE_INFO_UPDATE="ROLE_INFO_UPDATE",E.UPDATE_ASSETS="UPDATE_ASSETS",E.REFRESH_MAIN_TASK="REFRESH_MAIN_TASK",E.RECIVE_SUCESS_SERVICE="RECIVE_SUCESS_SERVICE",E.SCENE_ROLE_COMPELTE="SCENE_ROLE_COMPELTE",E.FITTING_CLOTH_BTN="FITTING_CLOTH_BTN",E.STORE_CLICKBG_EVENT="STORE_CLICKBG_EVENT",E.CLOSE_BG_VIEW="CLOSE_BG_VIEW",E.EVENT_UPDATE_ONLINE="EVENT_UPDATE_ONLINE",E.VIP_INFO_CHANGE="VIP_INFO_CHANGE",E.EVENT_FUNCTION_OPEN_UPDATE="EVENT_FUNCTION_OPEN_UPDATE",E.EVENT_ADD_ACTIVITY="EVENT_ADD_ACTIVITY",E.EVENT_REMOVE_ACTIVITY="EVENT_REMOVE_ACTIVITY",E.UPDATE_CHAO_PIAO="UPDATE_CHAO_PIAO",E.UPDATE_EXCHANGE_INFO="UPDATE_EXCHANGE_INFO",E.UPDATE_RED_STATE_EVENT="UPDATE_RED_STATE_EVENT",E.SYSTEM_OPEN_TIME_INITED="SYSTEM_OPEN_TIME_INITED",E.EVENT_OPEN_SHARE="EVENT_OPEN_SHARE",E.CHANGE_SCENE_BASE_ROLE_LAYER="CHANGE_SCENE_BASE_ROLE_LAYER",E.EVENT_CLICK_NUM="EVENT_CLICK_NUM",E.EVENT_CLICK_SPACE="EVENT_CLICK_SPACE",E.EVENT_HERO_DRAW_BACK="EVENT_HERO_DRAW_BACK",E.EVENT_Close_CreateRoom="EVENT_Close_CreateRoom",E.EVENT_ENTER_MATCH_ROOM="EVENT_ENTER_MATCH_ROOM",E.EVENT_UPDATE_MATCH_ROOM="EVENT_UPDATE_MATCH_ROOM",E.EVENT_CLICK_HERO="EVENT_CLICK_HERO",E.UPDATE_KILL_NUM="UPDATE_KILL_NUM",E.EVENT_PVP_INIT_DATA="EVENT_PVP_INIT_DATA",E.EVENT_PVP_RESTORE_DATA="EVENT_PVP_RESTORE_DATA",E.EVENT_FirstBlood="EVENT_FirstBlood",E.EVENT_MutiKill="EVENT_MutiKill",E.EVENT_GameScene_Gray="EVENT_GameScene_Gray",E.EVENT_Game_Delay="EVENT_Game_Delay",E.EVENT_UPDATE_ITEM_SKILL_COOL="UPDATE_SKILL_COOLTIME",E.EVENT_UPDATE_GLOBAL_COOL="EVENT_UPDATE_GLOBAL_COOL",E.EVENT_UPDATE_REDECE_COOL="EVENT_UPDATE_REDECE_COOL",E.EVENT_REFRESH_BAN_ACCOUNT="EVENT_REFRESH_BAN_ACCOUNT",E.EVENT_SUB_GUILD_UPDATE="EVENT_SUB_GUILD_UPDATE",E.EVENT_UNION_APPLY_MEMBER_UPDATE="EVENT_UNION_APPLY_MEMBER_UPDATE",E.EVENT_WELFARE_CLAIM="EVENT_WELFARE_CLAIM",E.EVENT_RECHARGE_GET="EVENT_RECHARGE_GET",E.CHANGE_WALLET_HERO="CHANGE_WALLET_HERO",E.CHANGE_ASSET_CHAIN="CHANGE_ASSET_CHAIN",E.CHANGE_WALLET_PROP="CHANGE_WALLET_PROP",E.CREATE_SUB_WALLET_SUCCESS="CREATE_SUB_WALLET_SUCCESS",E.REFRESH_ALL_WITHDRAW_DATA="REFRESH_ALL_WITHDRAW_DATA",E.CHANGE_FRIEND_APPLY_LIST="CHANGE_FRIEND_APPLY_LIST",E.CHANGE_FRIEND_LIST="CHANGE_FRIEND_LIST",E.REFRSH_RED="REFRSH_RED",E.REFRSH_APPLY_FRIEND_LIST="REFRSH_APPLY_FRIEND_LIST",E.ADD_AIR_WALLET_ITEM="ADD_AIR_WALLET_ITEM",E.ADD_AIR_SUB_WALLET_NAME="ADD_AIR_SUB_WALLET_NAME",E.AIR_SUB_WALLET_OPENHERO="AIR_SUB_WALLET_OPENHERO",E.CHANGE_WALLET_HERO_AIR="CHANGE_WALLET_HERO_AIR",E.UPDATE_UNION_MEMBER_LIST="UPDATE_UNION_MEMBER_LIST",E.EVENT_ADD_MONEY_ADDRESS="EVENT_ADD_MONEY_ADDRESS",E.REFRESH_MAINSCENE_HEAD_RED="REFRESH_MAINSCENE_HEAD_RED",E.REFRESH_ROLEINFO_RED="REFRESH_ROLEINFO_RED",E.REFRESH_ACTIVITY_RED="REFRESH_ACTIVITY_RED",E.SHOW_EQUIP_TIP="SHOW_EQUIP_TIP",E.REFRESH_RANK_DIALOG_RED="REFRESH_RANK_DIALOG_RED",E.REFRESH_MAIL_RED="REFRESH_MAIL_RED",E.SHOW_EQUIP_SHOP_TIP="SHOW_EQUIP_SHOP_TIP",E.ON_CONNECT_GAME_SERVER="ON_CONNECT_GAME_SERVER",E.LENGTH_CHANGE="LENGTH_CHANGE",E.KILL_SNAKE="KILL_SNAKE",E.UPDATE_LOCAL_WALLET_LIST_EVENT="UPDATE_LOCAL_WALLET_LIST_EVENT",E.UPDATE_TOKEN_BALANCE="UPDATE_TOKEN_BALANCE",E.UPDATE_BAG_INFO="UPDATE_BAG_INFO",E.EVENT_CHANGE_NODE="EVENT_CHANGE_NODE",E.EVENT_NEW_NOTICE="EVENT_NEW_NOTICE",E.EVENT_NEW_NOTICE_ADDED="EVENT_NEW_NOTICE_ADDED",E.EVENT_MARQUEE_EMPTY="EVENT_MARQUEE_EMPTY",E.EVENT_CHANGE_CLUB_RATE="EVENT_CHANGE_CLUB_RATE",E.EVENT_CLUB_INFO_CHANGE="EVENT_CLUB_INFO_CHANGE"});var lt,Qr=b(()=>{"use strict";lt=class i{constructor(e=0,t=0){this.x=e,this.y=t}static create(e=0,t=0){return new i(e,t)}assign(e){return this.x=e.x,this.y=e.y,this}add(e){return new i(this.x+e.x,this.y+e.y)}sub(e){return new i(this.x-e.x,this.y-e.y)}mul(e){return new i(this.x*e,this.y*e)}getRotation(){let e=Math.atan2(this.y,this.x)*180/Math.PI;return e<0&&(e+=360),e}getRotationTo(e){let t=e.x-this.x,s=e.y-this.y,n=Math.atan2(s,-t)*180/Math.PI;return n<0&&(n+=360),n}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y);return e!==0&&(this.x/=e,this.y/=e),this}rotate(e){let t=e*Math.PI/180,s=Math.sin(t),n=Math.cos(t),o=this.x,l=this.y;this.x=o*n-l*s,this.y=o*s+l*n}dot(e){return this.x*e.x+this.y*e.y}equal(e){return this.x===e.x&&this.y===e.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}init(e=0,t=0){return this.x=e,this.y=t,this}clone(){return new i(this.x,this.y)}clamp(e,t){let s=this.length();return s>t&&this.normalize().mul(t),s<e&&this.normalize().mul(e),this}reset(){return this.x=0,this.y=0,this}toString(){return`(${this.x},${this.y})`}}});var be,ee,mt=b(()=>{"use strict";be=class be{constructor(){this._touchEnabled=!0;if(be._instance)throw new Error("LayerManager是单例,不可new.");be._instance=this}get m_sprPanelLayer(){return this._m_sprPanelLayer}set m_sprPanelLayer(e){this._m_sprPanelLayer=e}get m_sprMainUILayer(){return this._m_sprMainUILayer}set m_sprMainUILayer(e){this._m_sprMainUILayer=e}get m_sprTipLayer(){return this._m_sprTipLayer}set m_sprTipLayer(e){this._m_sprTipLayer=e}static get instence(){return be._instance||(be._instance=new be),be._instance}init(){this.m_sprSceneLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprSceneLayer),this.m_sprMainUILayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprMainUILayer),this.m_sprPanelLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprPanelLayer),this.m_sprPopLayer=new Laya.Sprite,this.m_sprPopLayer.mouseThrough=!0,Laya.stage.addChild(this.m_sprPopLayer),this.m_sprTipLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprTipLayer),this.m_sprGuideLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprGuideLayer),this.m_sprTopLayer=new Laya.Sprite,Laya.stage.addChild(this.m_sprTopLayer)}get touchEnabled(){return this._touchEnabled}set touchEnabled(e){this._touchEnabled!=e&&(this._touchEnabled=e,this.m_sprSceneLayer.mouseEnabled=this._touchEnabled,this.m_sprMainUILayer.mouseEnabled=this._touchEnabled,this.m_sprPanelLayer.mouseEnabled=this._touchEnabled,this.m_sprPopLayer.mouseEnabled=this._touchEnabled,this.m_sprTipLayer.mouseEnabled=this._touchEnabled,this.m_sprGuideLayer.mouseEnabled=this._touchEnabled,this.m_sprTopLayer.mouseEnabled=this._touchEnabled)}addToLayerAndSet(e,t=be.M_PANEL,s=be.CENTER){this.addToLayer(e,t),this.setPosition(e,s)}getLayerIndex(e,t=be.M_PANEL){let s;switch(t){case be.M_SCENE:s=this.m_sprSceneLayer.getChildIndex(e);break;case be.M_MAINUI:s=this.m_sprMainUILayer.getChildIndex(e);break;case be.M_PANEL:s=this.m_sprPanelLayer.getChildIndex(e);break;case be.M_POP:s=this.m_sprPopLayer.getChildIndex(e);break;case be.M_TIP:s=this.m_sprTipLayer.getChildIndex(e);break;case be.M_GUIDE:s=this.m_sprGuideLayer.getChildIndex(e);break;case be.M_TOP:s=this.m_sprTopLayer.getChildIndex(e);break}return s}addToLayerAt(e,t=be.M_PANEL,s=0){switch(t){case be.M_SCENE:this.m_sprSceneLayer.addChildAt(e,s);break;case be.M_MAINUI:this.m_sprMainUILayer.addChildAt(e,s);break;case be.M_PANEL:this.m_sprPanelLayer.addChildAt(e,s);break;case be.M_POP:this.m_sprPopLayer.addChildAt(e,s);break;case be.M_TIP:this.m_sprTipLayer.addChildAt(e,s);break;case be.M_GUIDE:this.m_sprGuideLayer.addChildAt(e,s);break;case be.M_TOP:this.m_sprTopLayer.addChildAt(e,s);break}}addToLayer(e,t=be.M_PANEL){switch(t){case be.M_SCENE:this.m_sprSceneLayer.addChild(e);break;case be.M_MAINUI:this.m_sprMainUILayer.addChild(e);break;case be.M_PANEL:this.m_sprPanelLayer.addChild(e);break;case be.M_POP:this.m_sprPopLayer.addChild(e);break;case be.M_TIP:this.m_sprTipLayer.addChild(e);break;case be.M_GUIDE:this.m_sprGuideLayer.addChild(e);break;case be.M_TOP:this.m_sprTopLayer.addChild(e);break}}removeFromLayer(e,t){switch(t){case be.M_SCENE:this.m_sprSceneLayer.removeChild(e);break;case be.M_MAINUI:this.m_sprMainUILayer.removeChild(e);break;case be.M_PANEL:this.m_sprPanelLayer.removeChild(e);break;case be.M_POP:this.m_sprPopLayer.removeChild(e);break;case be.M_GUIDE:this.m_sprGuideLayer.removeChild(e);break;case be.M_TOP:this.m_sprTopLayer.removeChild(e);break}}clearLayer(e){switch(e){case be.M_SCENE:this.m_sprSceneLayer.removeChildren();break;case be.M_MAINUI:this.m_sprSceneLayer.removeChildren();break;case be.M_PANEL:this.m_sprSceneLayer.removeChildren();break;case be.M_POP:this.m_sprSceneLayer.removeChildren();break;case be.M_TOP:this.m_sprSceneLayer.removeChildren();break}}get stageWidth(){let e;return e=Laya.stage.width,e}get stageHeight(){let e;return e=Laya.stage.height,e}setPosition(e,t,s=0,n=0,o=!1,l=!1){let u=Laya.stage.width,p=Laya.stage.height;switch(this.m_iStageWidth=u,this.m_iStageHeight=p,t){case be.UP:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=0;break;case be.DOWN:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=p-e.height*e.scaleY;break;case be.LEFT:e.x=0,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case be.RIGHT:e.x=u-e.width*e.scaleX,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case be.LEFTUP:e.x=0,e.y=0;break;case be.RIGHTUP:e.x=u-e.width*e.scaleX,e.y=0;break;case be.LEFTDOWN:e.x=0,e.y=p-e.height*e.scaleY;break;case be.RIGHTDOWN:e.x=u-e.width*e.scaleX,e.y=p-e.height*e.scaleY;break;case be.CENTERLEFT:e.x=u/2-e.width*e.scaleX,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case be.CENTERRIGHT:e.x=u/2,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;case be.CENTER:e.x=o?u/2:(u-e.width*e.scaleX)/2,e.y=l?p/2:(p-e.height*e.scaleY)/2;break;default:break}e.x+=s,e.y+=n}setLayer(e,t,s){if(!e||!t||e.parent!=t.parent)return;let n=e.parent.getChildIndex(e),o=t.parent.getChildIndex(t);s?n>o&&(e.parent.setChildIndex(e,o),e.parent.setChildIndex(t,n)):n<o&&(e.parent.setChildIndex(e,o),e.parent.setChildIndex(t,n))}};be.M_SCENE=1,be.M_MAINUI=2,be.M_PANEL=3,be.M_POP=4,be.M_TIP=5,be.M_GUIDE=7,be.M_TOP=6,be.UP=1,be.DOWN=16,be.LEFT=256,be.RIGHT=4096,be.CENTER=65536,be.LEFTUP=be.LEFT|be.UP,be.RIGHTUP=be.RIGHT|be.UP,be.LEFTDOWN=be.LEFT|be.DOWN,be.RIGHTDOWN=be.RIGHT|be.DOWN,be.CENTERLEFT=be.CENTER|be.LEFT,be.CENTERRIGHT=be.CENTER|be.RIGHT,be.MOVE=-1;ee=be});var Pe,Pi=b(()=>{"use strict";Pe=class{constructor(e=!1){this._cachedValues=[];this._dirty=!0;this._needCache=!1;this._map=new Map;this.SERIALIZATION_NUM=new Date().getTime(),this._needCache=e}get values(){return this._needCache?(this._dirty&&(this._cachedValues=[...this._map.values()],this._dirty=!1),this._cachedValues):[...this._map.values()]}get keys(){return[...this._map.keys()]}set(e,t){this._map.set(e,t),this._dirty=!0}get(e){return this._map.get(e)}remove(e){return this._dirty=!0,this._map.delete(e)}clear(){this._map.clear(),this._cachedValues.length=0,this._dirty=!0}has(e){return this._map.has(e)}get size(){return this._map.size}getValues(){return this._map.values()}getMap(){return this._map}}});var ct,pi=b(()=>{"use strict";ct=class{constructor(){this._keys=[];this.THIS_ID="id"}init(e){for(let t in e){this._keys.push(t);let s=e[t];e[t]instanceof String&&String(e[t]).indexOf("[[")>=0&&(s=JSON.parse(e[t])),this[t]=s}}checkItems(){}}});var Ks,_d=b(()=>{"use strict";pi();Ks=class extends ct{constructor(){super()}}});var vn,tx,Me,ni=b(()=>{"use strict";et();mt();vn=class vn{constructor(){this._list=[];this._isNoticing=!1;this._isListener=!1}static getInstance(){return vn._instance||(vn._instance=new vn),vn._instance}notice(e){this._isNoticing?this._isListener||(this._isListener=!0,this._list.push(e),Laya.timer.loop(vn.Tip_Interval,this,this.onInterVal)):(this._list.push(e),this.noticeOne())}noticeOne(){var e=te.m_objModuleViews.TxtNoticeView;let t;Laya.loader.load(e).then(s=>{if(!s){console.log("noticeOne : "+e+"  res is null");return}t=Laya.Pool.getItemByCreateFun("txtNotice",s.create,s);let n=this._list.shift();t.notice(n),Laya.stage.addChild(t),t.x=ee.instence.stageWidth*.5-t.width*.5,t.y=ee.instence.stageHeight*.5-t.height*.5,Laya.Tween.to(t,{y:t.y-250,alpha:.5},1e3,null,Laya.Handler.create(this,this.onFinish,[t]),1e3)})}onFinish(e){e&&(e.visible=!1,e.removeSelf())}onInterVal(){this._list.length>=1?this.noticeOne():(this._isNoticing=!1,this._isListener=!1,Laya.timer.clear(this,this.onInterVal))}};vn.Tip_Interval=1e3;tx=vn,Me=tx.getInstance()});var xo,ix=b(()=>{"use strict";pi();xo=class extends ct{}});var vo,ak=b(()=>{"use strict";vo=class{constructor(){}};vo.Lan_en=1,vo.Lan_zh=6,vo.Lan_tr=7});var tt,Io=b(()=>{"use strict";tt=class{};tt.TYPE_EXP=3003,tt.TYPE_GOLD=3005,tt.TYPE_TOX=3001,tt.TYPE_USDT=3004,tt.TYPE_BTC=3006,tt.TYPE_ETH=3007,tt.TYPE_BTOX=3011,tt.TYPE_GALA=3010,tt.TYPE_BNB=3013,tt.TYPE_GGG=3017,tt.TYPE_KLAY=3015,tt.TYPE_BNRY=3016,tt.TYPE_LLE=3017,tt.TYPE_PC=3022,tt.TYPE_SOL=3023,tt.TYPE_MNT=3024,tt.TYPE_PAS=3025,tt.TYPE_QUAN_PVE=1980,tt.TYPE_QUAN_MNT=4001,tt.TYPE_REWARD_TOKEN=-9999});var In,xd=b(()=>{"use strict";In=class{constructor(){this.coins={};this.needTip=!0}}});var Ia,rx=b(()=>{"use strict";Ia=class{constructor(e,t){this._valuesObject={};this.sheetObject=e,this.BaseItemClass=t}get keys(){if(this._keys)return this._keys;this._keys=[];for(let e in this.sheetObject)!e||e==""||this._keys.push(e);return this._keys}get values(){if(this._values)return this._values;this._values=[];let e;for(let t in this.sheetObject)this._valuesObject[t]?e=this._valuesObject[t]:(e=new this.BaseItemClass,e.init(this.sheetObject[t]),this._valuesObject[t]=e),this._values.push(e);return this._values}get(e){return this._valuesObject[e]?this._valuesObject[e]:this.sheetObject[e]}get1(e){if(this._valuesObject[e])return this._valuesObject[e];let t=this.sheetObject[e];if(t)return t;let s;this.BaseItemClass&&(s=new this.BaseItemClass,s.init==null&&console.log("ERROR :<BaseItem> SheetDataManager -->initConfig()  class : "+this.BaseItemClass),s.init(t)),this._valuesObject;let n=s||t;return this._valuesObject[e]=n,n}indexOf(e){let t=this._keys.indexOf(e);return t>=0?t:(e=e instanceof String?Number(e):e instanceof Number?e.toString():e,this._keys.indexOf(e))}clear(){this.sheetObject=null}}});var sx,vd,nx=b(()=>{"use strict";_d();rx();et();sx=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}initSpotCfgData(){if(this.spotDic==null){let e=te.getResByURL("config/spot.json");this.spotDic=new Ia(e.data,Ks)}}getSpotById(e){return this.initSpotCfgData(),this.spotDic.get(e)}get getSpotDic(){return this.initSpotCfgData(),this.spotDic}},vd=sx.getInstance()});var ox,it,Ji=b(()=>{"use strict";nx();ox=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}registerCommCallBack(e=null){Laya.LayaEnv.isConch}sendCustumEvent(e,t=null,s=null){let n;if(s?n=s:n=vd.getSpotById(e),!n||!n.Event)return;let o=new Object;o.id=n.ID,o.eventKey=n.Event,o.type=n.type,this.sendWebEvent(o)}sendWebEvent(e){}dispose(){}reload(){Laya.Browser.window.location.reload()}},it=ox.getInstance()});var ax,lk,ck=b(()=>{"use strict";ax=class i{constructor(){this.pools=new Map;this.configs=new Map}static getInstance(){return i._instance||(i._instance=new i),i._instance}register(e,t,s=0,n=1/0){this.configs.set(e,{factory:t,maxSize:n}),this.pools.set(e,[]);for(let o=0;o<s;o++)this.release(e,t())}get(e,...t){let s=this.pools.get(e);if(!s)throw new Error(`Type ${e.name} not registered`);let n=s.length>0?s.pop():this.configs.get(e).factory();return n.init&&n.init(...t),n}release(e,t){let s=this.configs.get(e);if(!s)throw new Error(`Type ${e.name} not registered`);let n=this.pools.get(e);t.reset&&t.reset(),n.length<s.maxSize&&n.push(t)}clear(e){this.pools.set(e,[])}clearAll(){this.pools.clear()}},lk=ax.getInstance()});var Id,uk=b(()=>{"use strict";pi();Id=class extends ct{constructor(){super()}}});var Sd,pk=b(()=>{"use strict";pi();Sd=class extends ct{realIcon(){return"https://cdn.bunnyswap.cc/images/items/"+this.icon}get starArr(){if(this._starArr)return this._starArr;if(this._starArr=[],this.max_quality==0)return this._starArr;let t=this.quality/this.max_quality*5;for(let s=1;s<=5;s++)t>=s?this._starArr.push(0):s-t<=.5?this._starArr.push(2):this._starArr.push(1);return this._starArr}}});var kd,mk=b(()=>{"use strict";pi();kd=class extends ct{}});var Ed,hk=b(()=>{"use strict";pi();Ed=class extends ct{constructor(){super()}}});var Ld,dk=b(()=>{"use strict";pi();Ld=class extends ct{}});var wd,fk=b(()=>{"use strict";pi();wd=class extends ct{constructor(){super()}}});var Td,gk=b(()=>{"use strict";pi();Td=class extends ct{}});var Cd,bk=b(()=>{"use strict";pi();Cd=class extends ct{}});var Ad,yk=b(()=>{"use strict";pi();Ad=class extends ct{}});var Md,_k=b(()=>{"use strict";pi();Md=class extends ct{constructor(){super(...arguments);this.dT=1e4;this.lastPingTimestamp=0;this.pingFailCount=0}setDelay(t){this.dT=t,t<9999?(this.lastPingTimestamp=Date.now(),this.pingFailCount=0):this.pingFailCount++}getDisplayDelay(){if(this.dT<9999)return this.dT;if(this.lastPingTimestamp===0||this.pingFailCount>2)return 9999;let t=Date.now(),s=3*60*1e3;return t-this.lastPingTimestamp<s?Math.min(this.dT+100,9998):9999}async testUrl(){}getUrl(){var t=this.url;let s=new Date().getTime(),n=this,o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){if(o.status>=200&&o.status<300)try{let u=o.responseText;var l=new Date().getTime()-s;n.setDelay(l)}catch{console.log("Response is not valid JSON")}else console.error(`Error: ${o.status}`)},o.onerror=function(){console.error("Network error")},o.send()}}});var Rd,xk=b(()=>{"use strict";pi();Rd=class extends ct{}});var Bd,vk=b(()=>{"use strict";pi();Bd=class extends ct{}});var Dd,Ik=b(()=>{"use strict";pi();Dd=class extends ct{}});var Od,Sk=b(()=>{"use strict";pi();Od=class extends ct{}});var lx,K,St=b(()=>{"use strict";lx=class i{constructor(){this.IsRelease=!1;this.m_bInstantGame=!1;this.useWebVersion=!1;this.m_strVersionEX="V003";this.m_bIsMobWeb=!1;this.m_strWebTag="";this.Js_Version="1";this.Game_Version="20231227_01";this.App_Version="1.0.0";this.SDK_Version="1.0.0";this.M_strCountry="1";this.M_bAppData=!1;this.bookingId=0;this.teamId=0;this.referral="";this.showHeartLog=!1;this.ignoreLang=!1;this.ignoreSheetNo=!1;this.m_bIsIphoneX=!1;this.Debug=0;this.Res=0;this.isTest=!0;this.Server_URL="";this.IP_User="";this.Plantform_APPID="17";this.ServerId=22310001;this.Login_UID="-1";this._LoginType="gamecenter";this.isInto=!1;this.needDraw=!1;this.isFull=!1;this.justFull=!1;this.Login_UDID="81BC19A8-B49B-47CC-BEFE-193E723B521A";this.Device_Info="";this.FCM_Token="";this.APP_IsRelease=!0;this.User_Lan="en";this.UserAgent="";this.Login_UserName="";this.isWhite=!0;this.APP_RES="";this.COOKIE_CF_LAN="COOKIE_GG_LAN";this.COOKIE_CF_LoginType="COOKIE_CF_LoginType";this.IPHONEX_SCARE=1.22;this.IPHONEX_TOP=44;this.IPHONEX_BUTTOM=34;this.DESIGN_WIDTH=1280;this.DESIGN_HEIGHT=720;this._m_iTimeFrame=0}get LoginType(){return i._instance._LoginType}set LoginType(e){i._instance._LoginType=e,i._instance._LoginType&&i._instance._LoginType!=""&&Laya.LocalStorage.setItem(i._instance.COOKIE_CF_LoginType,i._instance._LoginType)}get isWhiteList(){return!0}static getInstance(){return i._instance||(i._instance=new i),i._instance}static get server(){return getServer()}get vType(){return getVType()}get vaddress(){return getVAddress()}get requestTime(){return 0}get loginTime(){return 0}set m_iTimeFrame(e){if(e>1500){let t=function(){i._instance._m_iTimeFrame=0};i._instance._m_iTimeFrame=e,Laya.timer.clear(Laya.timer,t),Laya.timer.once(500,Laya.timer,t)}}get m_iTimeFrame(){return i._instance._m_iTimeFrame}},K=lx.getInstance()});var Nd,kk=b(()=>{"use strict";pi();Nd=class extends ct{}});var Fd,Ek=b(()=>{"use strict";pi();Fd=class extends ct{}});var Pd,Lk=b(()=>{"use strict";pi();Pd=class extends ct{}});var Ne,Qu=b(()=>{"use strict";Ne=class{constructor(){}};Ne.NO_ALL=-1,Ne.YES=1,Ne.NO=2,Ne.SURE=4,Ne.CANCEL=8,Ne.CLOSE=16,Ne.RETURN_YES=1,Ne.RETURN_NO=2,Ne.RETURN_NONE=3,Ne.BASEALERTVIEW="BaseAlertDialog",Ne.MatchConfimDialog="MatchConfimDialog",Ne.InviteConfimDialog="InviteConfimDialog",Ne.ApplyConfimDialog="ApplyConfimDialog",Ne.BUYCONFIRMVIEW="BuyConfirmView",Ne.GUILDQUITVIEW="GuildQuitView",Ne.BuyItemConfirmView="BuyItemConfirmView",Ne.DOWNLOADALERT="DownLoadAlert"});var he,wi=b(()=>{"use strict";he=class{};he.M_SCENE_MAIN="M_SCENE_MAIN",he.M_SCENE_SHOP="M_SCENE_SHOP",he.M_SCENE_AIRDROP="M_SCENE_AIRDROP",he.M_SCENE_HERO="M_SCENE_HERO",he.M_SCENE_RANK="M_SCENE_RANK",he.M_SCENE_CLUB="M_SCENE_CLUB",he.M_SCENE_PRE_LOAD="M_SCENE_PRE_LOAD",he.M_SCENE_MATCH_READY="M_SCENE_MATCH_READY",he.M_SCENE_MATCH="M_SCENE_MATCH",he.M_SCENE_SNAKE_MATCH="M_SCENE_SNAKE_MATCH",he.M_SCENE_AI_ARENA="M_SCENE_AI_ARENA",he.M_SCENE_OPEN_GAME="M_SCENE_OPEN_GAME",he.M_SCENE_ASSET="M_SCENE_ASSET",he.M_SCENE_DIG="M_SCENE_DIG",he.M_SCENE_MAIL="M_SCENE_MAIL",he.M_SCENE_KNAPSACK="M_SCENE_KNAPSACK",he.M_SCENE_UNION="M_SCENE_UNION",he.M_SCENE_MYUNION="M_SCENE_MYUNION",he.M_SCENE_LCPOOL="M_SCENE_LCPOOL",he.M_SCENE_ARENA="M_SCENE_ARENA",he.M_SCENE_FRIEND="M_SCENE_FRIEND",he.M_SCENE_IGO_PAGE="M_SCENE_IGO_PAGE",he.M_SCENE_DAILY_TASK="M_SCENE_DAILY_TASK",he.M_SCENE_PVE="M_SCENE_PVE",he.M_SCENE_ROLE="M_SCENE_ROLE",he.M_SCENE_SETTING="M_SCENE_SETTING"});var cx,Mi,ux=b(()=>{"use strict";Qu();Vt();cx=class i{constructor(){}static getInstance(){return i._instance||(i._instance=new i),i._instance}AlertByType(e,t=null,s=0,n=null,o=null,l=!1,u=null){s==0&&(s=Ne.YES|Ne.NO),this.onLoaded(s,e,t,n,o,l,u)}onLoaded(e,t,s,n=null,o=null,l=!1,u=null){Oe.intance.openModule(t,{flag:e,okHandler:n,cancelHandler:o,data:s,destroyDoCancel:l,initHandler:u})}},Mi=cx.getInstance()});var px,je,Ri=b(()=>{"use strict";Vt();wi();ut();oi();We();px=class i{constructor(){this.mainSceneX=10086;this.isCloseAll=!0;v.on(E.EVENT_MODULE_ADDED,this,this.onAdded)}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){}setup(){}onAdded(e){}getPreSceneData(){if(this.m_arrFromScenes.length<1)return[he.M_SCENE_MAIN,!0,1,null];{let e=this.m_arrFromScenes.pop();return console.log("pop-----------route："+this.m_arrFromScenes.join(" | ")),e}}removePreSceneData(){this.m_arrFromScenes=[]}setMainScene(e=1,t=null){this.setCurrentScene(he.M_SCENE_MAIN,t)}async setCurrentScene(e,t=null){if(console.log("setCurrentScene: ",e,t),this.preSceneName=e,this.m_sceneCurrent&&this.m_sceneCurrent.name==e){console.log("currentScene："+this.m_sceneCurrent.name+"  openScene：："+e);return}switch(this.isCloseAll?Oe.intance.closeAll():this.isCloseAll=!0,this.m_sceneCurrent&&(this.m_arrFromScenes||(this.m_arrFromScenes=[]),console.log("open-----------scene："+this.m_arrFromScenes),this.fromScene=this.m_sceneCurrent.name,console.log("fromSceneName: "+this.fromScene)),e){case he.M_SCENE_MAIN:this.m_arrFromScenes=[],this.m_sceneCurrent=await Laya.Scene.open("scenes/mainView/MainScene.ls");break;case he.M_SCENE_SHOP:this.m_sceneCurrent=await Laya.Scene.open("scenes/shop/ShopScene.ls",!0,t);break;case he.M_SCENE_RANK:this.m_sceneCurrent=await Laya.Scene.open("scenes/rank/RankScene.ls");break;case he.M_SCENE_CLUB:this.m_sceneCurrent=await Laya.Scene.open("scenes/club/ClubScene.ls");break;case he.M_SCENE_FRIEND:this.m_sceneCurrent=await Laya.Scene.open("scenes/friend/FriendScene.ls");break;case he.M_SCENE_KNAPSACK:this.m_sceneCurrent=await Laya.Scene.open("scenes/knapsack/KnapsackScene.ls",!0,t);break;case he.M_SCENE_MAIL:this.m_sceneCurrent=await Laya.Scene.open("scenes/mail/MailScene.ls");break;case he.M_SCENE_SNAKE_MATCH:this.m_sceneCurrent=await Laya.Scene.open("scenes/match/SnakeMatch.ls");break;case he.M_SCENE_AI_ARENA:this.m_sceneCurrent=await Laya.Scene.open("scenes/match/AiArenaScene.ls");break;case he.M_SCENE_ASSET:this.m_sceneCurrent=await Laya.Scene.open("scenes/asset/AssetNewScene.ls",!0,t);break;case he.M_SCENE_ROLE:this.m_sceneCurrent=await Laya.Scene.open("scenes/createRole/RoleInfoScene.ls",!1,t);break;case he.M_SCENE_SETTING:this.m_sceneCurrent=await Laya.Scene.open("scenes/gameSetting/SettingScene.ls",!1,t);break;default:break}se.logs("======================  打开Scene: "+e+"  ======================"),this.m_sceneCurrent.name=e}get currSceneName(){return this.m_sceneCurrent?this.m_sceneCurrent.name:""}},je=px.getInstance()});var ai,mx=b(()=>{"use strict";Pi();ai=class{static initConfig(e){this.configDic=new Pe;for(let t of e){let s=t.sstringvalue;t.sadditional==="JSON"&&(s=JSON.parse(s)),this.configDic.set(t.skey2,s),this[t.skey2]=s}}};ai.ADDRESS0="0x0000000000000000000000000000000000000000",ai.TOKEN_ERC20ABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"miner",type:"address"}],name:"addMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_delMinter",type:"address"}],name:"delMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"idx",type:"uint256"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinterLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],ai.WITHDRAW_AND_RECHARGE_ADDRESS="",ai.WITHDRAW_AND_RECHARGE_ABI=""});var wk=nk((hx,dx)=>{"use strict";(function(i,e){typeof hx=="object"&&typeof dx<"u"?dx.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self).jsSHA=e()})(hx,function(){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function e(F,k,B,N){var z,C,Z,re=k||[0],ce=(B=B||0)>>>3,Se=N===-1?3:0;for(z=0;z<F.length;z+=1)C=(Z=z+ce)>>>2,re.length<=C&&re.push(0),re[C]|=F[z]<<8*(Se+N*(Z%4));return{value:re,binLen:8*F.length+B}}function t(F,k,B){switch(k){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(F){case"HEX":return function(N,z,C){return function(Z,re,ce,Se){var Ue,xe,Ae,st;if(Z.length%2!=0)throw new Error("String of HEX type must be in byte increments");var de=re||[0],bt=(ce=ce||0)>>>3,ht=Se===-1?3:0;for(Ue=0;Ue<Z.length;Ue+=2){if(xe=parseInt(Z.substr(Ue,2),16),isNaN(xe))throw new Error("String of HEX type contains invalid characters");for(Ae=(st=(Ue>>>1)+bt)>>>2;de.length<=Ae;)de.push(0);de[Ae]|=xe<<8*(ht+Se*(st%4))}return{value:de,binLen:4*Z.length+ce}}(N,z,C,B)};case"TEXT":return function(N,z,C){return function(Z,re,ce,Se,Ue){var xe,Ae,st,de,bt,ht,It,Ut,Rr=0,Fi=ce||[0],ar=(Se=Se||0)>>>3;if(re==="UTF8")for(It=Ue===-1?3:0,st=0;st<Z.length;st+=1)for(Ae=[],128>(xe=Z.charCodeAt(st))?Ae.push(xe):2048>xe?(Ae.push(192|xe>>>6),Ae.push(128|63&xe)):55296>xe||57344<=xe?Ae.push(224|xe>>>12,128|xe>>>6&63,128|63&xe):(st+=1,xe=65536+((1023&xe)<<10|1023&Z.charCodeAt(st)),Ae.push(240|xe>>>18,128|xe>>>12&63,128|xe>>>6&63,128|63&xe)),de=0;de<Ae.length;de+=1){for(bt=(ht=Rr+ar)>>>2;Fi.length<=bt;)Fi.push(0);Fi[bt]|=Ae[de]<<8*(It+Ue*(ht%4)),Rr+=1}else for(It=Ue===-1?2:0,Ut=re==="UTF16LE"&&Ue!==1||re!=="UTF16LE"&&Ue===1,st=0;st<Z.length;st+=1){for(xe=Z.charCodeAt(st),Ut===!0&&(xe=(de=255&xe)<<8|xe>>>8),bt=(ht=Rr+ar)>>>2;Fi.length<=bt;)Fi.push(0);Fi[bt]|=xe<<8*(It+Ue*(ht%4)),Rr+=2}return{value:Fi,binLen:8*Rr+Se}}(N,k,z,C,B)};case"B64":return function(N,z,C){return function(Z,re,ce,Se){var Ue,xe,Ae,st,de,bt,ht=0,It=re||[0],Ut=(ce=ce||0)>>>3,Rr=Se===-1?3:0,Fi=Z.indexOf("=");if(Z.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(Z=Z.replace(/=/g,""),Fi!==-1&&Fi<Z.length)throw new Error("Invalid '=' found in base-64 string");for(Ue=0;Ue<Z.length;Ue+=4){for(st=Z.substr(Ue,4),Ae=0,xe=0;xe<st.length;xe+=1)Ae|=i.indexOf(st.charAt(xe))<<18-6*xe;for(xe=0;xe<st.length-1;xe+=1){for(de=(bt=ht+Ut)>>>2;It.length<=de;)It.push(0);It[de]|=(Ae>>>16-8*xe&255)<<8*(Rr+Se*(bt%4)),ht+=1}}return{value:It,binLen:8*ht+ce}}(N,z,C,B)};case"BYTES":return function(N,z,C){return function(Z,re,ce,Se){var Ue,xe,Ae,st,de=re||[0],bt=(ce=ce||0)>>>3,ht=Se===-1?3:0;for(xe=0;xe<Z.length;xe+=1)Ue=Z.charCodeAt(xe),Ae=(st=xe+bt)>>>2,de.length<=Ae&&de.push(0),de[Ae]|=Ue<<8*(ht+Se*(st%4));return{value:de,binLen:8*Z.length+ce}}(N,z,C,B)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(N,z,C){return function(Z,re,ce,Se){return e(new Uint8Array(Z),re,ce,Se)}(N,z,C,B)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(N,z,C){return e(N,z,C,B)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function s(F,k,B,N){switch(F){case"HEX":return function(z){return function(C,Z,re,ce){var Se,Ue,xe="",Ae=Z/8,st=re===-1?3:0;for(Se=0;Se<Ae;Se+=1)Ue=C[Se>>>2]>>>8*(st+re*(Se%4)),xe+="0123456789abcdef".charAt(Ue>>>4&15)+"0123456789abcdef".charAt(15&Ue);return ce.outputUpper?xe.toUpperCase():xe}(z,k,B,N)};case"B64":return function(z){return function(C,Z,re,ce){var Se,Ue,xe,Ae,st,de="",bt=Z/8,ht=re===-1?3:0;for(Se=0;Se<bt;Se+=3)for(Ae=Se+1<bt?C[Se+1>>>2]:0,st=Se+2<bt?C[Se+2>>>2]:0,xe=(C[Se>>>2]>>>8*(ht+re*(Se%4))&255)<<16|(Ae>>>8*(ht+re*((Se+1)%4))&255)<<8|st>>>8*(ht+re*((Se+2)%4))&255,Ue=0;Ue<4;Ue+=1)de+=8*Se+6*Ue<=Z?i.charAt(xe>>>6*(3-Ue)&63):ce.b64Pad;return de}(z,k,B,N)};case"BYTES":return function(z){return function(C,Z,re){var ce,Se,Ue="",xe=Z/8,Ae=re===-1?3:0;for(ce=0;ce<xe;ce+=1)Se=C[ce>>>2]>>>8*(Ae+re*(ce%4))&255,Ue+=String.fromCharCode(Se);return Ue}(z,k,B)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(z){return function(C,Z,re){var ce,Se=Z/8,Ue=new ArrayBuffer(Se),xe=new Uint8Array(Ue),Ae=re===-1?3:0;for(ce=0;ce<Se;ce+=1)xe[ce]=C[ce>>>2]>>>8*(Ae+re*(ce%4))&255;return Ue}(z,k,B)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(z){return function(C,Z,re){var ce,Se=Z/8,Ue=re===-1?3:0,xe=new Uint8Array(Se);for(ce=0;ce<Se;ce+=1)xe[ce]=C[ce>>>2]>>>8*(Ue+re*(ce%4))&255;return xe}(z,k,B)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],l=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],u="Chosen SHA variant is not supported";function p(F,k){var B,N,z=F.binLen>>>3,C=k.binLen>>>3,Z=z<<3,re=4-z<<3;if(z%4!=0){for(B=0;B<C;B+=4)N=z+B>>>2,F.value[N]|=k.value[B>>>2]<<Z,F.value.push(0),F.value[N+1]|=k.value[B>>>2]>>>re;return(F.value.length<<2)-4>=C+z&&F.value.pop(),{value:F.value,binLen:F.binLen+k.binLen}}return{value:F.value.concat(k.value),binLen:F.binLen+k.binLen}}function m(F){var k={outputUpper:!1,b64Pad:"=",outputLen:-1},B=F||{},N="Output length must be a multiple of 8";if(k.outputUpper=B.outputUpper||!1,B.b64Pad&&(k.b64Pad=B.b64Pad),B.outputLen){if(B.outputLen%8!=0)throw new Error(N);k.outputLen=B.outputLen}else if(B.shakeLen){if(B.shakeLen%8!=0)throw new Error(N);k.outputLen=B.shakeLen}if(typeof k.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof k.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return k}function d(F,k,B,N){var z=F+" must include a value and format";if(!k){if(!N)throw new Error(z);return N}if(k.value===void 0||!k.format)throw new Error(z);return t(k.format,k.encoding||"UTF8",B)(k.value)}var f=function(){function F(k,B,N){var z=N||{};if(this.t=B,this.i=z.encoding||"UTF8",this.numRounds=z.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=k,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return F.prototype.update=function(k){var B,N=0,z=this.S>>>5,C=this.p(k,this.u,this.s),Z=C.binLen,re=C.value,ce=Z>>>5;for(B=0;B<ce;B+=z)N+this.S<=Z&&(this.m=this.R(re.slice(B,B+z),this.m),N+=this.S);this.v+=N,this.u=re.slice(N>>>5),this.s=Z%this.S,this.h=!0},F.prototype.getHash=function(k,B){var N,z,C=this.U,Z=m(B);if(this.T){if(Z.outputLen===-1)throw new Error("Output length must be specified in options");C=Z.outputLen}var re=s(k,C,this.C,Z);if(this.A&&this.F)return re(this.F(Z));for(z=this.K(this.u.slice(),this.s,this.v,this.B(this.m),C),N=1;N<this.numRounds;N+=1)this.T&&C%32!=0&&(z[z.length-1]&=16777215>>>24-C%32),z=this.K(z,C,0,this.L(this.o),C);return re(z)},F.prototype.setHMACKey=function(k,B,N){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var z=t(B,(N||{}).encoding||"UTF8",this.C);this.k(z(k))},F.prototype.k=function(k){var B,N=this.S>>>3,z=N/4-1;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(N<k.binLen/8&&(k.value=this.K(k.value,k.binLen,0,this.L(this.o),this.U));k.value.length<=z;)k.value.push(0);for(B=0;B<=z;B+=1)this.l[B]=909522486^k.value[B],this.H[B]=1549556828^k.value[B];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},F.prototype.getHMAC=function(k,B){var N=m(B);return s(k,this.U,this.C,N)(this.Y())},F.prototype.Y=function(){var k;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var B=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return k=this.R(this.H,this.L(this.o)),k=this.K(B,this.U,this.S,k,this.U)},F}(),g=function(F,k){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,N){B.__proto__=N}||function(B,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(B[z]=N[z])})(F,k)};function _(F,k){function B(){this.constructor=F}g(F,k),F.prototype=k===null?Object.create(k):(B.prototype=k.prototype,new B)}function S(F,k){return F<<k|F>>>32-k}function x(F,k){return F>>>k|F<<32-k}function I(F,k){return F>>>k}function M(F,k,B){return F^k^B}function A(F,k,B){return F&k^~F&B}function D(F,k,B){return F&k^F&B^k&B}function j(F){return x(F,2)^x(F,13)^x(F,22)}function W(F,k){var B=(65535&F)+(65535&k);return(65535&(F>>>16)+(k>>>16)+(B>>>16))<<16|65535&B}function U(F,k,B,N){var z=(65535&F)+(65535&k)+(65535&B)+(65535&N);return(65535&(F>>>16)+(k>>>16)+(B>>>16)+(N>>>16)+(z>>>16))<<16|65535&z}function J(F,k,B,N,z){var C=(65535&F)+(65535&k)+(65535&B)+(65535&N)+(65535&z);return(65535&(F>>>16)+(k>>>16)+(B>>>16)+(N>>>16)+(z>>>16)+(C>>>16))<<16|65535&C}function X(F){return x(F,7)^x(F,18)^I(F,3)}function ie(F){return x(F,6)^x(F,11)^x(F,25)}function Ie(F){return[1732584193,4023233417,2562383102,271733878,3285377520]}function ke(F,k){var B,N,z,C,Z,re,ce,Se=[];for(B=k[0],N=k[1],z=k[2],C=k[3],Z=k[4],ce=0;ce<80;ce+=1)Se[ce]=ce<16?F[ce]:S(Se[ce-3]^Se[ce-8]^Se[ce-14]^Se[ce-16],1),re=ce<20?J(S(B,5),A(N,z,C),Z,1518500249,Se[ce]):ce<40?J(S(B,5),M(N,z,C),Z,1859775393,Se[ce]):ce<60?J(S(B,5),D(N,z,C),Z,2400959708,Se[ce]):J(S(B,5),M(N,z,C),Z,3395469782,Se[ce]),Z=C,C=z,z=S(N,30),N=B,B=re;return k[0]=W(B,k[0]),k[1]=W(N,k[1]),k[2]=W(z,k[2]),k[3]=W(C,k[3]),k[4]=W(Z,k[4]),k}function De(F,k,B,N){for(var z,C=15+(k+65>>>9<<4),Z=k+B;F.length<=C;)F.push(0);for(F[k>>>5]|=128<<24-k%32,F[C]=4294967295&Z,F[C-1]=Z/4294967296|0,z=0;z<F.length;z+=16)N=ke(F.slice(z,z+16),N);return N}var ft=function(F){function k(B,N,z){var C=this;if(B!=="SHA-1")throw new Error(u);var Z=z||{};return(C=F.call(this,B,N,z)||this).g=!0,C.F=C.Y,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=ke,C.B=function(re){return re.slice()},C.L=Ie,C.K=De,C.m=[1732584193,4023233417,2562383102,271733878,3285377520],C.S=512,C.U=160,C.T=!1,Z.hmacKey&&C.k(d("hmacKey",Z.hmacKey,C.C)),C}return _(k,F),k}(f);function ye(F){return F=="SHA-224"?o.slice():l.slice()}function ue(F,k){var B,N,z,C,Z,re,ce,Se,Ue,xe,Ae,st,de=[];for(B=k[0],N=k[1],z=k[2],C=k[3],Z=k[4],re=k[5],ce=k[6],Se=k[7],Ae=0;Ae<64;Ae+=1)de[Ae]=Ae<16?F[Ae]:U(x(st=de[Ae-2],17)^x(st,19)^I(st,10),de[Ae-7],X(de[Ae-15]),de[Ae-16]),Ue=J(Se,ie(Z),A(Z,re,ce),n[Ae],de[Ae]),xe=W(j(B),D(B,N,z)),Se=ce,ce=re,re=Z,Z=W(C,Ue),C=z,z=N,N=B,B=W(Ue,xe);return k[0]=W(B,k[0]),k[1]=W(N,k[1]),k[2]=W(z,k[2]),k[3]=W(C,k[3]),k[4]=W(Z,k[4]),k[5]=W(re,k[5]),k[6]=W(ce,k[6]),k[7]=W(Se,k[7]),k}var me=function(F){function k(B,N,z){var C=this;if(B!=="SHA-224"&&B!=="SHA-256")throw new Error(u);var Z=z||{};return(C=F.call(this,B,N,z)||this).F=C.Y,C.g=!0,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=ue,C.B=function(re){return re.slice()},C.L=ye,C.K=function(re,ce,Se,Ue){return function(xe,Ae,st,de,bt){for(var ht,It=15+(Ae+65>>>9<<4),Ut=Ae+st;xe.length<=It;)xe.push(0);for(xe[Ae>>>5]|=128<<24-Ae%32,xe[It]=4294967295&Ut,xe[It-1]=Ut/4294967296|0,ht=0;ht<xe.length;ht+=16)de=ue(xe.slice(ht,ht+16),de);return bt==="SHA-224"?[de[0],de[1],de[2],de[3],de[4],de[5],de[6]]:de}(re,ce,Se,Ue,B)},C.m=ye(B),C.S=512,C.U=B==="SHA-224"?224:256,C.T=!1,Z.hmacKey&&C.k(d("hmacKey",Z.hmacKey,C.C)),C}return _(k,F),k}(f),R=function(F,k){this.N=F,this.I=k};function Fe(F,k){var B;return k>32?(B=64-k,new R(F.I<<k|F.N>>>B,F.N<<k|F.I>>>B)):k!==0?(B=32-k,new R(F.N<<k|F.I>>>B,F.I<<k|F.N>>>B)):F}function pe(F,k){var B;return k<32?(B=32-k,new R(F.N>>>k|F.I<<B,F.I>>>k|F.N<<B)):(B=64-k,new R(F.I>>>k|F.N<<B,F.N>>>k|F.I<<B))}function $e(F,k){return new R(F.N>>>k,F.I>>>k|F.N<<32-k)}function Ct(F,k,B){return new R(F.N&k.N^~F.N&B.N,F.I&k.I^~F.I&B.I)}function si(F,k,B){return new R(F.N&k.N^F.N&B.N^k.N&B.N,F.I&k.I^F.I&B.I^k.I&B.I)}function Li(F){var k=pe(F,28),B=pe(F,34),N=pe(F,39);return new R(k.N^B.N^N.N,k.I^B.I^N.I)}function wt(F,k){var B,N;B=(65535&F.I)+(65535&k.I);var z=(65535&(N=(F.I>>>16)+(k.I>>>16)+(B>>>16)))<<16|65535&B;return B=(65535&F.N)+(65535&k.N)+(N>>>16),N=(F.N>>>16)+(k.N>>>16)+(B>>>16),new R((65535&N)<<16|65535&B,z)}function or(F,k,B,N){var z,C;z=(65535&F.I)+(65535&k.I)+(65535&B.I)+(65535&N.I);var Z=(65535&(C=(F.I>>>16)+(k.I>>>16)+(B.I>>>16)+(N.I>>>16)+(z>>>16)))<<16|65535&z;return z=(65535&F.N)+(65535&k.N)+(65535&B.N)+(65535&N.N)+(C>>>16),C=(F.N>>>16)+(k.N>>>16)+(B.N>>>16)+(N.N>>>16)+(z>>>16),new R((65535&C)<<16|65535&z,Z)}function Xi(F,k,B,N,z){var C,Z;C=(65535&F.I)+(65535&k.I)+(65535&B.I)+(65535&N.I)+(65535&z.I);var re=(65535&(Z=(F.I>>>16)+(k.I>>>16)+(B.I>>>16)+(N.I>>>16)+(z.I>>>16)+(C>>>16)))<<16|65535&C;return C=(65535&F.N)+(65535&k.N)+(65535&B.N)+(65535&N.N)+(65535&z.N)+(Z>>>16),Z=(F.N>>>16)+(k.N>>>16)+(B.N>>>16)+(N.N>>>16)+(z.N>>>16)+(C>>>16),new R((65535&Z)<<16|65535&C,re)}function Ar(F,k){return new R(F.N^k.N,F.I^k.I)}function Mr(F){var k=pe(F,1),B=pe(F,8),N=$e(F,7);return new R(k.N^B.N^N.N,k.I^B.I^N.I)}function $r(F){var k=pe(F,14),B=pe(F,18),N=pe(F,41);return new R(k.N^B.N^N.N,k.I^B.I^N.I)}var yn=[new R(n[0],3609767458),new R(n[1],602891725),new R(n[2],3964484399),new R(n[3],2173295548),new R(n[4],4081628472),new R(n[5],3053834265),new R(n[6],2937671579),new R(n[7],3664609560),new R(n[8],2734883394),new R(n[9],1164996542),new R(n[10],1323610764),new R(n[11],3590304994),new R(n[12],4068182383),new R(n[13],991336113),new R(n[14],633803317),new R(n[15],3479774868),new R(n[16],2666613458),new R(n[17],944711139),new R(n[18],2341262773),new R(n[19],2007800933),new R(n[20],1495990901),new R(n[21],1856431235),new R(n[22],3175218132),new R(n[23],2198950837),new R(n[24],3999719339),new R(n[25],766784016),new R(n[26],2566594879),new R(n[27],3203337956),new R(n[28],1034457026),new R(n[29],2466948901),new R(n[30],3758326383),new R(n[31],168717936),new R(n[32],1188179964),new R(n[33],1546045734),new R(n[34],1522805485),new R(n[35],2643833823),new R(n[36],2343527390),new R(n[37],1014477480),new R(n[38],1206759142),new R(n[39],344077627),new R(n[40],1290863460),new R(n[41],3158454273),new R(n[42],3505952657),new R(n[43],106217008),new R(n[44],3606008344),new R(n[45],1432725776),new R(n[46],1467031594),new R(n[47],851169720),new R(n[48],3100823752),new R(n[49],1363258195),new R(n[50],3750685593),new R(n[51],3785050280),new R(n[52],3318307427),new R(n[53],3812723403),new R(n[54],2003034995),new R(n[55],3602036899),new R(n[56],1575990012),new R(n[57],1125592928),new R(n[58],2716904306),new R(n[59],442776044),new R(n[60],593698344),new R(n[61],3733110249),new R(n[62],2999351573),new R(n[63],3815920427),new R(3391569614,3928383900),new R(3515267271,566280711),new R(3940187606,3454069534),new R(4118630271,4000239992),new R(116418474,1914138554),new R(174292421,2731055270),new R(289380356,3203993006),new R(460393269,320620315),new R(685471733,587496836),new R(852142971,1086792851),new R(1017036298,365543100),new R(1126000580,2618297676),new R(1288033470,3409855158),new R(1501505948,4234509866),new R(1607167915,987167468),new R(1816402316,1246189591)];function qr(F){return F==="SHA-384"?[new R(3418070365,o[0]),new R(1654270250,o[1]),new R(2438529370,o[2]),new R(355462360,o[3]),new R(1731405415,o[4]),new R(41048885895,o[5]),new R(3675008525,o[6]),new R(1203062813,o[7])]:[new R(l[0],4089235720),new R(l[1],2227873595),new R(l[2],4271175723),new R(l[3],1595750129),new R(l[4],2917565137),new R(l[5],725511199),new R(l[6],4215389547),new R(l[7],327033209)]}function br(F,k){var B,N,z,C,Z,re,ce,Se,Ue,xe,Ae,st,de,bt,ht,It,Ut=[];for(B=k[0],N=k[1],z=k[2],C=k[3],Z=k[4],re=k[5],ce=k[6],Se=k[7],Ae=0;Ae<80;Ae+=1)Ae<16?(st=2*Ae,Ut[Ae]=new R(F[st],F[st+1])):Ut[Ae]=or((de=Ut[Ae-2],bt=void 0,ht=void 0,It=void 0,bt=pe(de,19),ht=pe(de,61),It=$e(de,6),new R(bt.N^ht.N^It.N,bt.I^ht.I^It.I)),Ut[Ae-7],Mr(Ut[Ae-15]),Ut[Ae-16]),Ue=Xi(Se,$r(Z),Ct(Z,re,ce),yn[Ae],Ut[Ae]),xe=wt(Li(B),si(B,N,z)),Se=ce,ce=re,re=Z,Z=wt(C,Ue),C=z,z=N,N=B,B=wt(Ue,xe);return k[0]=wt(B,k[0]),k[1]=wt(N,k[1]),k[2]=wt(z,k[2]),k[3]=wt(C,k[3]),k[4]=wt(Z,k[4]),k[5]=wt(re,k[5]),k[6]=wt(ce,k[6]),k[7]=wt(Se,k[7]),k}var _s=function(F){function k(B,N,z){var C=this;if(B!=="SHA-384"&&B!=="SHA-512")throw new Error(u);var Z=z||{};return(C=F.call(this,B,N,z)||this).F=C.Y,C.g=!0,C.C=-1,C.p=t(C.t,C.i,C.C),C.R=br,C.B=function(re){return re.slice()},C.L=qr,C.K=function(re,ce,Se,Ue){return function(xe,Ae,st,de,bt){for(var ht,It=31+(Ae+129>>>10<<5),Ut=Ae+st;xe.length<=It;)xe.push(0);for(xe[Ae>>>5]|=128<<24-Ae%32,xe[It]=4294967295&Ut,xe[It-1]=Ut/4294967296|0,ht=0;ht<xe.length;ht+=32)de=br(xe.slice(ht,ht+32),de);return bt==="SHA-384"?[(de=de)[0].N,de[0].I,de[1].N,de[1].I,de[2].N,de[2].I,de[3].N,de[3].I,de[4].N,de[4].I,de[5].N,de[5].I]:[de[0].N,de[0].I,de[1].N,de[1].I,de[2].N,de[2].I,de[3].N,de[3].I,de[4].N,de[4].I,de[5].N,de[5].I,de[6].N,de[6].I,de[7].N,de[7].I]}(re,ce,Se,Ue,B)},C.m=qr(B),C.S=1024,C.U=B==="SHA-384"?384:512,C.T=!1,Z.hmacKey&&C.k(d("hmacKey",Z.hmacKey,C.C)),C}return _(k,F),k}(f),Yr=[new R(0,1),new R(0,32898),new R(2147483648,32906),new R(2147483648,2147516416),new R(0,32907),new R(0,2147483649),new R(2147483648,2147516545),new R(2147483648,32777),new R(0,138),new R(0,136),new R(0,2147516425),new R(0,2147483658),new R(0,2147516555),new R(2147483648,139),new R(2147483648,32905),new R(2147483648,32771),new R(2147483648,32770),new R(2147483648,128),new R(0,32778),new R(2147483648,2147483658),new R(2147483648,2147516545),new R(2147483648,32896),new R(0,2147483649),new R(2147483648,2147516424)],go=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function _a(F){var k,B=[];for(k=0;k<5;k+=1)B[k]=[new R(0,0),new R(0,0),new R(0,0),new R(0,0),new R(0,0)];return B}function vm(F){var k,B=[];for(k=0;k<5;k+=1)B[k]=F[k].slice();return B}function bo(F,k){var B,N,z,C,Z,re,ce,Se,Ue,xe=[],Ae=[];if(F!==null)for(N=0;N<F.length;N+=2)k[(N>>>1)%5][(N>>>1)/5|0]=Ar(k[(N>>>1)%5][(N>>>1)/5|0],new R(F[N+1],F[N]));for(B=0;B<24;B+=1){for(C=_a(),N=0;N<5;N+=1)xe[N]=(Z=k[N][0],re=k[N][1],ce=k[N][2],Se=k[N][3],Ue=k[N][4],new R(Z.N^re.N^ce.N^Se.N^Ue.N,Z.I^re.I^ce.I^Se.I^Ue.I));for(N=0;N<5;N+=1)Ae[N]=Ar(xe[(N+4)%5],Fe(xe[(N+1)%5],1));for(N=0;N<5;N+=1)for(z=0;z<5;z+=1)k[N][z]=Ar(k[N][z],Ae[N]);for(N=0;N<5;N+=1)for(z=0;z<5;z+=1)C[z][(2*N+3*z)%5]=Fe(k[N][z],go[N][z]);for(N=0;N<5;N+=1)for(z=0;z<5;z+=1)k[N][z]=Ar(C[N][z],new R(~C[(N+1)%5][z].N&C[(N+2)%5][z].N,~C[(N+1)%5][z].I&C[(N+2)%5][z].I));k[0][0]=Ar(k[0][0],Yr[B])}return k}function tc(F){var k,B,N=0,z=[0,0],C=[4294967295&F,F/4294967296&2097151];for(k=6;k>=0;k--)(B=C[k>>2]>>>8*k&255)===0&&N===0||(z[N+1>>2]|=B<<8*(N+1),N+=1);return N=N!==0?N:1,z[0]|=N,{value:N+1>4?z:[z[0]],binLen:8+8*N}}function xa(F){return p(tc(F.binLen),F)}function ic(F,k){var B,N=tc(k),z=k>>>2,C=(z-(N=p(N,F)).value.length%z)%z;for(B=0;B<C;B++)N.value.push(0);return N.value}var Im=function(F){function k(B,N,z){var C=this,Z=6,re=0,ce=z||{};if((C=F.call(this,B,N,z)||this).numRounds!==1){if(ce.kmacKey||ce.hmacKey)throw new Error("Cannot set numRounds with MAC");if(C.o==="CSHAKE128"||C.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(C.C=1,C.p=t(C.t,C.i,C.C),C.R=bo,C.B=vm,C.L=_a,C.m=_a(),C.T=!1,B){case"SHA3-224":C.S=re=1152,C.U=224,C.g=!0,C.F=C.Y;break;case"SHA3-256":C.S=re=1088,C.U=256,C.g=!0,C.F=C.Y;break;case"SHA3-384":C.S=re=832,C.U=384,C.g=!0,C.F=C.Y;break;case"SHA3-512":C.S=re=576,C.U=512,C.g=!0,C.F=C.Y;break;case"SHAKE128":Z=31,C.S=re=1344,C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"SHAKE256":Z=31,C.S=re=1088,C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"KMAC128":Z=4,C.S=re=1344,C.M(z),C.U=-1,C.T=!0,C.g=!1,C.F=C.X;break;case"KMAC256":Z=4,C.S=re=1088,C.M(z),C.U=-1,C.T=!0,C.g=!1,C.F=C.X;break;case"CSHAKE128":C.S=re=1344,Z=C.O(z),C.U=-1,C.T=!0,C.g=!1,C.F=null;break;case"CSHAKE256":C.S=re=1088,Z=C.O(z),C.U=-1,C.T=!0,C.g=!1,C.F=null;break;default:throw new Error(u)}return C.K=function(Se,Ue,xe,Ae,st){return function(de,bt,ht,It,Ut,Rr,Fi){var ar,va,yo=0,_n=[],_o=Ut>>>5,xn=bt>>>5;for(ar=0;ar<xn&&bt>=Ut;ar+=_o)It=bo(de.slice(ar,ar+_o),It),bt-=Ut;for(de=de.slice(ar),bt%=Ut;de.length<_o;)de.push(0);for(de[(ar=bt>>>3)>>2]^=Rr<<ar%4*8,de[_o-1]^=2147483648,It=bo(de,It);32*_n.length<Fi&&(va=It[yo%5][yo/5|0],_n.push(va.I),!(32*_n.length>=Fi));)_n.push(va.N),64*(yo+=1)%Ut==0&&(bo(null,It),yo=0);return _n}(Se,Ue,0,Ae,re,Z,st)},ce.hmacKey&&C.k(d("hmacKey",ce.hmacKey,C.C)),C}return _(k,F),k.prototype.O=function(B,N){var z=function(ce){var Se=ce||{};return{funcName:d("funcName",Se.funcName,1,{value:[],binLen:0}),customization:d("Customization",Se.customization,1,{value:[],binLen:0})}}(B||{});N&&(z.funcName=N);var C=p(xa(z.funcName),xa(z.customization));if(z.customization.binLen!==0||z.funcName.binLen!==0){for(var Z=ic(C,this.S>>>3),re=0;re<Z.length;re+=this.S>>>5)this.m=this.R(Z.slice(re,re+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},k.prototype.M=function(B){var N=function(Z){var re=Z||{};return{kmacKey:d("kmacKey",re.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:d("Customization",re.customization,1,{value:[],binLen:0})}}(B||{});this.O(B,N.funcName);for(var z=ic(xa(N.kmacKey),this.S>>>3),C=0;C<z.length;C+=this.S>>>5)this.m=this.R(z.slice(C,C+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},k.prototype.X=function(B){var N=p({value:this.u.slice(),binLen:this.s},function(z){var C,Z,re=0,ce=[0,0],Se=[4294967295&z,z/4294967296&2097151];for(C=6;C>=0;C--)(Z=Se[C>>2]>>>8*C&255)==0&&re===0||(ce[re>>2]|=Z<<8*re,re+=1);return ce[(re=re!==0?re:1)>>2]|=re<<8*re,{value:re+1>4?ce:[ce[0]],binLen:8+8*re}}(B.outputLen));return this.K(N.value,N.binLen,this.v,this.B(this.m),B.outputLen)},k}(f);return function(){function F(k,B,N){if(k=="SHA-1")this.j=new ft(k,B,N);else if(k=="SHA-224"||k=="SHA-256")this.j=new me(k,B,N);else if(k=="SHA-384"||k=="SHA-512")this.j=new _s(k,B,N);else{if(k!="SHA3-224"&&k!="SHA3-256"&&k!="SHA3-384"&&k!="SHA3-512"&&k!="SHAKE128"&&k!="SHAKE256"&&k!="CSHAKE128"&&k!="CSHAKE256"&&k!="KMAC128"&&k!="KMAC256")throw new Error(u);this.j=new Im(k,B,N)}}return F.prototype.update=function(k){this.j.update(k)},F.prototype.getHash=function(k,B){return this.j.getHash(k,B)},F.prototype.setHMACKey=function(k,B,N){this.j.setHMACKey(k,B,N)},F.prototype.getHMAC=function(k,B){return this.j.getHMAC(k,B)},F}()})});var xs,fx=b(()=>{"use strict";lr();Pi();xs=class{static getInviteUrl(){return window.location.origin+"?invite="+this.encode(He.walletAddress)}static encode(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",s=t.length,n=t.split(""),o="",l,u,p,m,d=0;d<e.length;d++)l=e.charCodeAt(d),u=l%s,l=(l-u)/s,p=l%s,l=(l-p)/s,m=l%s,o+=n[m]+n[p]+n[u];return window.btoa(o)}static decode(e){e=window.atob(e);var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",s=t.length,n,o,l,u,p=0,m;m=new Array(Math.floor(e.length/3)),n=m.length;for(var d=0;d<n;d++)o=t.indexOf(e.charAt(p)),p++,l=t.indexOf(e.charAt(p)),p++,u=t.indexOf(e.charAt(p)),p++,m[d]=o*s*s+l*s+u;return n=decodeCharCode(m.join(",")),n}static getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(t);return s!=null?s[2]:""}static getInviteWalletAddress(){let e=this.getQueryString("invite");return e&&(e=this.decode(e)),e}static toWei(e,t){let s=e*10**parseInt(t);return window.web3.utils.toBN("0x"+s.toString(16)).toString()}static fromWei(e,t,s=0){if(!e)return 0;let n=e.length-t+s;if(n<=0)return 0;let o=e.toString().slice(0,n);if(s){let l=o.length-s;if(l<=0){let u="0.";for(let p=0;p<Math.abs(l);p++)u+="0";o=u+o}else o=o.slice(0,o.length-s)+"."+o.slice(o.length-s)}return o}static deepClone(e){let t=new Pe;for(let s in e)typeof e[s]=="function"?t[s]=e[s]:t[s]=JSON.parse(JSON.stringify(e[s]));return t}}});var Tk,Ck=b(()=>{"use strict";Tk="1.0.8"});var mi,Sa=b(()=>{"use strict";Ck();mi=class i extends Error{constructor(e,t={}){let s=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof i&&t.cause.docsPath||t.docsPath,o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${Tk}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=s,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}});function yr(i,e){return i.exec(e)?.groups}var gx,bx,Ud,Xu=b(()=>{"use strict";gx=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bx=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ud=/^\(.+?\).*?$/});function Hd(i){let e=i.type;if(Ak.test(i.type)&&"components"in i){e="(";let t=i.components.length;for(let n=0;n<t;n++){let o=i.components[n];e+=Hd(o),n<t-1&&(e+=", ")}let s=yr(Ak,i.type);return e+=`)${s?.array??""}`,Hd({...i,type:e})}return"indexed"in i&&i.indexed&&(e=`${e} indexed`),i.name?`${e} ${i.name}`:e}var Ak,Mk=b(()=>{"use strict";Xu();Ak=/^tuple(?<array>(\[(\d*)\])*)$/});function ka(i){let e="",t=i.length;for(let s=0;s<t;s++){let n=i[s];e+=Hd(n),s!==t-1&&(e+=", ")}return e}var Rk=b(()=>{"use strict";Mk()});function So(i){return i.type==="function"?`function ${i.name}(${ka(i.inputs)})${i.stateMutability&&i.stateMutability!=="nonpayable"?` ${i.stateMutability}`:""}${i.outputs?.length?` returns (${ka(i.outputs)})`:""}`:i.type==="event"?`event ${i.name}(${ka(i.inputs)})`:i.type==="error"?`error ${i.name}(${ka(i.inputs)})`:i.type==="constructor"?`constructor(${ka(i.inputs)})${i.stateMutability==="payable"?" payable":""}`:i.type==="fallback"?`fallback() external${i.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var Bk=b(()=>{"use strict";Rk()});function Ok(i){return Dk.test(i)}function Nk(i){return yr(Dk,i)}function Pk(i){return Fk.test(i)}function Uk(i){return yr(Fk,i)}function zk(i){return Hk.test(i)}function jk(i){return yr(Hk,i)}function Ea(i){return Gk.test(i)}function Vk(i){return yr(Gk,i)}function Kk(i){return Wk.test(i)}function $k(i){return yr(Wk,i)}function Yk(i){return qk.test(i)}function Qk(i){return yr(qk,i)}function Xk(i){return R2.test(i)}var Dk,Fk,Hk,Gk,Wk,qk,R2,Jk,zd,Ju=b(()=>{"use strict";Xu();Dk=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Fk=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Hk=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;Gk=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;Wk=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;qk=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;R2=/^receive\(\) external payable$/;Jk=new Set(["indexed"]),zd=new Set(["calldata","memory","storage"])});var jd,Gd,Vd,Wd=b(()=>{"use strict";Sa();jd=class extends mi{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},Gd=class extends mi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},Vd=class extends mi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var Kd,$d,qd,Yd,Qd,yx=b(()=>{"use strict";Sa();Kd=class extends mi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},$d=class extends mi{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},qd=class extends mi{constructor({param:e,type:t,modifier:s}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${s}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},Yd=class extends mi{constructor({param:e,type:t,modifier:s}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${s}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},Qd=class extends mi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var vs,Xd,Jd,_x=b(()=>{"use strict";Sa();vs=class extends mi{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},Xd=class extends mi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},Jd=class extends mi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var Zd,Zk=b(()=>{"use strict";Sa();Zd=class extends mi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var ef,eE=b(()=>{"use strict";Sa();ef=class extends mi{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function tE(i,e,t){let s="";if(t)for(let n of Object.entries(t)){if(!n)continue;let o="";for(let l of n[1])o+=`[${l.type}${l.name?`:${l.name}`:""}]`;s+=`(${n[0]}{${o}})`}return e?`${e}:${i}${s}`:i}var tf,iE=b(()=>{"use strict";tf=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function Zu(i,e={}){if(zk(i))return B2(i,e);if(Pk(i))return D2(i,e);if(Ok(i))return O2(i,e);if(Kk(i))return N2(i,e);if(Yk(i))return F2(i);if(Xk(i))return{type:"receive",stateMutability:"payable"};throw new Xd({signature:i})}function B2(i,e={}){let t=jk(i);if(!t)throw new vs({signature:i,type:"function"});let s=Xr(t.parameters),n=[],o=s.length;for(let u=0;u<o;u++)n.push(Sn(s[u],{modifiers:zd,structs:e,type:"function"}));let l=[];if(t.returns){let u=Xr(t.returns),p=u.length;for(let m=0;m<p;m++)l.push(Sn(u[m],{modifiers:zd,structs:e,type:"function"}))}return{name:t.name,type:"function",stateMutability:t.stateMutability??"nonpayable",inputs:n,outputs:l}}function D2(i,e={}){let t=Uk(i);if(!t)throw new vs({signature:i,type:"event"});let s=Xr(t.parameters),n=[],o=s.length;for(let l=0;l<o;l++)n.push(Sn(s[l],{modifiers:Jk,structs:e,type:"event"}));return{name:t.name,type:"event",inputs:n}}function O2(i,e={}){let t=Nk(i);if(!t)throw new vs({signature:i,type:"error"});let s=Xr(t.parameters),n=[],o=s.length;for(let l=0;l<o;l++)n.push(Sn(s[l],{structs:e,type:"error"}));return{name:t.name,type:"error",inputs:n}}function N2(i,e={}){let t=$k(i);if(!t)throw new vs({signature:i,type:"constructor"});let s=Xr(t.parameters),n=[],o=s.length;for(let l=0;l<o;l++)n.push(Sn(s[l],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:t.stateMutability??"nonpayable",inputs:n}}function F2(i){let e=Qk(i);if(!e)throw new vs({signature:i,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}function Sn(i,e){let t=tE(i,e?.type,e?.structs);if(tf.has(t))return tf.get(t);let s=Ud.test(i),n=yr(s?U2:P2,i);if(!n)throw new Kd({param:i});if(n.name&&j2(n.name))throw new $d({param:i,name:n.name});let o=n.name?{name:n.name}:{},l=n.modifier==="indexed"?{indexed:!0}:{},u=e?.structs??{},p,m={};if(s){p="tuple";let f=Xr(n.type),g=[],_=f.length;for(let S=0;S<_;S++)g.push(Sn(f[S],{structs:u}));m={components:g}}else if(n.type in u)p="tuple",m={components:u[n.type]};else if(H2.test(n.type))p=`${n.type}256`;else if(p=n.type,e?.type!=="struct"&&!xx(p))throw new Vd({type:p});if(n.modifier){if(!e?.modifiers?.has?.(n.modifier))throw new qd({param:i,type:e?.type,modifier:n.modifier});if(zd.has(n.modifier)&&!G2(p,!!n.array))throw new Yd({param:i,type:e?.type,modifier:n.modifier})}let d={type:`${p}${n.array??""}`,...o,...l,...m};return tf.set(t,d),d}function Xr(i,e=[],t="",s=0){let n=i.trim().length;for(let o=0;o<n;o++){let l=i[o],u=i.slice(o+1);switch(l){case",":return s===0?Xr(u,[...e,t.trim()]):Xr(u,e,`${t}${l}`,s);case"(":return Xr(u,e,`${t}${l}`,s+1);case")":return Xr(u,e,`${t}${l}`,s-1);default:return Xr(u,e,`${t}${l}`,s)}}if(t==="")return e;if(s!==0)throw new ef({current:t,depth:s});return e.push(t.trim()),e}function xx(i){return i==="address"||i==="bool"||i==="function"||i==="string"||gx.test(i)||bx.test(i)}function j2(i){return i==="address"||i==="bool"||i==="function"||i==="string"||i==="tuple"||gx.test(i)||bx.test(i)||z2.test(i)}function G2(i,e){return e||i==="bytes"||i==="string"||i==="tuple"}var P2,U2,H2,z2,rf=b(()=>{"use strict";Xu();Wd();yx();_x();eE();iE();Ju();P2=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,U2=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,H2=/^u?int$/;z2=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function sf(i){let e={},t=i.length;for(let l=0;l<t;l++){let u=i[l];if(!Ea(u))continue;let p=Vk(u);if(!p)throw new vs({signature:u,type:"struct"});let m=p.properties.split(";"),d=[],f=m.length;for(let g=0;g<f;g++){let S=m[g].trim();if(!S)continue;let x=Sn(S,{type:"struct"});d.push(x)}if(!d.length)throw new Jd({signature:u});e[p.name]=d}let s={},n=Object.entries(e),o=n.length;for(let l=0;l<o;l++){let[u,p]=n[l];s[u]=rE(p,e)}return s}function rE(i,e,t=new Set){let s=[],n=i.length;for(let o=0;o<n;o++){let l=i[o];if(Ud.test(l.type))s.push(l);else{let p=yr(V2,l.type);if(!p?.type)throw new Qd({abiParameter:l});let{array:m,type:d}=p;if(d in e){if(t.has(d))throw new Zd({type:d});s.push({...l,type:`tuple${m??""}`,components:rE(e[d]??[],e,new Set([...t,d]))})}else if(xx(d))s.push(l);else throw new Gd({type:d})}}return s}var V2,vx=b(()=>{"use strict";Xu();Wd();yx();_x();Zk();Ju();rf();V2=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function nf(i){let e=sf(i),t=[],s=i.length;for(let n=0;n<s;n++){let o=i[n];Ea(o)||t.push(Zu(o,e))}return t}var sE=b(()=>{"use strict";Ju();vx();rf()});function of(i){let e;if(typeof i=="string")e=Zu(i);else{let t=sf(i),s=i.length;for(let n=0;n<s;n++){let o=i[n];if(!Ea(o)){e=Zu(o,t);break}}}if(!e)throw new jd({signature:i});return e}var nE=b(()=>{"use strict";Wd();Ju();vx();rf()});var af=b(()=>{"use strict";Bk();sE();nE()});function Ee(i,e,t){let s=i[e.name];if(typeof s=="function")return s;let n=i[t];return typeof n=="function"?n:o=>e(i,o)}var Ht=b(()=>{"use strict"});function Zi(i,{includeName:e=!1}={}){if(i.type!=="function"&&i.type!=="event"&&i.type!=="error")throw new lf(i.type);return`${i.name}(${ep(i.inputs,{includeName:e})})`}function ep(i,{includeName:e=!1}={}){return i?i.map(t=>K2(t,{includeName:e})).join(e?", ":","):""}function K2(i,{includeName:e}){return i.type.startsWith("tuple")?`(${ep(i.components,{includeName:e})})${i.type.slice(5)}`:i.type+(e&&i.name?` ${i.name}`:"")}var ko=b(()=>{"use strict";bi()});function li(i,{strict:e=!0}={}){return!i||typeof i!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(i):i.startsWith("0x")}var Jr=b(()=>{"use strict"});function kt(i){return li(i,{strict:!1})?Math.ceil((i.length-2)/2):i.length}var Zr=b(()=>{"use strict";Jr()});var Ix,oE=b(()=>{"use strict";Ix="2.26.2"});function aE(i,e){return e?.(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause!==void 0?aE(i.cause,e):e?null:i}var Sx,G,pt=b(()=>{"use strict";oE();Sx={getDocsUrl:({docsBaseUrl:i,docsPath:e="",docsSlug:t})=>e?`${i??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${Ix}`},G=class i extends Error{constructor(e,t={}){let s=(()=>t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details)(),n=(()=>t.cause instanceof i&&t.cause.docsPath||t.docsPath)(),o=Sx.getDocsUrl?.({...t,docsPath:n}),l=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...s?[`Details: ${s}`]:[],...Sx.version?[`Version: ${Sx.version}`]:[]].join(`
`);super(l,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=Ix}walk(e){return aE(this,e)}}});var cf,tp,La,Br,uf,pf,mf,wa,hf,Ta,ip,kn,df,ff,gf,es,Is,bf,yf,_f,lf,bi=b(()=>{"use strict";ko();Zr();pt();cf=class extends G{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},tp=class extends G{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},La=class extends G{constructor({data:e,params:t,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ep(t,{includeName:!0})})`,`Data:   ${e} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=s}},Br=class extends G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},uf=class extends G{constructor({expectedLength:e,givenLength:t,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${e}`,`Given length: ${t}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},pf=class extends G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${kt(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},mf=class extends G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},wa=class extends G{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},hf=class extends G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},Ta=class extends G{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}},ip=class extends G{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:t,name:"AbiEventNotFoundError"})}},kn=class extends G{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionNotFoundError"})}},df=class extends G{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}},ff=class extends G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Zi(e.abiItem)}\`, and`,`\`${t.type}\` in \`${Zi(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},gf=class extends G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}},es=class extends G{constructor({abiItem:e,data:t,params:s,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ep(s,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=s,this.size=n}},Is=class extends G{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${Zi(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},bf=class extends G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiEncodingType"})}},yf=class extends G{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiDecodingType"})}},_f=class extends G{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},lf=class extends G{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}});var xf,lE=b(()=>{"use strict";pt();xf=class extends G{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var rp,sp,np,vf=b(()=>{"use strict";pt();rp=class extends G{constructor({offset:e,position:t,size:s}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}},sp=class extends G{constructor({size:e,targetSize:t,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}},np=class extends G{constructor({size:e,targetSize:t,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${t} ${s} long, but is ${e} ${s} long.`,{name:"InvalidBytesLengthError"})}}});function En(i,{dir:e,size:t=32}={}){return typeof i=="string"?$s(i,{dir:e,size:t}):$2(i,{dir:e,size:t})}function $s(i,{dir:e,size:t=32}={}){if(t===null)return i;let s=i.replace("0x","");if(s.length>t*2)throw new sp({size:Math.ceil(s.length/2),targetSize:t,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function $2(i,{dir:e,size:t=32}={}){if(t===null)return i;if(i.length>t)throw new sp({size:i.length,targetSize:t,type:"bytes"});let s=new Uint8Array(t);for(let n=0;n<t;n++){let o=e==="right";s[o?n:t-n-1]=i[o?n:i.length-n-1]}return s}var If=b(()=>{"use strict";vf()});var Ca,Sf,kf,Ef,op=b(()=>{"use strict";pt();Ca=class extends G{constructor({max:e,min:t,signed:s,size:n,value:o}){super(`Number "${o}" is not in safe ${n?`${n*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},Sf=class extends G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},kf=class extends G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},Ef=class extends G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function Ui(i,{dir:e="left"}={}){let t=typeof i=="string"?i.replace("0x",""):i,s=0;for(let n=0;n<t.length-1&&t[e==="left"?n:t.length-n-1].toString()==="0";n++)s++;return t=e==="left"?t.slice(s):t.slice(0,t.length-s),typeof i=="string"?(t.length===1&&e==="right"&&(t=`${t}0`),`0x${t.length%2===1?`0${t}`:t}`):t}var Aa=b(()=>{"use strict"});function cr(i,{size:e}){if(kt(i)>e)throw new Ef({givenSize:kt(i),maxSize:e})}function Wt(i,e={}){let{signed:t}=e;e.size&&cr(i,{size:e.size});let s=BigInt(i);if(!t)return s;let n=(i.length-2)/2,o=(1n<<BigInt(n)*8n-1n)-1n;return s<=o?s:s-BigInt(`0x${"f".padStart(n*2,"f")}`)-1n}function kx(i,e={}){let t=i;if(e.size&&(cr(t,{size:e.size}),t=Ui(t)),Ui(t)==="0x00")return!1;if(Ui(t)==="0x01")return!0;throw new kf(t)}function hi(i,e={}){return Number(Wt(i,e))}var Hi=b(()=>{"use strict";op();Zr();Aa()});function Re(i,e={}){return typeof i=="number"||typeof i=="bigint"?we(i,e):typeof i=="string"?ts(i,e):typeof i=="boolean"?Lf(i,e):yt(i,e)}function Lf(i,e={}){let t=`0x${Number(i)}`;return typeof e.size=="number"?(cr(t,{size:e.size}),En(t,{size:e.size})):t}function yt(i,e={}){let t="";for(let n=0;n<i.length;n++)t+=q2[i[n]];let s=`0x${t}`;return typeof e.size=="number"?(cr(s,{size:e.size}),En(s,{dir:"right",size:e.size})):s}function we(i,e={}){let{signed:t,size:s}=e,n=BigInt(i),o;s?t?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof i=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let l=typeof o=="bigint"&&t?-o-1n:0;if(o&&n>o||n<l){let p=typeof i=="bigint"?"n":"";throw new Ca({max:o?`${o}${p}`:void 0,min:`${l}${p}`,signed:t,size:s,value:`${i}${p}`})}let u=`0x${(t&&n<0?(1n<<BigInt(s*8))+BigInt(n):n).toString(16)}`;return s?En(u,{size:s}):u}function ts(i,e={}){let t=Y2.encode(i);return yt(t,e)}var q2,Y2,Ke=b(()=>{"use strict";op();If();Hi();q2=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));Y2=new TextEncoder});function Dr(i,e={}){return typeof i=="number"||typeof i=="bigint"?J2(i,e):typeof i=="boolean"?X2(i,e):li(i)?yi(i,e):is(i,e)}function X2(i,e={}){let t=new Uint8Array(1);return t[0]=Number(i),typeof e.size=="number"?(cr(t,{size:e.size}),En(t,{size:e.size})):t}function cE(i){if(i>=qs.zero&&i<=qs.nine)return i-qs.zero;if(i>=qs.A&&i<=qs.F)return i-(qs.A-10);if(i>=qs.a&&i<=qs.f)return i-(qs.a-10)}function yi(i,e={}){let t=i;e.size&&(cr(t,{size:e.size}),t=En(t,{dir:"right",size:e.size}));let s=t.slice(2);s.length%2&&(s=`0${s}`);let n=s.length/2,o=new Uint8Array(n);for(let l=0,u=0;l<n;l++){let p=cE(s.charCodeAt(u++)),m=cE(s.charCodeAt(u++));if(p===void 0||m===void 0)throw new G(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);o[l]=p*16+m}return o}function J2(i,e){let t=we(i,e);return yi(t)}function is(i,e={}){let t=Q2.encode(i);return typeof e.size=="number"?(cr(t,{size:e.size}),En(t,{dir:"right",size:e.size})):t}var Q2,qs,Ti=b(()=>{"use strict";pt();Jr();If();Hi();Ke();Q2=new TextEncoder;qs={zero:48,nine:57,A:65,F:70,a:97,f:102}});function ap(i){if(!Number.isSafeInteger(i)||i<0)throw new Error("positive integer expected, got "+i)}function Z2(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function Ln(i,...e){if(!Z2(i))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(i.length))throw new Error("Uint8Array expected of length "+e+", got length="+i.length)}function uE(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ap(i.outputLen),ap(i.blockLen)}function Ys(i,e=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(e&&i.finished)throw new Error("Hash#digest() has already been called")}function wf(i,e){Ln(i);let t=e.outputLen;if(i.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}var lp=b(()=>{"use strict"});function eR(i,e=!1){return e?{h:Number(i&Tf),l:Number(i>>pE&Tf)}:{h:Number(i>>pE&Tf)|0,l:Number(i&Tf)|0}}function mE(i,e=!1){let t=new Uint32Array(i.length),s=new Uint32Array(i.length);for(let n=0;n<i.length;n++){let{h:o,l}=eR(i[n],e);[t[n],s[n]]=[o,l]}return[t,s]}var Tf,pE,hE,dE,fE,gE,bE=b(()=>{"use strict";Tf=BigInt(4294967295),pE=BigInt(32);hE=(i,e,t)=>i<<t|e>>>32-t,dE=(i,e,t)=>e<<t|i>>>32-t,fE=(i,e,t)=>e<<t-32|i>>>64-t,gE=(i,e,t)=>i<<t-32|e>>>64-t});var Eo,yE=b(()=>{"use strict";Eo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function _E(i){return new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4))}function Cf(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function rs(i,e){return i<<32-e|i>>>e}function tR(i){return i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255}function Lx(i){for(let e=0;e<i.length;e++)i[e]=tR(i[e])}function iR(i){if(typeof i!="string")throw new Error("utf8ToBytes expected string, got "+typeof i);return new Uint8Array(new TextEncoder().encode(i))}function Tn(i){return typeof i=="string"&&(i=iR(i)),Ln(i),i}function xE(...i){let e=0;for(let s=0;s<i.length;s++){let n=i[s];Ln(n),e+=n.length}let t=new Uint8Array(e);for(let s=0,n=0;s<i.length;s++){let o=i[s];t.set(o,n),n+=o.length}return t}function Af(i){let e=s=>i().update(Tn(s)).digest(),t=i();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>i(),e}function vE(i){let e=(s,n)=>i(n).update(Tn(s)).digest(),t=i({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=s=>i(s),e}function Mf(i=32){if(Eo&&typeof Eo.getRandomValues=="function")return Eo.getRandomValues(new Uint8Array(i));if(Eo&&typeof Eo.randomBytes=="function")return Eo.randomBytes(i);throw new Error("crypto.getRandomValues must be defined")}var Ex,wn,Lo=b(()=>{"use strict";yE();lp();Ex=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();wn=class{clone(){return this._cloneInto()}}});function uR(i,e=24){let t=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let l=0;l<10;l++)t[l]=i[l]^i[l+10]^i[l+20]^i[l+30]^i[l+40];for(let l=0;l<10;l+=2){let u=(l+8)%10,p=(l+2)%10,m=t[p],d=t[p+1],f=IE(m,d,1)^t[u],g=SE(m,d,1)^t[u+1];for(let _=0;_<50;_+=10)i[l+_]^=f,i[l+_+1]^=g}let n=i[2],o=i[3];for(let l=0;l<24;l++){let u=EE[l],p=IE(n,o,u),m=SE(n,o,u),d=kE[l];n=i[d],o=i[d+1],i[d]=p,i[d+1]=m}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)t[u]=i[l+u];for(let u=0;u<10;u++)i[l+u]^=~t[(u+2)%10]&t[(u+4)%10]}i[0]^=lR[s],i[1]^=cR[s]}t.fill(0)}var kE,EE,LE,rR,cp,sR,nR,oR,aR,lR,cR,IE,SE,Rf,Cn,Z6,e3,t3,i3,r3,Bf,s3,n3,wE,o3,a3,wx=b(()=>{"use strict";lp();bE();Lo();kE=[],EE=[],LE=[],rR=BigInt(0),cp=BigInt(1),sR=BigInt(2),nR=BigInt(7),oR=BigInt(256),aR=BigInt(113);for(let i=0,e=cp,t=1,s=0;i<24;i++){[t,s]=[s,(2*t+3*s)%5],kE.push(2*(5*s+t)),EE.push((i+1)*(i+2)/2%64);let n=rR;for(let o=0;o<7;o++)e=(e<<cp^(e>>nR)*aR)%oR,e&sR&&(n^=cp<<(cp<<BigInt(o))-cp);LE.push(n)}[lR,cR]=mE(LE,!0),IE=(i,e,t)=>t>32?fE(i,e,t):hE(i,e,t),SE=(i,e,t)=>t>32?gE(i,e,t):dE(i,e,t);Rf=class i extends wn{constructor(e,t,s,n=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=s,this.enableXOF=n,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ap(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_E(this.state)}keccak(){Ex||Lx(this.state32),uR(this.state32,this.rounds),Ex||Lx(this.state32),this.posOut=0,this.pos=0}update(e){Ys(this);let{blockLen:t,state:s}=this;e=Tn(e);let n=e.length;for(let o=0;o<n;){let l=Math.min(t-this.pos,n-o);for(let u=0;u<l;u++)s[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:s,blockLen:n}=this;e[s]^=t,t&128&&s===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Ys(this,!1),Ln(e),this.finish();let t=this.state,{blockLen:s}=this;for(let n=0,o=e.length;n<o;){this.posOut>=s&&this.keccak();let l=Math.min(s-this.posOut,o-n);e.set(t.subarray(this.posOut,this.posOut+l),n),this.posOut+=l,n+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ap(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wf(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:s,outputLen:n,rounds:o,enableXOF:l}=this;return e||(e=new i(t,s,n,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=s,e.outputLen=n,e.enableXOF=l,e.destroyed=this.destroyed,e}},Cn=(i,e,t)=>Af(()=>new Rf(e,i,t)),Z6=Cn(6,144,224/8),e3=Cn(6,136,256/8),t3=Cn(6,104,384/8),i3=Cn(6,72,512/8),r3=Cn(1,144,224/8),Bf=Cn(1,136,256/8),s3=Cn(1,104,384/8),n3=Cn(1,72,512/8),wE=(i,e,t)=>vE((s={})=>new Rf(e,i,s.dkLen===void 0?t:s.dkLen,!0)),o3=wE(31,168,128/8),a3=wE(31,136,256/8)});function zt(i,e){let t=e||"hex",s=Bf(li(i,{strict:!1})?Dr(i):i);return t==="bytes"?s:Re(s)}var ss=b(()=>{"use strict";wx();Jr();Ti();Ke()});function TE(i){return pR(i)}var pR,CE=b(()=>{"use strict";Ti();ss();pR=i=>zt(Dr(i))});function AE(i){let e=!0,t="",s=0,n="",o=!1;for(let l=0;l<i.length;l++){let u=i[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&s++,u===")"&&s--,!!e){if(s===0){if(u===" "&&["event","function",""].includes(n))n="";else if(n+=u,u===")"){o=!0;break}continue}if(u===" "){i[l-1]!==","&&t!==","&&t!==",("&&(t="",e=!1);continue}n+=u,t+=u}}if(!o)throw new G("Unable to normalize signature.");return n}var ME=b(()=>{"use strict";pt()});var RE,BE=b(()=>{"use strict";af();ME();RE=i=>{let e=(()=>typeof i=="string"?i:So(i))();return AE(e)}});function Df(i){return TE(RE(i))}var Tx=b(()=>{"use strict";CE();BE()});var An,up=b(()=>{"use strict";Tx();An=Df});var Gt,Ss=b(()=>{"use strict";pt();Gt=class extends G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var ks,pp=b(()=>{"use strict";ks=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let s=this.keys().next().value;s&&this.delete(s)}return this}}});function Qs(i,e){if(Cx.has(`${i}.${e}`))return Cx.get(`${i}.${e}`);let t=e?`${e}${i.toLowerCase()}`:i.substring(2).toLowerCase(),s=zt(is(t),"bytes"),n=(e?t.substring(`${e}0x`.length):t).split("");for(let l=0;l<40;l+=2)s[l>>1]>>4>=8&&n[l]&&(n[l]=n[l].toUpperCase()),(s[l>>1]&15)>=8&&n[l+1]&&(n[l+1]=n[l+1].toUpperCase());let o=`0x${n.join("")}`;return Cx.set(`${i}.${e}`,o),o}function Of(i,e){if(!Nt(i,{strict:!1}))throw new Gt({address:i});return Qs(i,e)}var Cx,wo=b(()=>{"use strict";Ss();Ti();ss();pp();ns();Cx=new ks(8192)});function Nt(i,e){let{strict:t=!0}=e??{},s=`${i}.${t}`;if(Ax.has(s))return Ax.get(s);let n=(()=>mR.test(i)?i.toLowerCase()===i?!0:t?Qs(i)===i:!0:!1)();return Ax.set(s,n),n}var mR,Ax,ns=b(()=>{"use strict";pp();wo();mR=/^0x[a-fA-F0-9]{40}$/,Ax=new ks(8192)});function er(i){return typeof i[0]=="string"?zi(i):hR(i)}function hR(i){let e=0;for(let n of i)e+=n.length;let t=new Uint8Array(e),s=0;for(let n of i)t.set(n,s),s+=n.length;return t}function zi(i){return`0x${i.reduce((e,t)=>e+t.replace("0x",""),"")}`}var Or=b(()=>{"use strict"});function Xs(i,e,t,{strict:s}={}){return li(i,{strict:!1})?Rx(i,e,t,{strict:s}):Mx(i,e,t,{strict:s})}function DE(i,e){if(typeof e=="number"&&e>0&&e>kt(i)-1)throw new rp({offset:e,position:"start",size:kt(i)})}function OE(i,e,t){if(typeof e=="number"&&typeof t=="number"&&kt(i)!==t-e)throw new rp({offset:t,position:"end",size:kt(i)})}function Mx(i,e,t,{strict:s}={}){DE(i,e);let n=i.slice(e,t);return s&&OE(n,e,t),n}function Rx(i,e,t,{strict:s}={}){DE(i,e);let n=`0x${i.replace("0x","").slice((e??0)*2,(t??i.length)*2)}`;return s&&OE(n,e,t),n}var To=b(()=>{"use strict";vf();Jr();Zr()});var NE,Nf,Bx=b(()=>{"use strict";NE=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Nf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function _r(i,e){if(i.length!==e.length)throw new mf({expectedLength:i.length,givenLength:e.length});let t=dR({params:i,values:e}),s=Ox(t);return s.length===0?"0x":s}function dR({params:i,values:e}){let t=[];for(let s=0;s<i.length;s++)t.push(Dx({param:i[s],value:e[s]}));return t}function Dx({param:i,value:e}){let t=Ff(i.type);if(t){let[s,n]=t;return gR(e,{length:s,param:{...i,type:n}})}if(i.type==="tuple")return vR(e,{param:i});if(i.type==="address")return fR(e);if(i.type==="bool")return yR(e);if(i.type.startsWith("uint")||i.type.startsWith("int")){let s=i.type.startsWith("int"),[,,n="256"]=Nf.exec(i.type)??[];return _R(e,{signed:s,size:Number(n)})}if(i.type.startsWith("bytes"))return bR(e,{param:i});if(i.type==="string")return xR(e);throw new bf(i.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ox(i){let e=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?e+=32:e+=kt(u)}let t=[],s=[],n=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?(t.push(we(e+n,{size:32})),s.push(u),n+=kt(u)):t.push(u)}return er([...t,...s])}function fR(i){if(!Nt(i))throw new Gt({address:i});return{dynamic:!1,encoded:$s(i.toLowerCase())}}function gR(i,{length:e,param:t}){let s=e===null;if(!Array.isArray(i))throw new _f(i);if(!s&&i.length!==e)throw new uf({expectedLength:e,givenLength:i.length,type:`${t.type}[${e}]`});let n=!1,o=[];for(let l=0;l<i.length;l++){let u=Dx({param:t,value:i[l]});u.dynamic&&(n=!0),o.push(u)}if(s||n){let l=Ox(o);if(s){let u=we(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?er([u,l]):u}}if(n)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:er(o.map(({encoded:l})=>l))}}function bR(i,{param:e}){let[,t]=e.type.split("bytes"),s=kt(i);if(!t){let n=i;return s%32!==0&&(n=$s(n,{dir:"right",size:Math.ceil((i.length-2)/2/32)*32})),{dynamic:!0,encoded:er([$s(we(s,{size:32})),n])}}if(s!==Number.parseInt(t))throw new pf({expectedSize:Number.parseInt(t),value:i});return{dynamic:!1,encoded:$s(i,{dir:"right"})}}function yR(i){if(typeof i!="boolean")throw new G(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$s(Lf(i))}}function _R(i,{signed:e,size:t=256}){if(typeof t=="number"){let s=2n**(BigInt(t)-(e?1n:0n))-1n,n=e?-s-1n:0n;if(i>s||i<n)throw new Ca({max:s.toString(),min:n.toString(),signed:e,size:t/8,value:i.toString()})}return{dynamic:!1,encoded:we(i,{size:32,signed:e})}}function xR(i){let e=ts(i),t=Math.ceil(kt(e)/32),s=[];for(let n=0;n<t;n++)s.push($s(Xs(e,n*32,(n+1)*32),{dir:"right"}));return{dynamic:!0,encoded:er([$s(we(kt(e),{size:32})),...s])}}function vR(i,{param:e}){let t=!1,s=[];for(let n=0;n<e.components.length;n++){let o=e.components[n],l=Array.isArray(i)?n:o.name,u=Dx({param:o,value:i[l]});s.push(u),u.dynamic&&(t=!0)}return{dynamic:t,encoded:t?Ox(s):er(s.map(({encoded:n})=>n))}}function Ff(i){let e=i.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var Mn=b(()=>{"use strict";bi();Ss();pt();op();ns();Or();If();Zr();To();Ke();Bx()});var Ma,Pf=b(()=>{"use strict";To();Tx();Ma=i=>Xs(Df(i),0,4)});function Es(i){let{abi:e,args:t=[],name:s}=i,n=li(s,{strict:!1}),o=e.filter(u=>n?u.type==="function"?Ma(u)===s:u.type==="event"?An(u)===s:!1:"name"in u&&u.name===s);if(o.length===0)return;if(o.length===1)return o[0];let l;for(let u of o){if(!("inputs"in u))continue;if(!t||t.length===0){if(!u.inputs||u.inputs.length===0)return u;continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==t.length)continue;if(t.every((m,d)=>{let f="inputs"in u&&u.inputs[d];return f?Nx(m,f):!1})){if(l&&"inputs"in l&&l.inputs){let m=FE(u.inputs,l.inputs,t);if(m)throw new ff({abiItem:u,type:m[0]},{abiItem:l,type:m[1]})}l=u}}return l||o[0]}function Nx(i,e){let t=typeof i,s=e.type;switch(s){case"address":return Nt(i,{strict:!1});case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return s==="tuple"&&"components"in e?Object.values(e.components).every((n,o)=>Nx(Object.values(i)[o],n)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?t==="number"||t==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?t==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(i)&&i.every(n=>Nx(n,{...e,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function FE(i,e,t){for(let s in i){let n=i[s],o=e[s];if(n.type==="tuple"&&o.type==="tuple"&&"components"in n&&"components"in o)return FE(n.components,o.components,t[s]);let l=[n.type,o.type];if((()=>l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?Nt(t[s],{strict:!1}):l.includes("address")&&l.includes("bytes")?Nt(t[s],{strict:!1}):!1)())return l}}var Ra=b(()=>{"use strict";bi();Jr();ns();up();Pf()});function Ls(i){let{abi:e,eventName:t,args:s}=i,n=e[0];if(t){let p=Es({abi:e,name:t});if(!p)throw new ip(t,{docsPath:PE});n=p}if(n.type!=="event")throw new ip(void 0,{docsPath:PE});let o=Zi(n),l=An(o),u=[];if(s&&"inputs"in n){let p=n.inputs?.filter(d=>"indexed"in d&&d.indexed),m=Array.isArray(s)?s:Object.values(s).length>0?p?.map(d=>s[d.name])??[]:[];m.length>0&&(u=p?.map((d,f)=>Array.isArray(m[f])?m[f].map((g,_)=>UE({param:d,value:m[f][_]})):typeof m[f]<"u"&&m[f]!==null?UE({param:d,value:m[f]}):null)??[])}return[l,...u]}function UE({param:i,value:e}){if(i.type==="string"||i.type==="bytes")return zt(Dr(e));if(i.type==="tuple"||i.type.match(/^(.*)\[(\d+)?\]$/))throw new xf(i.type);return _r([i],[e])}var PE,Ba=b(()=>{"use strict";bi();lE();Ti();ss();up();Mn();ko();Ra();PE="/docs/contract/encodeEventTopics"});function Rn(i,{method:e}){let t={};return i.transport.type==="fallback"&&i.transport.onResponse?.(({method:s,response:n,status:o,transport:l})=>{o==="success"&&e===s&&(t[n]=l.request)}),s=>t[s]||i.request}var mp=b(()=>{"use strict"});async function Uf(i,e){let{address:t,abi:s,args:n,eventName:o,fromBlock:l,strict:u,toBlock:p}=e,m=Rn(i,{method:"eth_newFilter"}),d=o?Ls({abi:s,args:n,eventName:o}):void 0,f=await i.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof l=="bigint"?we(l):l,toBlock:typeof p=="bigint"?we(p):p,topics:d}]});return{abi:s,args:n,eventName:o,id:f,request:m(f),strict:!!u,type:"event"}}var Fx=b(()=>{"use strict";Ba();Ke();mp()});function dt(i){return typeof i=="string"?{address:i,type:"json-rpc"}:i}var _i=b(()=>{"use strict"});function zE(i){let{abi:e,args:t,functionName:s}=i,n=e[0];if(s){let o=Es({abi:e,args:t,name:s});if(!o)throw new kn(s,{docsPath:HE});n=o}if(n.type!=="function")throw new kn(void 0,{docsPath:HE});return{abi:[n],functionName:Ma(Zi(n))}}var HE,jE=b(()=>{"use strict";bi();Pf();ko();Ra();HE="/docs/contract/encodeFunctionData"});function Kt(i){let{args:e}=i,{abi:t,functionName:s}=(()=>i.abi.length===1&&i.functionName?.startsWith("0x")?i:zE(i))(),n=t[0],o=s,l="inputs"in n&&n.inputs?_r(n.inputs,e??[]):void 0;return zi([o,l??"0x"])}var Nr=b(()=>{"use strict";Or();Mn();jE()});var Hf,GE,VE,zf=b(()=>{"use strict";Hf={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},GE={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},VE={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var hp,Da,jf,Px=b(()=>{"use strict";pt();hp=class extends G{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Da=class extends G{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},jf=class extends G{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function Oa(i,{recursiveReadLimit:e=8192}={}){let t=Object.create(IR);return t.bytes=i,t.dataView=new DataView(i.buffer,i.byteOffset,i.byteLength),t.positionReadCount=new Map,t.recursiveReadLimit=e,t}var IR,Gf=b(()=>{"use strict";Px();IR={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new jf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(i){if(i<0||i>this.bytes.length-1)throw new Da({length:this.bytes.length,position:i})},decrementPosition(i){if(i<0)throw new hp({offset:i});let e=this.position-i;this.assertPosition(e),this.position=e},getReadCount(i){return this.positionReadCount.get(i||this.position)||0},incrementPosition(i){if(i<0)throw new hp({offset:i});let e=this.position+i;this.assertPosition(e),this.position=e},inspectByte(i){let e=i??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(i,e){let t=e??this.position;return this.assertPosition(t+i-1),this.bytes.subarray(t,t+i)},inspectUint8(i){let e=i??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(i){let e=i??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(i){let e=i??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(i){let e=i??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(i){this.assertPosition(this.position),this.bytes[this.position]=i,this.position++},pushBytes(i){this.assertPosition(this.position+i.length-1),this.bytes.set(i,this.position),this.position+=i.length},pushUint8(i){this.assertPosition(this.position),this.bytes[this.position]=i,this.position++},pushUint16(i){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,i),this.position+=2},pushUint24(i){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,i>>8),this.dataView.setUint8(this.position+2,i&255),this.position+=3},pushUint32(i){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,i),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let i=this.inspectByte();return this.position++,i},readBytes(i,e){this.assertReadLimit(),this._touch();let t=this.inspectBytes(i);return this.position+=e??i,t},readUint8(){this.assertReadLimit(),this._touch();let i=this.inspectUint8();return this.position+=1,i},readUint16(){this.assertReadLimit(),this._touch();let i=this.inspectUint16();return this.position+=2,i},readUint24(){this.assertReadLimit(),this._touch();let i=this.inspectUint24();return this.position+=3,i},readUint32(){this.assertReadLimit(),this._touch();let i=this.inspectUint32();return this.position+=4,i},get remaining(){return this.bytes.length-this.position},setPosition(i){let e=this.position;return this.assertPosition(i),this.position=i,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let i=this.getReadCount();this.positionReadCount.set(this.position,i+1),i>0&&this.recursiveReadCount++}}});function WE(i,e={}){typeof e.size<"u"&&cr(i,{size:e.size});let t=yt(i,e);return Wt(t,e)}function KE(i,e={}){let t=i;if(typeof e.size<"u"&&(cr(t,{size:e.size}),t=Ui(t)),t.length>1||t[0]>1)throw new Sf(t);return!!t[0]}function ws(i,e={}){typeof e.size<"u"&&cr(i,{size:e.size});let t=yt(i,e);return hi(t,e)}function $E(i,e={}){let t=i;return typeof e.size<"u"&&(cr(t,{size:e.size}),t=Ui(t,{dir:"right"})),new TextDecoder().decode(t)}var qE=b(()=>{"use strict";op();Aa();Hi();Ke()});function Co(i,e){let t=typeof e=="string"?yi(e):e,s=Oa(t);if(kt(t)===0&&i.length>0)throw new Br;if(kt(e)&&kt(e)<32)throw new La({data:typeof e=="string"?e:yt(e),params:i,size:kt(e)});let n=0,o=[];for(let l=0;l<i.length;++l){let u=i[l];s.setPosition(n);let[p,m]=Na(s,u,{staticPosition:0});n+=m,o.push(p)}return o}function Na(i,e,{staticPosition:t}){let s=Ff(e.type);if(s){let[n,o]=s;return kR(i,{...e,type:o},{length:n,staticPosition:t})}if(e.type==="tuple")return TR(i,e,{staticPosition:t});if(e.type==="address")return SR(i);if(e.type==="bool")return ER(i);if(e.type.startsWith("bytes"))return LR(i,e,{staticPosition:t});if(e.type.startsWith("uint")||e.type.startsWith("int"))return wR(i,e);if(e.type==="string")return CR(i,{staticPosition:t});throw new yf(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function SR(i){let e=i.readBytes(32);return[Qs(yt(Mx(e,-20))),32]}function kR(i,e,{length:t,staticPosition:s}){if(!t){let l=ws(i.readBytes(Ux)),u=s+l,p=u+YE;i.setPosition(u);let m=ws(i.readBytes(YE)),d=dp(e),f=0,g=[];for(let _=0;_<m;++_){i.setPosition(p+(d?_*32:f));let[S,x]=Na(i,e,{staticPosition:p});f+=x,g.push(S)}return i.setPosition(s+32),[g,32]}if(dp(e)){let l=ws(i.readBytes(Ux)),u=s+l,p=[];for(let m=0;m<t;++m){i.setPosition(u+m*32);let[d]=Na(i,e,{staticPosition:u});p.push(d)}return i.setPosition(s+32),[p,32]}let n=0,o=[];for(let l=0;l<t;++l){let[u,p]=Na(i,e,{staticPosition:s+n});n+=p,o.push(u)}return[o,n]}function ER(i){return[KE(i.readBytes(32),{size:32}),32]}function LR(i,e,{staticPosition:t}){let[s,n]=e.type.split("bytes");if(!n){let l=ws(i.readBytes(32));i.setPosition(t+l);let u=ws(i.readBytes(32));if(u===0)return i.setPosition(t+32),["0x",32];let p=i.readBytes(u);return i.setPosition(t+32),[yt(p),32]}return[yt(i.readBytes(Number.parseInt(n),32)),32]}function wR(i,e){let t=e.type.startsWith("int"),s=Number.parseInt(e.type.split("int")[1]||"256"),n=i.readBytes(32);return[s>48?WE(n,{signed:t}):ws(n,{signed:t}),32]}function TR(i,e,{staticPosition:t}){let s=e.components.length===0||e.components.some(({name:l})=>!l),n=s?[]:{},o=0;if(dp(e)){let l=ws(i.readBytes(Ux)),u=t+l;for(let p=0;p<e.components.length;++p){let m=e.components[p];i.setPosition(u+o);let[d,f]=Na(i,m,{staticPosition:u});o+=f,n[s?p:m?.name]=d}return i.setPosition(t+32),[n,32]}for(let l=0;l<e.components.length;++l){let u=e.components[l],[p,m]=Na(i,u,{staticPosition:t});n[s?l:u?.name]=p,o+=m}return[n,o]}function CR(i,{staticPosition:e}){let t=ws(i.readBytes(32)),s=e+t;i.setPosition(s);let n=ws(i.readBytes(32));if(n===0)return i.setPosition(e+32),["",32];let o=i.readBytes(n,32),l=$E(Ui(o));return i.setPosition(e+32),[l,32]}function dp(i){let{type:e}=i;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return i.components?.some(dp);let t=Ff(i.type);return!!(t&&dp({...i,type:t[1]}))}var YE,Ux,Vf=b(()=>{"use strict";bi();wo();Gf();Zr();To();Aa();qE();Ti();Ke();Mn();YE=32,Ux=32});function Wf(i){let{abi:e,data:t}=i,s=Xs(t,0,4);if(s==="0x")throw new Br;let o=[...e||[],GE,VE].find(l=>l.type==="error"&&s===Ma(Zi(l)));if(!o)throw new wa(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Co(o.inputs,Xs(t,4)):void 0,errorName:o.name}}var Hx=b(()=>{"use strict";zf();bi();To();Pf();Vf();ko()});var _t,tr=b(()=>{"use strict";_t=(i,e,t)=>JSON.stringify(i,(s,n)=>{let o=typeof n=="bigint"?n.toString():n;return typeof e=="function"?e(s,o):o},t)});function zx({abiItem:i,args:e,includeFunctionName:t=!0,includeName:s=!1}){if("name"in i&&"inputs"in i&&i.inputs)return`${t?i.name:""}(${i.inputs.map((n,o)=>`${s&&n.name?`${n.name}: `:""}${typeof e[o]=="object"?_t(e[o]):e[o]}`).join(", ")})`}var QE=b(()=>{"use strict";tr()});var XE,JE,jx=b(()=>{"use strict";XE={gwei:9,wei:18},JE={ether:-9,wei:9}});function Bn(i,e){let t=i.toString(),s=t.startsWith("-");s&&(t=t.slice(1)),t=t.padStart(e,"0");let[n,o]=[t.slice(0,t.length-e),t.slice(t.length-e)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${n||"0"}${o?`.${o}`:""}`}var Kf=b(()=>{"use strict"});function Fa(i,e="wei"){return Bn(i,XE[e])}var $f=b(()=>{"use strict";jx();Kf()});function xi(i,e="wei"){return Bn(i,JE[e])}var Pa=b(()=>{"use strict";jx();Kf()});function ZE(i){return i.reduce((e,{slot:t,value:s})=>`${e}        ${t}: ${s}
`,"")}function eL(i){return i.reduce((e,{address:t,...s})=>{let n=`${e}    ${t}:
`;return s.nonce&&(n+=`      nonce: ${s.nonce}
`),s.balance&&(n+=`      balance: ${s.balance}
`),s.code&&(n+=`      code: ${s.code}
`),s.state&&(n+=`      state:
`,n+=ZE(s.state)),s.stateDiff&&(n+=`      stateDiff:
`,n+=ZE(s.stateDiff)),n},`  State Override:
`).slice(0,-1)}var qf,Yf,Gx=b(()=>{"use strict";pt();qf=class extends G{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},Yf=class extends G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function Ao(i){let e=Object.entries(i).map(([s,n])=>n===void 0||n===!1?null:[s,n]).filter(Boolean),t=e.reduce((s,[n])=>Math.max(s,n.length),0);return e.map(([s,n])=>`  ${`${s}:`.padEnd(t+1)}  ${n}`).join(`
`)}var Qf,Xf,Jf,Zf,eg,Ua,Ha,tg,os=b(()=>{"use strict";$f();Pa();pt();Qf=class extends G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},Xf=class extends G{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},Jf=class extends G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ao(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},Zf=class extends G{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},eg=class extends G{constructor(e,{account:t,docsPath:s,chain:n,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g}){let _=Ao({chain:n&&`${n?.name} (id: ${n?.id})`,from:t?.address,to:f,value:typeof g<"u"&&`${Fa(g)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${xi(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${xi(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${xi(m)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",_].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},Ua=class extends G{constructor({blockHash:e,blockNumber:t,blockTag:s,hash:n,index:o}){let l="Transaction";s&&o!==void 0&&(l=`Transaction at block time "${s}" at index "${o}"`),e&&o!==void 0&&(l=`Transaction at block hash "${e}" at index "${o}"`),t&&o!==void 0&&(l=`Transaction at block number "${t}" at index "${o}"`),n&&(l=`Transaction with hash "${n}"`),super(`${l} could not be found.`,{name:"TransactionNotFoundError"})}},Ha=class extends G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},tg=class extends G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var tL,Mo,ig=b(()=>{"use strict";tL=i=>i,Mo=i=>i});var za,rg,Ro,sg,ng,Ts,Dn=b(()=>{"use strict";_i();zf();Hx();ko();QE();Ra();$f();Pa();bi();pt();Gx();os();ig();za=class extends G{constructor(e,{account:t,docsPath:s,chain:n,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g,stateOverride:_}){let S=t?dt(t):void 0,x=Ao({from:S?.address,to:f,value:typeof g<"u"&&`${Fa(g)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${xi(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${xi(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${xi(m)} gwei`,nonce:d});_&&(x+=`
${eL(_)}`),super(e.shortMessage,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",x].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},rg=class extends G{constructor(e,{abi:t,args:s,contractAddress:n,docsPath:o,functionName:l,sender:u}){let p=Es({abi:t,args:s,name:l}),m=p?zx({abiItem:p,args:s,includeFunctionName:!1,includeName:!1}):void 0,d=p?Zi(p,{includeName:!0}):void 0,f=Ao({address:n&&tL(n),function:d,args:m&&m!=="()"&&`${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${m}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${l}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=s,this.cause=e,this.contractAddress=n,this.functionName=l,this.sender=u}},Ro=class extends G{constructor({abi:e,data:t,functionName:s,message:n}){let o,l,u,p;if(t&&t!=="0x")try{l=Wf({abi:e,data:t});let{abiItem:d,errorName:f,args:g}=l;if(f==="Error")p=g[0];else if(f==="Panic"){let[_]=g;p=Hf[_]}else{let _=d?Zi(d,{includeName:!0}):void 0,S=d&&g?zx({abiItem:d,args:g,includeFunctionName:!1,includeName:!1}):void 0;u=[_?`Error: ${_}`:"",S&&S!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${S}`:""]}}catch(d){o=d}else n&&(p=n);let m;o instanceof wa&&(m=o.signature,u=[`Unable to decode signature "${m}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${m}.`]),super(p&&p!=="execution reverted"||m?[`The contract function "${s}" reverted with the following ${m?"signature":"reason"}:`,p||m].join(`
`):`The contract function "${s}" reverted.`,{cause:o,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=t,this.reason=p,this.signature=m}},sg=class extends G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},ng=class extends G{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},Ts=class extends G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var Fr,On,fp,Bo=b(()=>{"use strict";tr();pt();ig();Fr=class extends G{constructor({body:e,cause:t,details:s,headers:n,status:o,url:l}){super("HTTP request failed.",{cause:t,details:s,metaMessages:[o&&`Status: ${o}`,`URL: ${Mo(l)}`,e&&`Request body: ${_t(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=o,this.url=l}},On=class extends G{constructor({body:e,error:t,url:s}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${Mo(s)}`,`Request body: ${_t(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}},fp=class extends G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Mo(t)}`,`Request body: ${_t(e)}`],name:"TimeoutError"})}}});var AR,ji,Nn,ja,Ga,Va,Wa,Js,Cs,Ka,$a,qa,Fn,Do,Ya,Oo,Qa,Xa,Ja,Za,el,og,gp=b(()=>{"use strict";pt();Bo();AR=-1,ji=class extends G{constructor(e,{code:t,docsPath:s,metaMessages:n,name:o,shortMessage:l}){super(l,{cause:e,docsPath:s,metaMessages:n||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof On?e.code:t??AR}},Nn=class extends ji{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}},ja=class i extends ji{constructor(e){super(e,{code:i.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(ja,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});Ga=class i extends ji{constructor(e){super(e,{code:i.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(Ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});Va=class i extends ji{constructor(e,{method:t}={}){super(e,{code:i.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}};Object.defineProperty(Va,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});Wa=class i extends ji{constructor(e){super(e,{code:i.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Js=class i extends ji{constructor(e){super(e,{code:i.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Js,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});Cs=class i extends ji{constructor(e){super(e,{code:i.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});Ka=class i extends ji{constructor(e){super(e,{code:i.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});$a=class i extends ji{constructor(e){super(e,{code:i.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty($a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});qa=class i extends ji{constructor(e){super(e,{code:i.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(qa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});Fn=class i extends ji{constructor(e,{method:t}={}){super(e,{code:i.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}};Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});Do=class i extends ji{constructor(e){super(e,{code:i.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(Do,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});Ya=class i extends ji{constructor(e){super(e,{code:i.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(Ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});Oo=class i extends Nn{constructor(e){super(e,{code:i.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});Qa=class i extends Nn{constructor(e){super(e,{code:i.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(Qa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});Xa=class i extends Nn{constructor(e,{method:t}={}){super(e,{code:i.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}};Object.defineProperty(Xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Ja=class i extends Nn{constructor(e){super(e,{code:i.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(Ja,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});Za=class i extends Nn{constructor(e){super(e,{code:i.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Za,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});el=class i extends Nn{constructor(e){super(e,{code:i.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});og=class extends ji{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function xr(i,{abi:e,address:t,args:s,docsPath:n,functionName:o,sender:l}){let u=i instanceof Ts?i:i instanceof G?i.walk(S=>"data"in S)||i.walk():{},{code:p,data:m,details:d,message:f,shortMessage:g}=u,_=(()=>i instanceof Br?new sg({functionName:o}):[MR,Js.code].includes(p)&&(m||d||f||g)?new Ro({abi:e,data:typeof m=="object"?m.data:m,functionName:o,message:u instanceof On?d:g??f}):i)();return new rg(_,{abi:e,args:s,contractAddress:t,docsPath:n,functionName:o,sender:l})}var MR,No=b(()=>{"use strict";bi();pt();Dn();Bo();gp();MR=3});function iL(i){let e=zt(`0x${i.substring(4)}`).substring(26);return Qs(`0x${e}`)}var rL=b(()=>{"use strict";wo();ss()});function RR(i,e,t,s){if(typeof i.setBigUint64=="function")return i.setBigUint64(e,t,s);let n=BigInt(32),o=BigInt(4294967295),l=Number(t>>n&o),u=Number(t&o),p=s?4:0,m=s?0:4;i.setUint32(e+p,l,s),i.setUint32(e+m,u,s)}function sL(i,e,t){return i&e^~i&t}function nL(i,e,t){return i&e^i&t^e&t}var ag,oL=b(()=>{"use strict";lp();Lo();ag=class extends wn{constructor(e,t,s,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=s,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Cf(this.buffer)}update(e){Ys(this);let{view:t,buffer:s,blockLen:n}=this;e=Tn(e);let o=e.length;for(let l=0;l<o;){let u=Math.min(n-this.pos,o-l);if(u===n){let p=Cf(e);for(;n<=o-l;l+=n)this.process(p,l);continue}s.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ys(this),wf(e,this),this.finished=!0;let{buffer:t,view:s,blockLen:n,isLE:o}=this,{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>n-l&&(this.process(s,0),l=0);for(let f=l;f<n;f++)t[f]=0;RR(s,n-8,BigInt(this.length*8),o),this.process(s,0);let u=Cf(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=p/4,d=this.get();if(m>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<m;f++)u.setUint32(4*f,d[f],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let s=e.slice(0,t);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:s,length:n,finished:o,destroyed:l,pos:u}=this;return e.length=n,e.pos=u,e.finished=o,e.destroyed=l,n%t&&e.buffer.set(s),e}}});var BR,Pn,Un,Vx,Fo,Wx=b(()=>{"use strict";oL();Lo();BR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Un=new Uint32Array(64),Vx=class extends ag{constructor(){super(64,32,8,!1),this.A=Pn[0]|0,this.B=Pn[1]|0,this.C=Pn[2]|0,this.D=Pn[3]|0,this.E=Pn[4]|0,this.F=Pn[5]|0,this.G=Pn[6]|0,this.H=Pn[7]|0}get(){let{A:e,B:t,C:s,D:n,E:o,F:l,G:u,H:p}=this;return[e,t,s,n,o,l,u,p]}set(e,t,s,n,o,l,u,p){this.A=e|0,this.B=t|0,this.C=s|0,this.D=n|0,this.E=o|0,this.F=l|0,this.G=u|0,this.H=p|0}process(e,t){for(let f=0;f<16;f++,t+=4)Un[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){let g=Un[f-15],_=Un[f-2],S=rs(g,7)^rs(g,18)^g>>>3,x=rs(_,17)^rs(_,19)^_>>>10;Un[f]=x+Un[f-7]+S+Un[f-16]|0}let{A:s,B:n,C:o,D:l,E:u,F:p,G:m,H:d}=this;for(let f=0;f<64;f++){let g=rs(u,6)^rs(u,11)^rs(u,25),_=d+g+sL(u,p,m)+BR[f]+Un[f]|0,x=(rs(s,2)^rs(s,13)^rs(s,22))+nL(s,n,o)|0;d=m,m=p,p=u,u=l+_|0,l=o,o=n,n=s,s=_+x|0}s=s+this.A|0,n=n+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,p=p+this.F|0,m=m+this.G|0,d=d+this.H|0,this.set(s,n,o,l,u,p,m,d)}roundClean(){Un.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Fo=Af(()=>new Vx)});var lg,Kx,aL=b(()=>{"use strict";lp();Lo();lg=class extends wn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uE(e);let s=Tn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(s.length>n?e.create().update(s).digest():s);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return Ys(this),this.iHash.update(e),this}digestInto(e){Ys(this),Ln(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:s,finished:n,destroyed:o,blockLen:l,outputLen:u}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Kx=(i,e,t)=>new lg(i,e).update(t).digest();Kx.create=(i,e)=>new lg(i,e)});var Jx={};yd(Jx,{aInRange:()=>As,abool:()=>Po,abytes:()=>Pr,bitGet:()=>PR,bitLen:()=>Qx,bitMask:()=>yp,bitSet:()=>UR,bytesToHex:()=>Uo,bytesToNumberBE:()=>ur,bytesToNumberLE:()=>pg,concatBytes:()=>Gi,createHmacDrbg:()=>Xx,ensureBytes:()=>vi,equalBytes:()=>FR,hexToBytes:()=>zo,hexToNumber:()=>Yx,inRange:()=>zn,isBytes:()=>Hn,memoized:()=>hg,notImplemented:()=>zR,numberToBytesBE:()=>as,numberToBytesLE:()=>mg,numberToHexUnpadded:()=>Ho,numberToVarBytesBE:()=>NR,utf8ToBytes:()=>bp,validateObject:()=>Ms});function Hn(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function Pr(i){if(!Hn(i))throw new Error("Uint8Array expected")}function Po(i,e){if(typeof e!="boolean")throw new Error(i+" boolean expected, got "+e)}function Uo(i){Pr(i);let e="";for(let t=0;t<i.length;t++)e+=OR[i[t]];return e}function Ho(i){let e=i.toString(16);return e.length&1?"0"+e:e}function Yx(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);return i===""?cg:BigInt("0x"+i)}function lL(i){if(i>=Zs._0&&i<=Zs._9)return i-Zs._0;if(i>=Zs.A&&i<=Zs.F)return i-(Zs.A-10);if(i>=Zs.a&&i<=Zs.f)return i-(Zs.a-10)}function zo(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);let e=i.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let s=new Uint8Array(t);for(let n=0,o=0;n<t;n++,o+=2){let l=lL(i.charCodeAt(o)),u=lL(i.charCodeAt(o+1));if(l===void 0||u===void 0){let p=i[o]+i[o+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+o)}s[n]=l*16+u}return s}function ur(i){return Yx(Uo(i))}function pg(i){return Pr(i),Yx(Uo(Uint8Array.from(i).reverse()))}function as(i,e){return zo(i.toString(16).padStart(e*2,"0"))}function mg(i,e){return as(i,e).reverse()}function NR(i){return zo(Ho(i))}function vi(i,e,t){let s;if(typeof e=="string")try{s=zo(e)}catch(o){throw new Error(i+" must be hex string or Uint8Array, cause: "+o)}else if(Hn(e))s=Uint8Array.from(e);else throw new Error(i+" must be hex string or Uint8Array");let n=s.length;if(typeof t=="number"&&n!==t)throw new Error(i+" of length "+t+" expected, got "+n);return s}function Gi(...i){let e=0;for(let s=0;s<i.length;s++){let n=i[s];Pr(n),e+=n.length}let t=new Uint8Array(e);for(let s=0,n=0;s<i.length;s++){let o=i[s];t.set(o,n),n+=o.length}return t}function FR(i,e){if(i.length!==e.length)return!1;let t=0;for(let s=0;s<i.length;s++)t|=i[s]^e[s];return t===0}function bp(i){if(typeof i!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(i))}function zn(i,e,t){return $x(i)&&$x(e)&&$x(t)&&e<=i&&i<t}function As(i,e,t,s){if(!zn(e,t,s))throw new Error("expected valid "+i+": "+t+" <= n < "+s+", got "+e)}function Qx(i){let e;for(e=0;i>cg;i>>=ug,e+=1);return e}function PR(i,e){return i>>BigInt(e)&ug}function UR(i,e,t){return i|(t?ug:cg)<<BigInt(e)}function Xx(i,e,t){if(typeof i!="number"||i<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let s=qx(i),n=qx(i),o=0,l=()=>{s.fill(1),n.fill(0),o=0},u=(...f)=>t(n,s,...f),p=(f=qx())=>{n=u(cL([0]),f),s=u(),f.length!==0&&(n=u(cL([1]),f),s=u())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,g=[];for(;f<e;){s=u();let _=s.slice();g.push(_),f+=s.length}return Gi(...g)};return(f,g)=>{l(),p(f);let _;for(;!(_=g(m()));)p();return l(),_}}function Ms(i,e,t={}){let s=(n,o,l)=>{let u=HR[o];if(typeof u!="function")throw new Error("invalid validator function");let p=i[n];if(!(l&&p===void 0)&&!u(p,i))throw new Error("param "+String(n)+" is invalid. Expected "+o+", got "+p)};for(let[n,o]of Object.entries(e))s(n,o,!1);for(let[n,o]of Object.entries(t))s(n,o,!0);return i}function hg(i){let e=new WeakMap;return(t,...s)=>{let n=e.get(t);if(n!==void 0)return n;let o=i(t,...s);return e.set(t,o),o}}var cg,ug,DR,OR,Zs,$x,yp,qx,cL,HR,zR,jo=b(()=>{"use strict";cg=BigInt(0),ug=BigInt(1),DR=BigInt(2);OR=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));Zs={_0:48,_9:57,A:65,F:70,a:97,f:102};$x=i=>typeof i=="bigint"&&cg<=i;yp=i=>(DR<<BigInt(i-1))-ug,qx=i=>new Uint8Array(i),cL=i=>Uint8Array.from(i);HR={bigint:i=>typeof i=="bigint",function:i=>typeof i=="function",boolean:i=>typeof i=="boolean",string:i=>typeof i=="string",stringOrUint8Array:i=>typeof i=="string"||Hn(i),isSafeInteger:i=>Number.isSafeInteger(i),array:i=>Array.isArray(i),field:(i,e)=>e.Fp.isValid(i),hash:i=>typeof i=="function"&&Number.isSafeInteger(i.outputLen)};zR=()=>{throw new Error("not implemented")}});function ci(i,e){let t=i%e;return t>=Ii?t:e+t}function WR(i,e,t){if(e<Ii)throw new Error("invalid exponent, negatives unsupported");if(t<=Ii)throw new Error("invalid modulus");if(t===Yt)return Ii;let s=Yt;for(;e>Ii;)e&Yt&&(s=s*i%t),i=i*i%t,e>>=Yt;return s}function vr(i,e,t){let s=i;for(;e-- >Ii;)s*=s,s%=t;return s}function dg(i,e){if(i===Ii)throw new Error("invert: expected non-zero number");if(e<=Ii)throw new Error("invert: expected positive modulus, got "+e);let t=ci(i,e),s=e,n=Ii,o=Yt,l=Yt,u=Ii;for(;t!==Ii;){let m=s/t,d=s%t,f=n-l*m,g=o-u*m;s=t,t=d,n=l,o=u,l=f,u=g}if(s!==Yt)throw new Error("invert: does not exist");return ci(n,e)}function KR(i){let e=(i-Yt)/Go,t,s,n;for(t=i-Yt,s=0;t%Go===Ii;t/=Go,s++);for(n=Go;n<i&&WR(n,e,i)!==i-Yt;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(s===1){let l=(i+Yt)/Zx;return function(p,m){let d=p.pow(m,l);if(!p.eql(p.sqr(d),m))throw new Error("Cannot find square root");return d}}let o=(t+Yt)/Go;return function(u,p){if(u.pow(p,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=s,d=u.pow(u.mul(u.ONE,n),t),f=u.pow(p,o),g=u.pow(p,t);for(;!u.eql(g,u.ONE);){if(u.eql(g,u.ZERO))return u.ZERO;let _=1;for(let x=u.sqr(g);_<m&&!u.eql(x,u.ONE);_++)x=u.sqr(x);let S=u.pow(d,Yt<<BigInt(m-_-1));d=u.sqr(S),f=u.mul(f,S),g=u.mul(g,d),m=_}return f}}function $R(i){if(i%Zx===jR){let e=(i+Yt)/Zx;return function(s,n){let o=s.pow(n,e);if(!s.eql(s.sqr(o),n))throw new Error("Cannot find square root");return o}}if(i%pL===uL){let e=(i-uL)/pL;return function(s,n){let o=s.mul(n,Go),l=s.pow(o,e),u=s.mul(n,l),p=s.mul(s.mul(u,Go),l),m=s.mul(u,s.sub(p,s.ONE));if(!s.eql(s.sqr(m),n))throw new Error("Cannot find square root");return m}}return i%VR,KR(i)}function fg(i){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=qR.reduce((s,n)=>(s[n]="function",s),e);return Ms(i,t)}function YR(i,e,t){if(t<Ii)throw new Error("invalid exponent, negatives unsupported");if(t===Ii)return i.ONE;if(t===Yt)return e;let s=i.ONE,n=e;for(;t>Ii;)t&Yt&&(s=i.mul(s,n)),n=i.sqr(n),t>>=Yt;return s}function QR(i,e){let t=new Array(e.length),s=e.reduce((o,l,u)=>i.is0(l)?o:(t[u]=o,i.mul(o,l)),i.ONE),n=i.inv(s);return e.reduceRight((o,l,u)=>i.is0(l)?o:(t[u]=i.mul(o,t[u]),i.mul(o,l)),n),t}function ev(i,e){let t=e!==void 0?e:i.toString(2).length,s=Math.ceil(t/8);return{nBitLength:t,nByteLength:s}}function gg(i,e,t=!1,s={}){if(i<=Ii)throw new Error("invalid field: expected ORDER > 0, got "+i);let{nBitLength:n,nByteLength:o}=ev(i,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l,u=Object.freeze({ORDER:i,isLE:t,BITS:n,BYTES:o,MASK:yp(n),ZERO:Ii,ONE:Yt,create:p=>ci(p,i),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Ii<=p&&p<i},is0:p=>p===Ii,isOdd:p=>(p&Yt)===Yt,neg:p=>ci(-p,i),eql:(p,m)=>p===m,sqr:p=>ci(p*p,i),add:(p,m)=>ci(p+m,i),sub:(p,m)=>ci(p-m,i),mul:(p,m)=>ci(p*m,i),pow:(p,m)=>YR(u,p,m),div:(p,m)=>ci(p*dg(m,i),i),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>dg(p,i),sqrt:s.sqrt||(p=>(l||(l=$R(i)),l(u,p))),invertBatch:p=>QR(u,p),cmov:(p,m,d)=>d?m:p,toBytes:p=>t?mg(p,o):as(p,o),fromBytes:p=>{if(p.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+p.length);return t?pg(p):ur(p)}});return Object.freeze(u)}function mL(i){if(typeof i!="bigint")throw new Error("field order must be bigint");let e=i.toString(2).length;return Math.ceil(e/8)}function tv(i){let e=mL(i);return e+Math.ceil(e/2)}function hL(i,e,t=!1){let s=i.length,n=mL(e),o=tv(e);if(s<16||s<o||s>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+s);let l=t?pg(i):ur(i),u=ci(l,e-Yt)+Yt;return t?mg(u,n):as(u,n)}var Ii,Yt,Go,jR,Zx,uL,pL,GR,VR,qR,_p=b(()=>{"use strict";jo();Ii=BigInt(0),Yt=BigInt(1),Go=BigInt(2),jR=BigInt(3),Zx=BigInt(4),uL=BigInt(5),pL=BigInt(8),GR=BigInt(9),VR=BigInt(16);qR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function iv(i,e){let t=e.negate();return i?t:e}function fL(i,e){if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+i)}function rv(i,e){fL(i,e);let t=Math.ceil(e/i)+1,s=2**(i-1);return{windows:t,windowSize:s}}function XR(i,e){if(!Array.isArray(i))throw new Error("array expected");i.forEach((t,s)=>{if(!(t instanceof e))throw new Error("invalid point at index "+s)})}function JR(i,e){if(!Array.isArray(i))throw new Error("array of scalars expected");i.forEach((t,s)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+s)})}function nv(i){return gL.get(i)||1}function bL(i,e){return{constTimeNegate:iv,hasPrecomputes(t){return nv(t)!==1},unsafeLadder(t,s,n=i.ZERO){let o=t;for(;s>dL;)s&bg&&(n=n.add(o)),o=o.double(),s>>=bg;return n},precomputeWindow(t,s){let{windows:n,windowSize:o}=rv(s,e),l=[],u=t,p=u;for(let m=0;m<n;m++){p=u,l.push(p);for(let d=1;d<o;d++)p=p.add(u),l.push(p);u=p.double()}return l},wNAF(t,s,n){let{windows:o,windowSize:l}=rv(t,e),u=i.ZERO,p=i.BASE,m=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let g=0;g<o;g++){let _=g*l,S=Number(n&m);n>>=f,S>l&&(S-=d,n+=bg);let x=_,I=_+Math.abs(S)-1,M=g%2!==0,A=S<0;S===0?p=p.add(iv(M,s[x])):u=u.add(iv(A,s[I]))}return{p:u,f:p}},wNAFUnsafe(t,s,n,o=i.ZERO){let{windows:l,windowSize:u}=rv(t,e),p=BigInt(2**t-1),m=2**t,d=BigInt(t);for(let f=0;f<l;f++){let g=f*u;if(n===dL)break;let _=Number(n&p);if(n>>=d,_>u&&(_-=m,n+=bg),_===0)continue;let S=s[g+Math.abs(_)-1];_<0&&(S=S.negate()),o=o.add(S)}return o},getPrecomputes(t,s,n){let o=sv.get(s);return o||(o=this.precomputeWindow(s,t),t!==1&&sv.set(s,n(o))),o},wNAFCached(t,s,n){let o=nv(t);return this.wNAF(o,this.getPrecomputes(o,t,n),s)},wNAFCachedUnsafe(t,s,n,o){let l=nv(t);return l===1?this.unsafeLadder(t,s,o):this.wNAFUnsafe(l,this.getPrecomputes(l,t,n),s,o)},setWindowSize(t,s){fL(s,e),gL.set(t,s),sv.delete(t)}}}function yL(i,e,t,s){if(XR(t,i),JR(s,e),t.length!==s.length)throw new Error("arrays of points and scalars must have equal length");let n=i.ZERO,o=Qx(BigInt(t.length)),l=o>12?o-3:o>4?o-2:o?2:1,u=(1<<l)-1,p=new Array(u+1).fill(n),m=Math.floor((e.BITS-1)/l)*l,d=n;for(let f=m;f>=0;f-=l){p.fill(n);for(let _=0;_<s.length;_++){let S=s[_],x=Number(S>>BigInt(f)&BigInt(u));p[x]=p[x].add(t[_])}let g=n;for(let _=p.length-1,S=n;_>0;_--)S=S.add(p[_]),g=g.add(S);if(d=d.add(g),f!==0)for(let _=0;_<l;_++)d=d.double()}return d}function ov(i){return fg(i.Fp),Ms(i,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ev(i.n,i.nBitLength),...i,p:i.Fp.ORDER})}var dL,bg,sv,gL,_L=b(()=>{"use strict";_p();jo();dL=BigInt(0),bg=BigInt(1);sv=new WeakMap,gL=new WeakMap});function xL(i){i.lowS!==void 0&&Po("lowS",i.lowS),i.prehash!==void 0&&Po("prehash",i.prehash)}function ZR(i){let e=ov(i);Ms(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:s,a:n}=e;if(t){if(!s.eql(n,s.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}function iB(i){let e=ZR(i),{Fp:t}=e,s=gg(e.n,e.nBitLength),n=e.toBytes||((x,I,M)=>{let A=I.toAffine();return Gi(Uint8Array.from([4]),t.toBytes(A.x),t.toBytes(A.y))}),o=e.fromBytes||(x=>{let I=x.subarray(1),M=t.fromBytes(I.subarray(0,t.BYTES)),A=t.fromBytes(I.subarray(t.BYTES,2*t.BYTES));return{x:M,y:A}});function l(x){let{a:I,b:M}=e,A=t.sqr(x),D=t.mul(A,x);return t.add(t.add(D,t.mul(x,I)),M)}if(!t.eql(t.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function u(x){return zn(x,Ft,e.n)}function p(x){let{allowedPrivateKeyLengths:I,nByteLength:M,wrapPrivateKey:A,n:D}=e;if(I&&typeof x!="bigint"){if(Hn(x)&&(x=Uo(x)),typeof x!="string"||!I.includes(x.length))throw new Error("invalid private key");x=x.padStart(M*2,"0")}let j;try{j=typeof x=="bigint"?x:ur(vi("private key",x,M))}catch{throw new Error("invalid private key, expected hex or "+M+" bytes, got "+typeof x)}return A&&(j=ci(j,D)),As("private key",j,Ft,D),j}function m(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}let d=hg((x,I)=>{let{px:M,py:A,pz:D}=x;if(t.eql(D,t.ONE))return{x:M,y:A};let j=x.is0();I==null&&(I=j?t.ONE:t.inv(D));let W=t.mul(M,I),U=t.mul(A,I),J=t.mul(D,I);if(j)return{x:t.ZERO,y:t.ZERO};if(!t.eql(J,t.ONE))throw new Error("invZ was invalid");return{x:W,y:U}}),f=hg(x=>{if(x.is0()){if(e.allowInfinityPoint&&!t.is0(x.py))return;throw new Error("bad point: ZERO")}let{x:I,y:M}=x.toAffine();if(!t.isValid(I)||!t.isValid(M))throw new Error("bad point: x or y not FE");let A=t.sqr(M),D=l(I);if(!t.eql(A,D))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(I,M,A){if(this.px=I,this.py=M,this.pz=A,I==null||!t.isValid(I))throw new Error("x required");if(M==null||!t.isValid(M))throw new Error("y required");if(A==null||!t.isValid(A))throw new Error("z required");Object.freeze(this)}static fromAffine(I){let{x:M,y:A}=I||{};if(!I||!t.isValid(M)||!t.isValid(A))throw new Error("invalid affine point");if(I instanceof g)throw new Error("projective point not allowed");let D=j=>t.eql(j,t.ZERO);return D(M)&&D(A)?g.ZERO:new g(M,A,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){let M=t.invertBatch(I.map(A=>A.pz));return I.map((A,D)=>A.toAffine(M[D])).map(g.fromAffine)}static fromHex(I){let M=g.fromAffine(o(vi("pointHex",I)));return M.assertValidity(),M}static fromPrivateKey(I){return g.BASE.multiply(p(I))}static msm(I,M){return yL(g,s,I,M)}_setWindowSize(I){S.setWindowSize(this,I)}assertValidity(){f(this)}hasEvenY(){let{y:I}=this.toAffine();if(t.isOdd)return!t.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){m(I);let{px:M,py:A,pz:D}=this,{px:j,py:W,pz:U}=I,J=t.eql(t.mul(M,U),t.mul(j,D)),X=t.eql(t.mul(A,U),t.mul(W,D));return J&&X}negate(){return new g(this.px,t.neg(this.py),this.pz)}double(){let{a:I,b:M}=e,A=t.mul(M,yg),{px:D,py:j,pz:W}=this,U=t.ZERO,J=t.ZERO,X=t.ZERO,ie=t.mul(D,D),Ie=t.mul(j,j),ke=t.mul(W,W),De=t.mul(D,j);return De=t.add(De,De),X=t.mul(D,W),X=t.add(X,X),U=t.mul(I,X),J=t.mul(A,ke),J=t.add(U,J),U=t.sub(Ie,J),J=t.add(Ie,J),J=t.mul(U,J),U=t.mul(De,U),X=t.mul(A,X),ke=t.mul(I,ke),De=t.sub(ie,ke),De=t.mul(I,De),De=t.add(De,X),X=t.add(ie,ie),ie=t.add(X,ie),ie=t.add(ie,ke),ie=t.mul(ie,De),J=t.add(J,ie),ke=t.mul(j,W),ke=t.add(ke,ke),ie=t.mul(ke,De),U=t.sub(U,ie),X=t.mul(ke,Ie),X=t.add(X,X),X=t.add(X,X),new g(U,J,X)}add(I){m(I);let{px:M,py:A,pz:D}=this,{px:j,py:W,pz:U}=I,J=t.ZERO,X=t.ZERO,ie=t.ZERO,Ie=e.a,ke=t.mul(e.b,yg),De=t.mul(M,j),ft=t.mul(A,W),ye=t.mul(D,U),ue=t.add(M,A),me=t.add(j,W);ue=t.mul(ue,me),me=t.add(De,ft),ue=t.sub(ue,me),me=t.add(M,D);let R=t.add(j,U);return me=t.mul(me,R),R=t.add(De,ye),me=t.sub(me,R),R=t.add(A,D),J=t.add(W,U),R=t.mul(R,J),J=t.add(ft,ye),R=t.sub(R,J),ie=t.mul(Ie,me),J=t.mul(ke,ye),ie=t.add(J,ie),J=t.sub(ft,ie),ie=t.add(ft,ie),X=t.mul(J,ie),ft=t.add(De,De),ft=t.add(ft,De),ye=t.mul(Ie,ye),me=t.mul(ke,me),ft=t.add(ft,ye),ye=t.sub(De,ye),ye=t.mul(Ie,ye),me=t.add(me,ye),De=t.mul(ft,me),X=t.add(X,De),De=t.mul(R,me),J=t.mul(ue,J),J=t.sub(J,De),De=t.mul(ue,ft),ie=t.mul(R,ie),ie=t.add(ie,De),new g(J,X,ie)}subtract(I){return this.add(I.negate())}is0(){return this.equals(g.ZERO)}wNAF(I){return S.wNAFCached(this,I,g.normalizeZ)}multiplyUnsafe(I){let{endo:M,n:A}=e;As("scalar",I,ls,A);let D=g.ZERO;if(I===ls)return D;if(this.is0()||I===Ft)return this;if(!M||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,I,g.normalizeZ);let{k1neg:j,k1:W,k2neg:U,k2:J}=M.splitScalar(I),X=D,ie=D,Ie=this;for(;W>ls||J>ls;)W&Ft&&(X=X.add(Ie)),J&Ft&&(ie=ie.add(Ie)),Ie=Ie.double(),W>>=Ft,J>>=Ft;return j&&(X=X.negate()),U&&(ie=ie.negate()),ie=new g(t.mul(ie.px,M.beta),ie.py,ie.pz),X.add(ie)}multiply(I){let{endo:M,n:A}=e;As("scalar",I,Ft,A);let D,j;if(M){let{k1neg:W,k1:U,k2neg:J,k2:X}=M.splitScalar(I),{p:ie,f:Ie}=this.wNAF(U),{p:ke,f:De}=this.wNAF(X);ie=S.constTimeNegate(W,ie),ke=S.constTimeNegate(J,ke),ke=new g(t.mul(ke.px,M.beta),ke.py,ke.pz),D=ie.add(ke),j=Ie.add(De)}else{let{p:W,f:U}=this.wNAF(I);D=W,j=U}return g.normalizeZ([D,j])[0]}multiplyAndAddUnsafe(I,M,A){let D=g.BASE,j=(U,J)=>J===ls||J===Ft||!U.equals(D)?U.multiplyUnsafe(J):U.multiply(J),W=j(this,M).add(j(I,A));return W.is0()?void 0:W}toAffine(I){return d(this,I)}isTorsionFree(){let{h:I,isTorsionFree:M}=e;if(I===Ft)return!0;if(M)return M(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:I,clearCofactor:M}=e;return I===Ft?this:M?M(g,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return Po("isCompressed",I),this.assertValidity(),n(g,this,I)}toHex(I=!0){return Po("isCompressed",I),Uo(this.toRawBytes(I))}}g.BASE=new g(e.Gx,e.Gy,t.ONE),g.ZERO=new g(t.ZERO,t.ONE,t.ZERO);let _=e.nBitLength,S=bL(g,e.endo?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:u}}function rB(i){let e=ov(i);return Ms(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function IL(i){let e=rB(i),{Fp:t,n:s}=e,n=t.BYTES+1,o=2*t.BYTES+1;function l(ye){return ci(ye,s)}function u(ye){return dg(ye,s)}let{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:f}=iB({...e,toBytes(ye,ue,me){let R=ue.toAffine(),Fe=t.toBytes(R.x),pe=Gi;return Po("isCompressed",me),me?pe(Uint8Array.from([ue.hasEvenY()?2:3]),Fe):pe(Uint8Array.from([4]),Fe,t.toBytes(R.y))},fromBytes(ye){let ue=ye.length,me=ye[0],R=ye.subarray(1);if(ue===n&&(me===2||me===3)){let Fe=ur(R);if(!zn(Fe,Ft,t.ORDER))throw new Error("Point is not on curve");let pe=d(Fe),$e;try{$e=t.sqrt(pe)}catch(Li){let wt=Li instanceof Error?": "+Li.message:"";throw new Error("Point is not on curve"+wt)}let Ct=($e&Ft)===Ft;return(me&1)===1!==Ct&&($e=t.neg($e)),{x:Fe,y:$e}}else if(ue===o&&me===4){let Fe=t.fromBytes(R.subarray(0,t.BYTES)),pe=t.fromBytes(R.subarray(t.BYTES,2*t.BYTES));return{x:Fe,y:pe}}else{let Fe=n,pe=o;throw new Error("invalid Point, expected length of "+Fe+", or uncompressed "+pe+", got "+ue)}}}),g=ye=>Uo(as(ye,e.nByteLength));function _(ye){let ue=s>>Ft;return ye>ue}function S(ye){return _(ye)?l(-ye):ye}let x=(ye,ue,me)=>ur(ye.slice(ue,me));class I{constructor(ue,me,R){this.r=ue,this.s=me,this.recovery=R,this.assertValidity()}static fromCompact(ue){let me=e.nByteLength;return ue=vi("compactSignature",ue,me*2),new I(x(ue,0,me),x(ue,me,2*me))}static fromDER(ue){let{r:me,s:R}=en.toSig(vi("DER",ue));return new I(me,R)}assertValidity(){As("r",this.r,Ft,s),As("s",this.s,Ft,s)}addRecoveryBit(ue){return new I(this.r,this.s,ue)}recoverPublicKey(ue){let{r:me,s:R,recovery:Fe}=this,pe=U(vi("msgHash",ue));if(Fe==null||![0,1,2,3].includes(Fe))throw new Error("recovery id invalid");let $e=Fe===2||Fe===3?me+e.n:me;if($e>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let Ct=Fe&1?"03":"02",si=p.fromHex(Ct+g($e)),Li=u($e),wt=l(-pe*Li),or=l(R*Li),Xi=p.BASE.multiplyAndAddUnsafe(si,wt,or);if(!Xi)throw new Error("point at infinify");return Xi.assertValidity(),Xi}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return zo(this.toDERHex())}toDERHex(){return en.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zo(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let M={isValidPrivateKey(ye){try{return m(ye),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{let ye=tv(e.n);return hL(e.randomBytes(ye),e.n)},precompute(ye=8,ue=p.BASE){return ue._setWindowSize(ye),ue.multiply(BigInt(3)),ue}};function A(ye,ue=!0){return p.fromPrivateKey(ye).toRawBytes(ue)}function D(ye){let ue=Hn(ye),me=typeof ye=="string",R=(ue||me)&&ye.length;return ue?R===n||R===o:me?R===2*n||R===2*o:ye instanceof p}function j(ye,ue,me=!0){if(D(ye))throw new Error("first arg must be private key");if(!D(ue))throw new Error("second arg must be public key");return p.fromHex(ue).multiply(m(ye)).toRawBytes(me)}let W=e.bits2int||function(ye){if(ye.length>8192)throw new Error("input is too large");let ue=ur(ye),me=ye.length*8-e.nBitLength;return me>0?ue>>BigInt(me):ue},U=e.bits2int_modN||function(ye){return l(W(ye))},J=yp(e.nBitLength);function X(ye){return As("num < 2^"+e.nBitLength,ye,ls,J),as(ye,e.nByteLength)}function ie(ye,ue,me=Ie){if(["recovered","canonical"].some(Mr=>Mr in me))throw new Error("sign() legacy options not supported");let{hash:R,randomBytes:Fe}=e,{lowS:pe,prehash:$e,extraEntropy:Ct}=me;pe==null&&(pe=!0),ye=vi("msgHash",ye),xL(me),$e&&(ye=vi("prehashed msgHash",R(ye)));let si=U(ye),Li=m(ue),wt=[X(Li),X(si)];if(Ct!=null&&Ct!==!1){let Mr=Ct===!0?Fe(t.BYTES):Ct;wt.push(vi("extraEntropy",Mr))}let or=Gi(...wt),Xi=si;function Ar(Mr){let $r=W(Mr);if(!f($r))return;let yn=u($r),qr=p.BASE.multiply($r).toAffine(),br=l(qr.x);if(br===ls)return;let _s=l(yn*l(Xi+br*Li));if(_s===ls)return;let Yr=(qr.x===br?0:2)|Number(qr.y&Ft),go=_s;return pe&&_(_s)&&(go=S(_s),Yr^=1),new I(br,go,Yr)}return{seed:or,k2sig:Ar}}let Ie={lowS:e.lowS,prehash:!1},ke={lowS:e.lowS,prehash:!1};function De(ye,ue,me=Ie){let{seed:R,k2sig:Fe}=ie(ye,ue,me),pe=e;return Xx(pe.hash.outputLen,pe.nByteLength,pe.hmac)(R,Fe)}p.BASE._setWindowSize(8);function ft(ye,ue,me,R=ke){let Fe=ye;ue=vi("msgHash",ue),me=vi("publicKey",me);let{lowS:pe,prehash:$e,format:Ct}=R;if(xL(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(Ct!==void 0&&Ct!=="compact"&&Ct!=="der")throw new Error("format must be compact or der");let si=typeof Fe=="string"||Hn(Fe),Li=!si&&!Ct&&typeof Fe=="object"&&Fe!==null&&typeof Fe.r=="bigint"&&typeof Fe.s=="bigint";if(!si&&!Li)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let wt,or;try{if(Li&&(wt=new I(Fe.r,Fe.s)),si){try{Ct!=="compact"&&(wt=I.fromDER(Fe))}catch(Yr){if(!(Yr instanceof en.Err))throw Yr}!wt&&Ct!=="der"&&(wt=I.fromCompact(Fe))}or=p.fromHex(me)}catch{return!1}if(!wt||pe&&wt.hasHighS())return!1;$e&&(ue=e.hash(ue));let{r:Xi,s:Ar}=wt,Mr=U(ue),$r=u(Ar),yn=l(Mr*$r),qr=l(Xi*$r),br=p.BASE.multiplyAndAddUnsafe(or,yn,qr)?.toAffine();return br?l(br.x)===Xi:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:j,sign:De,verify:ft,ProjectivePoint:p,Signature:I,utils:M}}function sB(i,e){let t=i.ORDER,s=ls;for(let S=t-Ft;S%jn===ls;S/=jn)s+=Ft;let n=s,o=jn<<n-Ft-Ft,l=o*jn,u=(t-Ft)/l,p=(u-Ft)/jn,m=l-Ft,d=o,f=i.pow(e,u),g=i.pow(e,(u+Ft)/jn),_=(S,x)=>{let I=f,M=i.pow(x,m),A=i.sqr(M);A=i.mul(A,x);let D=i.mul(S,A);D=i.pow(D,p),D=i.mul(D,M),M=i.mul(D,x),A=i.mul(D,S);let j=i.mul(A,M);D=i.pow(j,d);let W=i.eql(D,i.ONE);M=i.mul(A,g),D=i.mul(j,I),A=i.cmov(M,A,W),j=i.cmov(D,j,W);for(let U=n;U>Ft;U--){let J=U-jn;J=jn<<J-Ft;let X=i.pow(j,J),ie=i.eql(X,i.ONE);M=i.mul(A,I),I=i.mul(I,I),X=i.mul(j,I),A=i.cmov(M,A,ie),j=i.cmov(X,j,ie)}return{isValid:W,value:A}};if(i.ORDER%vL===yg){let S=(i.ORDER-yg)/vL,x=i.sqrt(i.neg(e));_=(I,M)=>{let A=i.sqr(M),D=i.mul(I,M);A=i.mul(A,D);let j=i.pow(A,S);j=i.mul(j,D);let W=i.mul(j,x),U=i.mul(i.sqr(j),M),J=i.eql(U,I),X=i.cmov(W,j,J);return{isValid:J,value:X}}}return _}function SL(i,e){if(fg(i),!i.isValid(e.A)||!i.isValid(e.B)||!i.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=sB(i,e.Z);if(!i.isOdd)throw new Error("Fp.isOdd is not implemented!");return s=>{let n,o,l,u,p,m,d,f;n=i.sqr(s),n=i.mul(n,e.Z),o=i.sqr(n),o=i.add(o,n),l=i.add(o,i.ONE),l=i.mul(l,e.B),u=i.cmov(e.Z,i.neg(o),!i.eql(o,i.ZERO)),u=i.mul(u,e.A),o=i.sqr(l),m=i.sqr(u),p=i.mul(m,e.A),o=i.add(o,p),o=i.mul(o,l),m=i.mul(m,u),p=i.mul(m,e.B),o=i.add(o,p),d=i.mul(n,l);let{isValid:g,value:_}=t(o,m);f=i.mul(n,s),f=i.mul(f,_),d=i.cmov(d,l,g),f=i.cmov(f,_,g);let S=i.isOdd(s)===i.isOdd(f);return f=i.cmov(i.neg(f),f,S),d=i.div(d,u),{x:d,y:f}}}var eB,tB,av,en,ls,Ft,jn,yg,vL,lv=b(()=>{"use strict";_L();_p();jo();jo();({bytesToNumberBE:eB,hexToBytes:tB}=Jx),av=class extends Error{constructor(e=""){super(e)}},en={Err:av,_tlv:{encode:(i,e)=>{let{Err:t}=en;if(i<0||i>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let s=e.length/2,n=Ho(s);if(n.length/2&128)throw new t("tlv.encode: long form length too big");let o=s>127?Ho(n.length/2|128):"";return Ho(i)+o+n+e},decode(i,e){let{Err:t}=en,s=0;if(i<0||i>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[s++]!==i)throw new t("tlv.decode: wrong tlv");let n=e[s++],o=!!(n&128),l=0;if(!o)l=n;else{let p=n&127;if(!p)throw new t("tlv.decode(long): indefinite length not supported");if(p>4)throw new t("tlv.decode(long): byte length is too big");let m=e.subarray(s,s+p);if(m.length!==p)throw new t("tlv.decode: length bytes not complete");if(m[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let d of m)l=l<<8|d;if(s+=p,l<128)throw new t("tlv.decode(long): not minimal encoding")}let u=e.subarray(s,s+l);if(u.length!==l)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(s+l)}}},_int:{encode(i){let{Err:e}=en;if(i<ls)throw new e("integer: negative integers are not allowed");let t=Ho(i);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(i){let{Err:e}=en;if(i[0]&128)throw new e("invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return eB(i)}},toSig(i){let{Err:e,_int:t,_tlv:s}=en,n=typeof i=="string"?tB(i):i;Pr(n);let{v:o,l}=s.decode(48,n);if(l.length)throw new e("invalid signature: left bytes after parsing");let{v:u,l:p}=s.decode(2,o),{v:m,l:d}=s.decode(2,p);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(m)}},hexFromSig(i){let{_tlv:e,_int:t}=en,s=e.encode(2,t.encode(i.r)),n=e.encode(2,t.encode(i.s)),o=s+n;return e.encode(48,o)}},ls=BigInt(0),Ft=BigInt(1),jn=BigInt(2),yg=BigInt(3),vL=BigInt(4)});function nB(i){return{hash:i,hmac:(e,...t)=>Kx(i,e,xE(...t)),randomBytes:Mf}}function kL(i,e){let t=s=>IL({...i,...nB(s)});return{...t(e),create:t}}var EL=b(()=>{"use strict";aL();Lo();lv();});function Gn(i,e){if(xp(i),xp(e),i<0||i>=1<<8*e)throw new Error("invalid I2OSP input: "+i);let t=Array.from({length:e}).fill(0);for(let s=e-1;s>=0;s--)t[s]=i&255,i>>>=8;return new Uint8Array(t)}function aB(i,e){let t=new Uint8Array(i.length);for(let s=0;s<i.length;s++)t[s]=i[s]^e[s];return t}function xp(i){if(!Number.isSafeInteger(i))throw new Error("number expected")}function lB(i,e,t,s){Pr(i),Pr(e),xp(t),e.length>255&&(e=s(Gi(bp("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:o}=s,l=Math.ceil(t/n);if(t>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");let u=Gi(e,Gn(e.length,1)),p=Gn(0,o),m=Gn(t,2),d=new Array(l),f=s(Gi(p,i,m,Gn(0,1),u));d[0]=s(Gi(f,Gn(1,1),u));for(let _=1;_<=l;_++){let S=[aB(f,d[_-1]),Gn(_+1,1),u];d[_]=s(Gi(...S))}return Gi(...d).slice(0,t)}function cB(i,e,t,s,n){if(Pr(i),Pr(e),xp(t),e.length>255){let o=Math.ceil(2*s/8);e=n.create({dkLen:o}).update(bp("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:t}).update(i).update(Gn(t,2)).update(e).update(Gn(e.length,1)).digest()}function LL(i,e,t){Ms(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:s,k:n,m:o,hash:l,expand:u,DST:p}=t;Pr(i),xp(e);let m=typeof p=="string"?bp(p):p,d=s.toString(2).length,f=Math.ceil((d+n)/8),g=e*o*f,_;if(u==="xmd")_=lB(i,m,g,l);else if(u==="xof")_=cB(i,m,g,n,l);else if(u==="_internal_pass")_=i;else throw new Error('expand must be "xmd" or "xof"');let S=new Array(e);for(let x=0;x<e;x++){let I=new Array(o);for(let M=0;M<o;M++){let A=f*(M+x*o),D=_.subarray(A,A+f);I[M]=ci(oB(D),s)}S[x]=I}return S}function wL(i,e){let t=e.map(s=>Array.from(s).reverse());return(s,n)=>{let[o,l,u,p]=t.map(m=>m.reduce((d,f)=>i.add(i.mul(d,s),f)));return s=i.div(o,l),n=i.mul(n,i.div(u,p)),{x:s,y:n}}}function TL(i,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(s,n){let o=LL(s,2,{...t,DST:t.DST,...n}),l=i.fromAffine(e(o[0])),u=i.fromAffine(e(o[1])),p=l.add(u).clearCofactor();return p.assertValidity(),p},encodeToCurve(s,n){let o=LL(s,1,{...t,DST:t.encodeDST,...n}),l=i.fromAffine(e(o[0])).clearCofactor();return l.assertValidity(),l},mapToCurve(s){if(!Array.isArray(s))throw new Error("mapToCurve: expected array of bigints");for(let o of s)if(typeof o!="bigint")throw new Error("mapToCurve: expected array of bigints");let n=i.fromAffine(e(s)).clearCofactor();return n.assertValidity(),n}}}var oB,CL=b(()=>{"use strict";_p();jo();oB=ur});var PL={};yd(PL,{encodeToCurve:()=>bB,hashToCurve:()=>gB,schnorr:()=>hB,secp256k1:()=>tn});function RL(i){let e=Sp,t=BigInt(3),s=BigInt(6),n=BigInt(11),o=BigInt(22),l=BigInt(23),u=BigInt(44),p=BigInt(88),m=i*i*i%e,d=m*m*i%e,f=vr(d,t,e)*d%e,g=vr(f,t,e)*d%e,_=vr(g,xg,e)*m%e,S=vr(_,n,e)*_%e,x=vr(S,o,e)*S%e,I=vr(x,u,e)*x%e,M=vr(I,p,e)*I%e,A=vr(M,u,e)*x%e,D=vr(A,t,e)*d%e,j=vr(D,l,e)*S%e,W=vr(j,s,e)*m%e,U=vr(W,xg,e);if(!Vn.eql(Vn.sqr(U),i))throw new Error("Cannot find square root");return U}function vg(i,...e){let t=ML[i];if(t===void 0){let s=Fo(Uint8Array.from(i,n=>n.charCodeAt(0)));t=Gi(s,s),ML[i]=t}return Fo(Gi(t,...e))}function pv(i){let e=tn.utils.normPrivateKeyToScalar(i),t=hv.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:Ip(-e),bytes:mv(t)}}function DL(i){As("x",i,vp,Sp);let e=cv(i*i),t=cv(e*i+BigInt(7)),s=RL(t);s%xg!==BL&&(s=cv(-s));let n=new hv(i,s,vp);return n.assertValidity(),n}function OL(...i){return Ip(tl(vg("BIP0340/challenge",...i)))}function pB(i){return pv(i).bytes}function mB(i,e,t=Mf(32)){let s=vi("message",i),{bytes:n,scalar:o}=pv(e),l=vi("auxRand",t,32),u=uv(o^tl(vg("BIP0340/aux",l))),p=vg("BIP0340/nonce",u,n,s),m=Ip(tl(p));if(m===BL)throw new Error("sign failed: k is zero");let{bytes:d,scalar:f}=pv(m),g=OL(d,n,s),_=new Uint8Array(64);if(_.set(d,0),_.set(uv(Ip(f+g*o)),32),!NL(_,s,n))throw new Error("sign: Invalid signature produced");return _}function NL(i,e,t){let s=vi("signature",i,64),n=vi("message",e),o=vi("publicKey",t,32);try{let l=DL(tl(o)),u=tl(s.subarray(0,32));if(!zn(u,vp,Sp))return!1;let p=tl(s.subarray(32,64));if(!zn(p,vp,_g))return!1;let m=OL(uv(u),mv(l),n),d=uB(l,p,Ip(-m));return!(!d||!d.hasEvenY()||d.toAffine().x!==u)}catch{return!1}}var Sp,_g,vp,xg,AL,Vn,tn,BL,ML,mv,uv,cv,Ip,hv,uB,tl,hB,dB,fB,FL,gB,bB,Ig=b(()=>{"use strict";Wx();Lo();EL();CL();_p();jo();lv();Sp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_g=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vp=BigInt(1),xg=BigInt(2),AL=(i,e)=>(i+e/xg)/e;Vn=gg(Sp,void 0,void 0,{sqrt:RL}),tn=kL({a:BigInt(0),b:BigInt(7),Fp:Vn,n:_g,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:i=>{let e=_g,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-vp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,l=BigInt("0x100000000000000000000000000000000"),u=AL(o*i,e),p=AL(-s*i,e),m=ci(i-u*t-p*n,e),d=ci(-u*s-p*o,e),f=m>l,g=d>l;if(f&&(m=e-m),g&&(d=e-d),m>l||d>l)throw new Error("splitScalar: Endomorphism failed, k="+i);return{k1neg:f,k1:m,k2neg:g,k2:d}}}},Fo),BL=BigInt(0),ML={};mv=i=>i.toRawBytes(!0).slice(1),uv=i=>as(i,32),cv=i=>ci(i,Sp),Ip=i=>ci(i,_g),hv=tn.ProjectivePoint,uB=(i,e,t)=>hv.BASE.multiplyAndAddUnsafe(i,e,t);tl=ur;hB=(()=>({getPublicKey:pB,sign:mB,verify:NL,utils:{randomPrivateKey:tn.utils.randomPrivateKey,lift_x:DL,pointToBytes:mv,numberToBytesBE:as,bytesToNumberBE:ur,taggedHash:vg,mod:ci}}))(),dB=(()=>wL(Vn,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(i=>i.map(e=>BigInt(e)))))(),fB=(()=>SL(Vn,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Vn.create(BigInt("-11"))}))(),FL=(()=>TL(tn.ProjectivePoint,i=>{let{x:e,y:t}=fB(Vn.create(i[0]));return dB(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Vn.ORDER,m:1,k:128,expand:"xmd",hash:Fo}))(),gB=(()=>FL.hashToCurve)(),bB=(()=>FL.encodeToCurve)()});async function HL({hash:i,signature:e}){let t=li(i)?i:Re(i),{secp256k1:s}=await Promise.resolve().then(()=>(Ig(),PL));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:m,s:d,v:f,yParity:g}=e,_=Number(g??f),S=UL(_);return new s.Signature(Wt(m),Wt(d)).addRecoveryBit(S)}let l=li(e)?e:Re(e),u=hi(`0x${l.slice(130)}`),p=UL(u);return s.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(p)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function UL(i){if(i===0||i===1)return i;if(i===27)return 0;if(i===28)return 1;throw new Error("Invalid yParityOrV value")}var zL=b(()=>{"use strict";Jr();Hi();Ke()});async function Sg({hash:i,signature:e}){return iL(await HL({hash:i,signature:e}))}var dv=b(()=>{"use strict";rL();zL()});function cs(i,e="hex"){let t=jL(i),s=Oa(new Uint8Array(t.length));return t.encode(s),e==="hex"?yt(s.bytes):s.bytes}function jL(i){return Array.isArray(i)?yB(i.map(e=>jL(e))):_B(i)}function yB(i){let e=i.reduce((n,o)=>n+o.length,0),t=GL(e);return{length:(()=>e<=55?1+e:1+t+e)(),encode(n){e<=55?n.pushByte(192+e):(n.pushByte(192+55+t),t===1?n.pushUint8(e):t===2?n.pushUint16(e):t===3?n.pushUint24(e):n.pushUint32(e));for(let{encode:o}of i)o(n)}}}function _B(i){let e=typeof i=="string"?yi(i):i,t=GL(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+t+e.length)(),encode(n){e.length===1&&e[0]<128?n.pushBytes(e):e.length<=55?(n.pushByte(128+e.length),n.pushBytes(e)):(n.pushByte(128+55+t),t===1?n.pushUint8(e.length):t===2?n.pushUint16(e.length):t===3?n.pushUint24(e.length):n.pushUint32(e.length),n.pushBytes(e))}}}function GL(i){if(i<2**8)return 1;if(i<2**16)return 2;if(i<2**24)return 3;if(i<2**32)return 4;throw new G("Length is too large.")}var kg=b(()=>{"use strict";pt();Gf();Ti();Ke()});function VL(i){let{chainId:e,nonce:t,to:s}=i,n=i.contractAddress??i.address,o=zt(zi(["0x05",cs([e?we(e):"0x",n,t?we(t):"0x"])]));return s==="bytes"?yi(o):o}var WL=b(()=>{"use strict";Or();Ti();Ke();kg();ss()});async function Eg(i){let{authorization:e,signature:t}=i;return Sg({hash:VL(e),signature:t??e})}var fv=b(()=>{"use strict";dv();WL()});var Lg,KL=b(()=>{"use strict";$f();Pa();pt();os();Lg=class extends G{constructor(e,{account:t,docsPath:s,chain:n,data:o,gas:l,gasPrice:u,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,to:f,value:g}){let _=Ao({from:t?.address,to:f,value:typeof g<"u"&&`${Fa(g)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:typeof u<"u"&&`${xi(u)} gwei`,maxFeePerGas:typeof p<"u"&&`${xi(p)} gwei`,maxPriorityFeePerGas:typeof m<"u"&&`${xi(m)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",_].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}});var rn,Ur,il,rl,sl,nl,ol,al,ll,cl,Rs,Hr,Wn=b(()=>{"use strict";Pa();pt();rn=class extends G{constructor({cause:e,message:t}={}){let s=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(rn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});Ur=class extends G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${xi(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(Ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});il=class extends G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${xi(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});rl=class extends G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(rl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});sl=class extends G{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(sl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});nl=class extends G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(nl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});ol=class extends G{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(ol,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});al=class extends G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(al,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});ll=class extends G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(ll,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});cl=class extends G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});Rs=class extends G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${xi(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${xi(s)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(Rs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});Hr=class extends G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function Kn(i,e){let t=(i.details||"").toLowerCase(),s=i instanceof G?i.walk(n=>n?.code===rn.code):i;return s instanceof G?new rn({cause:i,message:s.details}):rn.nodeMessage.test(t)?new rn({cause:i,message:i.details}):Ur.nodeMessage.test(t)?new Ur({cause:i,maxFeePerGas:e?.maxFeePerGas}):il.nodeMessage.test(t)?new il({cause:i,maxFeePerGas:e?.maxFeePerGas}):rl.nodeMessage.test(t)?new rl({cause:i,nonce:e?.nonce}):sl.nodeMessage.test(t)?new sl({cause:i,nonce:e?.nonce}):nl.nodeMessage.test(t)?new nl({cause:i,nonce:e?.nonce}):ol.nodeMessage.test(t)?new ol({cause:i}):al.nodeMessage.test(t)?new al({cause:i,gas:e?.gas}):ll.nodeMessage.test(t)?new ll({cause:i,gas:e?.gas}):cl.nodeMessage.test(t)?new cl({cause:i}):Rs.nodeMessage.test(t)?new Rs({cause:i,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Hr({cause:i})}var kp=b(()=>{"use strict";pt();Wn()});function $L(i,{docsPath:e,...t}){let s=(()=>{let n=Kn(i,t);return n instanceof Hr?i:n})();return new Lg(s,{docsPath:e,...t})}var qL=b(()=>{"use strict";KL();Wn();kp()});function $n(i,{format:e}){if(!e)return{};let t={};function s(o){let l=Object.keys(o);for(let u of l)u in i&&(t[u]=i[u]),o[u]&&typeof o[u]=="object"&&!Array.isArray(o[u])&&s(o[u])}let n=e(i||{});return s(n),t}var Ep=b(()=>{"use strict"});function ul(i,e){return({exclude:t,format:s})=>({exclude:t,format:n=>{let o=e(n);if(t)for(let l of t)delete o[l];return{...o,...s(n)}},type:i})}var wg=b(()=>{"use strict"});function zr(i){let e={};return typeof i.authorizationList<"u"&&(e.authorizationList=vB(i.authorizationList)),typeof i.accessList<"u"&&(e.accessList=i.accessList),typeof i.blobVersionedHashes<"u"&&(e.blobVersionedHashes=i.blobVersionedHashes),typeof i.blobs<"u"&&(typeof i.blobs[0]!="string"?e.blobs=i.blobs.map(t=>yt(t)):e.blobs=i.blobs),typeof i.data<"u"&&(e.data=i.data),typeof i.from<"u"&&(e.from=i.from),typeof i.gas<"u"&&(e.gas=we(i.gas)),typeof i.gasPrice<"u"&&(e.gasPrice=we(i.gasPrice)),typeof i.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=we(i.maxFeePerBlobGas)),typeof i.maxFeePerGas<"u"&&(e.maxFeePerGas=we(i.maxFeePerGas)),typeof i.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=we(i.maxPriorityFeePerGas)),typeof i.nonce<"u"&&(e.nonce=we(i.nonce)),typeof i.to<"u"&&(e.to=i.to),typeof i.type<"u"&&(e.type=xB[i.type]),typeof i.value<"u"&&(e.value=we(i.value)),e}function vB(i){return i.map(e=>({address:e.address,r:e.r?we(BigInt(e.r)):e.r,s:e.s?we(BigInt(e.s)):e.s,chainId:we(e.chainId),nonce:we(e.nonce),...typeof e.yParity<"u"?{yParity:we(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:we(e.v)}:{}}))}var xB,Vo=b(()=>{"use strict";Ke();xB={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"}});function YL(i){if(!(!i||i.length===0))return i.reduce((e,{slot:t,value:s})=>{if(t.length!==66)throw new np({size:t.length,targetSize:66,type:"hex"});if(s.length!==66)throw new np({size:s.length,targetSize:66,type:"hex"});return e[t]=s,e},{})}function IB(i){let{balance:e,nonce:t,state:s,stateDiff:n,code:o}=i,l={};if(o!==void 0&&(l.code=o),e!==void 0&&(l.balance=we(e)),t!==void 0&&(l.nonce=we(t)),s!==void 0&&(l.state=YL(s)),n!==void 0){if(l.state)throw new Yf;l.stateDiff=YL(n)}return l}function pl(i){if(!i)return;let e={};for(let{address:t,...s}of i){if(!Nt(t,{strict:!1}))throw new Gt({address:t});if(e[t])throw new qf({address:t});e[t]=IB(s)}return e}var Tg=b(()=>{"use strict";Ss();vf();Gx();ns();Ke()});var T4,C4,A4,M4,R4,B4,D4,O4,N4,F4,P4,U4,H4,z4,j4,G4,V4,W4,K4,$4,q4,Y4,Q4,X4,J4,Z4,eH,tH,iH,rH,sH,nH,oH,aH,lH,cH,uH,pH,mH,hH,dH,fH,gH,bH,yH,_H,xH,vH,IH,SH,kH,EH,LH,wH,TH,CH,AH,MH,RH,BH,DH,OH,NH,FH,PH,UH,HH,zH,jH,GH,VH,WH,KH,$H,qH,YH,QH,XH,JH,ZH,ez,tz,iz,rz,sz,nz,oz,az,lz,cz,uz,pz,mz,hz,dz,ml,gv=b(()=>{"use strict";T4=2n**(8n-1n)-1n,C4=2n**(16n-1n)-1n,A4=2n**(24n-1n)-1n,M4=2n**(32n-1n)-1n,R4=2n**(40n-1n)-1n,B4=2n**(48n-1n)-1n,D4=2n**(56n-1n)-1n,O4=2n**(64n-1n)-1n,N4=2n**(72n-1n)-1n,F4=2n**(80n-1n)-1n,P4=2n**(88n-1n)-1n,U4=2n**(96n-1n)-1n,H4=2n**(104n-1n)-1n,z4=2n**(112n-1n)-1n,j4=2n**(120n-1n)-1n,G4=2n**(128n-1n)-1n,V4=2n**(136n-1n)-1n,W4=2n**(144n-1n)-1n,K4=2n**(152n-1n)-1n,$4=2n**(160n-1n)-1n,q4=2n**(168n-1n)-1n,Y4=2n**(176n-1n)-1n,Q4=2n**(184n-1n)-1n,X4=2n**(192n-1n)-1n,J4=2n**(200n-1n)-1n,Z4=2n**(208n-1n)-1n,eH=2n**(216n-1n)-1n,tH=2n**(224n-1n)-1n,iH=2n**(232n-1n)-1n,rH=2n**(240n-1n)-1n,sH=2n**(248n-1n)-1n,nH=2n**(256n-1n)-1n,oH=-(2n**(8n-1n)),aH=-(2n**(16n-1n)),lH=-(2n**(24n-1n)),cH=-(2n**(32n-1n)),uH=-(2n**(40n-1n)),pH=-(2n**(48n-1n)),mH=-(2n**(56n-1n)),hH=-(2n**(64n-1n)),dH=-(2n**(72n-1n)),fH=-(2n**(80n-1n)),gH=-(2n**(88n-1n)),bH=-(2n**(96n-1n)),yH=-(2n**(104n-1n)),_H=-(2n**(112n-1n)),xH=-(2n**(120n-1n)),vH=-(2n**(128n-1n)),IH=-(2n**(136n-1n)),SH=-(2n**(144n-1n)),kH=-(2n**(152n-1n)),EH=-(2n**(160n-1n)),LH=-(2n**(168n-1n)),wH=-(2n**(176n-1n)),TH=-(2n**(184n-1n)),CH=-(2n**(192n-1n)),AH=-(2n**(200n-1n)),MH=-(2n**(208n-1n)),RH=-(2n**(216n-1n)),BH=-(2n**(224n-1n)),DH=-(2n**(232n-1n)),OH=-(2n**(240n-1n)),NH=-(2n**(248n-1n)),FH=-(2n**(256n-1n)),PH=2n**8n-1n,UH=2n**16n-1n,HH=2n**24n-1n,zH=2n**32n-1n,jH=2n**40n-1n,GH=2n**48n-1n,VH=2n**56n-1n,WH=2n**64n-1n,KH=2n**72n-1n,$H=2n**80n-1n,qH=2n**88n-1n,YH=2n**96n-1n,QH=2n**104n-1n,XH=2n**112n-1n,JH=2n**120n-1n,ZH=2n**128n-1n,ez=2n**136n-1n,tz=2n**144n-1n,iz=2n**152n-1n,rz=2n**160n-1n,sz=2n**168n-1n,nz=2n**176n-1n,oz=2n**184n-1n,az=2n**192n-1n,lz=2n**200n-1n,cz=2n**208n-1n,uz=2n**216n-1n,pz=2n**224n-1n,mz=2n**232n-1n,hz=2n**240n-1n,dz=2n**248n-1n,ml=2n**256n-1n});function pr(i){let{account:e,gasPrice:t,maxFeePerGas:s,maxPriorityFeePerGas:n,to:o}=i,l=e?dt(e):void 0;if(l&&!Nt(l.address))throw new Gt({address:l.address});if(o&&!Nt(o))throw new Gt({address:o});if(typeof t<"u"&&(typeof s<"u"||typeof n<"u"))throw new Qf;if(s&&s>ml)throw new Ur({maxFeePerGas:s});if(n&&s&&n>s)throw new Rs({maxFeePerGas:s,maxPriorityFeePerGas:n})}var qn=b(()=>{"use strict";_i();gv();Ss();Wn();os();ns()});var Cg,Yn,Ag,Mg=b(()=>{"use strict";Pa();pt();Cg=class extends G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Yn=class extends G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Ag=class extends G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${xi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var hl,bv=b(()=>{"use strict";pt();hl=class extends G{constructor({blockHash:e,blockNumber:t}){let s="Block";e&&(s=`Block at hash "${e}"`),t&&(s=`Block at number "${t}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}});function Wo(i){let e={...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,chainId:i.chainId?hi(i.chainId):void 0,gas:i.gas?BigInt(i.gas):void 0,gasPrice:i.gasPrice?BigInt(i.gasPrice):void 0,maxFeePerBlobGas:i.maxFeePerBlobGas?BigInt(i.maxFeePerBlobGas):void 0,maxFeePerGas:i.maxFeePerGas?BigInt(i.maxFeePerGas):void 0,maxPriorityFeePerGas:i.maxPriorityFeePerGas?BigInt(i.maxPriorityFeePerGas):void 0,nonce:i.nonce?hi(i.nonce):void 0,to:i.to?i.to:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,type:i.type?yv[i.type]:void 0,typeHex:i.type?i.type:void 0,value:i.value?BigInt(i.value):void 0,v:i.v?BigInt(i.v):void 0};return i.authorizationList&&(e.authorizationList=SB(i.authorizationList)),e.yParity=(()=>{if(i.yParity)return Number(i.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function SB(i){return i.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}var yv,QL,Lp=b(()=>{"use strict";Hi();wg();yv={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};QL=ul("transaction",Wo)});function wp(i){let e=(i.transactions??[]).map(t=>typeof t=="string"?t:Wo(t));return{...i,baseFeePerGas:i.baseFeePerGas?BigInt(i.baseFeePerGas):null,blobGasUsed:i.blobGasUsed?BigInt(i.blobGasUsed):void 0,difficulty:i.difficulty?BigInt(i.difficulty):void 0,excessBlobGas:i.excessBlobGas?BigInt(i.excessBlobGas):void 0,gasLimit:i.gasLimit?BigInt(i.gasLimit):void 0,gasUsed:i.gasUsed?BigInt(i.gasUsed):void 0,hash:i.hash?i.hash:null,logsBloom:i.logsBloom?i.logsBloom:null,nonce:i.nonce?i.nonce:null,number:i.number?BigInt(i.number):null,size:i.size?BigInt(i.size):void 0,timestamp:i.timestamp?BigInt(i.timestamp):void 0,transactions:e,totalDifficulty:i.totalDifficulty?BigInt(i.totalDifficulty):null}}var XL,Rg=b(()=>{"use strict";wg();Lp();XL=ul("block",wp)});async function Vi(i,{blockHash:e,blockNumber:t,blockTag:s,includeTransactions:n}={}){let o=s??"latest",l=n??!1,u=t!==void 0?we(t):void 0,p=null;if(e?p=await i.request({method:"eth_getBlockByHash",params:[e,l]},{dedupe:!0}):p=await i.request({method:"eth_getBlockByNumber",params:[u||o,l]},{dedupe:!!u}),!p)throw new hl({blockHash:e,blockNumber:t});return(i.chain?.formatters?.block?.format||wp)(p)}var Ko=b(()=>{"use strict";bv();Ke();Rg()});async function dl(i){let e=await i.request({method:"eth_gasPrice"});return BigInt(e)}var Bg=b(()=>{"use strict"});async function JL(i,e){return _v(i,e)}async function _v(i,e){let{block:t,chain:s=i.chain,request:n}=e||{};try{let o=s?.fees?.maxPriorityFeePerGas??s?.fees?.defaultPriorityFee;if(typeof o=="function"){let u=t||await Ee(i,Vi,"getBlock")({}),p=await o({block:u,client:i,request:n});if(p===null)throw new Error;return p}if(typeof o<"u")return o;let l=await i.request({method:"eth_maxPriorityFeePerGas"});return Wt(l)}catch{let[o,l]=await Promise.all([t?Promise.resolve(t):Ee(i,Vi,"getBlock")({}),Ee(i,dl,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Yn;let u=l-o.baseFeePerGas;return u<0n?0n:u}}var xv=b(()=>{"use strict";Mg();Hi();Ht();Ko();Bg()});async function ZL(i,e){return Dg(i,e)}async function Dg(i,e){let{block:t,chain:s=i.chain,request:n,type:o="eip1559"}=e||{},l=await(async()=>typeof s?.fees?.baseFeeMultiplier=="function"?s.fees.baseFeeMultiplier({block:t,client:i,request:n}):s?.fees?.baseFeeMultiplier??1.2)();if(l<1)throw new Cg;let p=10**(l.toString().split(".")[1]?.length??0),m=g=>g*BigInt(Math.ceil(l*p))/BigInt(p),d=t||await Ee(i,Vi,"getBlock")({});if(typeof s?.fees?.estimateFeesPerGas=="function"){let g=await s.fees.estimateFeesPerGas({block:t,client:i,multiply:m,request:n,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Yn;let g=typeof n?.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:await _v(i,{block:d,chain:s,request:n}),_=m(d.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??_+g,maxPriorityFeePerGas:g}}return{gasPrice:n?.gasPrice??m(await Ee(i,dl,"getGasPrice")({}))}}var vv=b(()=>{"use strict";Mg();Ht();xv();Ko();Bg()});async function fl(i,{address:e,blockTag:t="latest",blockNumber:s}){let n=await i.request({method:"eth_getTransactionCount",params:[e,s?we(s):t]},{dedupe:!!s});return hi(n)}var Og=b(()=>{"use strict";Hi();Ke()});function gl(i){let{kzg:e}=i,t=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),s=typeof i.blobs[0]=="string"?i.blobs.map(o=>yi(o)):i.blobs,n=[];for(let o of s)n.push(Uint8Array.from(e.blobToKzgCommitment(o)));return t==="bytes"?n:n.map(o=>yt(o))}var Ng=b(()=>{"use strict";Ti();Ke()});function bl(i){let{kzg:e}=i,t=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),s=typeof i.blobs[0]=="string"?i.blobs.map(l=>yi(l)):i.blobs,n=typeof i.commitments[0]=="string"?i.commitments.map(l=>yi(l)):i.commitments,o=[];for(let l=0;l<s.length;l++){let u=s[l],p=n[l];o.push(Uint8Array.from(e.computeBlobKzgProof(u,p)))}return t==="bytes"?o:o.map(l=>yt(l))}var Fg=b(()=>{"use strict";Ti();Ke()});function ew(i,e){let t=e||"hex",s=Fo(li(i,{strict:!1})?Dr(i):i);return t==="bytes"?s:Re(s)}var tw=b(()=>{"use strict";Wx();Jr();Ti();Ke()});function iw(i){let{commitment:e,version:t=1}=i,s=i.to??(typeof e=="string"?"hex":"bytes"),n=ew(e,"bytes");return n.set([t],0),s==="bytes"?n:yt(n)}var rw=b(()=>{"use strict";Ke();tw()});function Pg(i){let{commitments:e,version:t}=i,s=i.to??(typeof e[0]=="string"?"hex":"bytes"),n=[];for(let o of e)n.push(iw({commitment:o,to:s,version:t}));return n}var Iv=b(()=>{"use strict";rw()});var Ug,yl,Hg,zg,Sv=b(()=>{"use strict";pt();Ug=class extends G{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}},yl=class extends G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},Hg=class extends G{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}},zg=class extends G{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}});function sw(i){let e=i.to??(typeof i.data=="string"?"hex":"bytes"),t=typeof i.data=="string"?yi(i.data):i.data,s=kt(t);if(!s)throw new yl;if(s>761855)throw new Ug({maxSize:761855,size:s});let n=[],o=!0,l=0;for(;o;){let u=Oa(new Uint8Array(131072)),p=0;for(;p<4096;){let m=t.slice(l,l+(32-1));if(u.pushByte(0),u.pushBytes(m),m.length<31){u.pushByte(128),o=!1;break}p++,l+=31}n.push(u)}return e==="bytes"?n.map(u=>u.bytes):n.map(u=>yt(u.bytes))}var nw=b(()=>{"use strict";Sv();Gf();Zr();Ti();Ke()});function jg(i){let{data:e,kzg:t,to:s}=i,n=i.blobs??sw({data:e,to:s}),o=i.commitments??gl({blobs:n,kzg:t,to:s}),l=i.proofs??bl({blobs:n,commitments:o,kzg:t,to:s}),u=[];for(let p=0;p<n.length;p++)u.push({blob:n[p],commitment:o[p],proof:l[p]});return u}var kv=b(()=>{"use strict";Ng();Fg();nw()});function Gg(i){if(i.type)return i.type;if(typeof i.authorizationList<"u")return"eip7702";if(typeof i.blobs<"u"||typeof i.blobVersionedHashes<"u"||typeof i.maxFeePerBlobGas<"u"||typeof i.sidecars<"u")return"eip4844";if(typeof i.maxFeePerGas<"u"||typeof i.maxPriorityFeePerGas<"u")return"eip1559";if(typeof i.gasPrice<"u")return typeof i.accessList<"u"?"eip2930":"legacy";throw new Jf({transaction:i})}var Ev=b(()=>{"use strict";os()});async function jr(i){let e=await i.request({method:"eth_chainId"},{dedupe:!0});return hi(e)}var $o=b(()=>{"use strict";Hi()});async function Qn(i,e){let{account:t=i.account,blobs:s,chain:n,gas:o,kzg:l,nonce:u,nonceManager:p,parameters:m=Lv,type:d}=e,f=t&&dt(t),g={...e,...f?{from:f?.address}:{}},_;async function S(){return _||(_=await Ee(i,Vi,"getBlock")({blockTag:"latest"}),_)}let x;async function I(){return x||(n?n.id:typeof e.chainId<"u"?e.chainId:(x=await Ee(i,jr,"getChainId")({}),x))}if(m.includes("nonce")&&typeof u>"u"&&f)if(p){let M=await I();g.nonce=await p.consume({address:f.address,chainId:M,client:i})}else g.nonce=await Ee(i,fl,"getTransactionCount")({address:f.address,blockTag:"pending"});if((m.includes("blobVersionedHashes")||m.includes("sidecars"))&&s&&l){let M=gl({blobs:s,kzg:l});if(m.includes("blobVersionedHashes")){let A=Pg({commitments:M,to:"hex"});g.blobVersionedHashes=A}if(m.includes("sidecars")){let A=bl({blobs:s,commitments:M,kzg:l}),D=jg({blobs:s,commitments:M,proofs:A,to:"hex"});g.sidecars=D}}if(m.includes("chainId")&&(g.chainId=await I()),(m.includes("fees")||m.includes("type"))&&typeof d>"u")try{g.type=Gg(g)}catch{let M=ow.get(i.uid);typeof M>"u"&&(M=typeof(await S())?.baseFeePerGas=="bigint",ow.set(i.uid,M)),g.type=M?"eip1559":"legacy"}if(m.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){let M=await S(),{maxFeePerGas:A,maxPriorityFeePerGas:D}=await Dg(i,{block:M,chain:n,request:g});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<D)throw new Ag({maxPriorityFeePerGas:D});g.maxPriorityFeePerGas=D,g.maxFeePerGas=A}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Yn;if(typeof e.gasPrice>"u"){let M=await S(),{gasPrice:A}=await Dg(i,{block:M,chain:n,request:g,type:"legacy"});g.gasPrice=A}}return m.includes("gas")&&typeof o>"u"&&(g.gas=await Ee(i,_l,"estimateGas")({...g,account:f&&{address:f.address,type:"json-rpc"}})),pr(g),delete g.parameters,g}var Lv,ow,Tp=b(()=>{"use strict";_i();vv();Vg();Ko();Og();Mg();Ng();Fg();Iv();kv();Ht();qn();Ev();$o();Lv=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ow=new Map});async function Wg(i,{address:e,blockNumber:t,blockTag:s="latest"}){let n=t?we(t):void 0,o=await i.request({method:"eth_getBalance",params:[e,n||s]});return BigInt(o)}var wv=b(()=>{"use strict";Ke()});async function _l(i,e){let{account:t=i.account}=e,s=t?dt(t):void 0;try{let De=function(ye){let{block:ue,request:me,rpcStateOverride:R}=ye;return i.request({method:"eth_estimateGas",params:R?[me,ue??"latest",R]:ue?[me,ue]:[me]})};var n=De;let{accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:p,blockNumber:m,blockTag:d,data:f,gas:g,gasPrice:_,maxFeePerBlobGas:S,maxFeePerGas:x,maxPriorityFeePerGas:I,nonce:M,value:A,stateOverride:D,...j}=await Qn(i,{...e,parameters:s?.type==="local"?void 0:["blobVersionedHashes"]}),U=(m?we(m):void 0)||d,J=pl(D),X=await(async()=>{if(j.to)return j.to;if(l&&l.length>0)return await Eg({authorization:l[0]}).catch(()=>{throw new G("`to` is required. Could not infer from `authorizationList`")})})();pr(e);let ie=i.chain?.formatters?.transactionRequest?.format,ke=(ie||zr)({...$n(j,{format:ie}),from:s?.address,accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:p,data:f,gas:g,gasPrice:_,maxFeePerBlobGas:S,maxFeePerGas:x,maxPriorityFeePerGas:I,nonce:M,to:X,value:A}),ft=BigInt(await De({block:U,request:ke,rpcStateOverride:J}));if(l){let ye=await Wg(i,{address:ke.from}),ue=await Promise.all(l.map(async me=>{let{address:R}=me,Fe=await De({block:U,request:{authorizationList:void 0,data:f,from:s?.address,to:R,value:we(ye)},rpcStateOverride:J}).catch(()=>100000n);return 2n*BigInt(Fe)}));ft+=ue.reduce((me,R)=>me+R,0n)}return ft}catch(o){throw $L(o,{...e,account:s,chain:i.chain})}}var Vg=b(()=>{"use strict";_i();pt();fv();Ke();qL();Ep();Vo();Tg();qn();Tp();wv()});async function aw(i,e){let{abi:t,address:s,args:n,functionName:o,dataSuffix:l,...u}=e,p=Kt({abi:t,args:n,functionName:o});try{return await Ee(i,_l,"estimateGas")({data:`${p}${l?l.replace("0x",""):""}`,to:s,...u})}catch(m){let d=u.account?dt(u.account):void 0;throw xr(m,{abi:t,address:s,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d?.address})}}var lw=b(()=>{"use strict";_i();Nr();No();Ht();Vg()});function Bs(i,e){if(!Nt(i,{strict:!1}))throw new Gt({address:i});if(!Nt(e,{strict:!1}))throw new Gt({address:e});return i.toLowerCase()===e.toLowerCase()}var xl=b(()=>{"use strict";Ss();ns()});function vl(i){let{abi:e,data:t,strict:s,topics:n}=i,o=s??!0,[l,...u]=n;if(!l)throw new hf({docsPath:cw});let p=(()=>e.length===1?e[0]:e.find(x=>x.type==="event"&&l===An(Zi(x))))();if(!(p&&"name"in p)||p.type!=="event")throw new Ta(l,{docsPath:cw});let{name:m,inputs:d}=p,f=d?.some(x=>!("name"in x&&x.name)),g=f?[]:{},_=d.filter(x=>"indexed"in x&&x.indexed);for(let x=0;x<_.length;x++){let I=_[x],M=u[x];if(!M)throw new Is({abiItem:p,param:I});g[f?x:I.name||x]=LB({param:I,value:M})}let S=d.filter(x=>!("indexed"in x&&x.indexed));if(S.length>0){if(t&&t!=="0x")try{let x=Co(S,t);if(x)if(f)g=[...g,...x];else for(let I=0;I<S.length;I++)g[S[I].name]=x[I]}catch(x){if(o)throw x instanceof La||x instanceof Da?new es({abiItem:p,data:t,params:S,size:kt(t)}):x}else if(o)throw new es({abiItem:p,data:"0x",params:S,size:0})}return{eventName:m,args:Object.values(g).length>0?g:void 0}}function LB({param:i,value:e}){return i.type==="string"||i.type==="bytes"||i.type==="tuple"||i.type.match(/^(.*)\[(\d+)?\]$/)?e:(Co([i],e)||[])[0]}var cw,Kg=b(()=>{"use strict";bi();Zr();up();Px();Vf();ko();cw="/docs/contract/decodeEventLog"});function Il(i){let{abi:e,args:t,logs:s,strict:n=!0}=i,o=(()=>{if(i.eventName)return Array.isArray(i.eventName)?i.eventName:[i.eventName]})();return s.map(l=>{try{let u=e.find(m=>m.type==="event"&&l.topics[0]===An(m));if(!u)return null;let p=vl({...l,abi:[u],strict:n});return o&&!o.includes(p.eventName)||!wB({args:p.args,inputs:u.inputs,matchArgs:t})?null:{...p,...l}}catch(u){let p,m;if(u instanceof Ta)return null;if(u instanceof es||u instanceof Is){if(n)return null;p=u.abiItem.name,m=u.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...l,args:m?[]:{},eventName:p}}}).filter(Boolean)}function wB(i){let{args:e,inputs:t,matchArgs:s}=i;if(!s)return!0;if(!e)return!1;function n(o,l,u){try{return o.type==="address"?Bs(l,u):o.type==="string"||o.type==="bytes"?zt(Dr(l))===u:l===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(s)?s.every((o,l)=>{if(o==null)return!0;let u=t[l];return u?(Array.isArray(o)?o:[o]).some(m=>n(u,m,e[l])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([o,l])=>{if(l==null)return!0;let u=t.find(m=>m.name===o);return u?(Array.isArray(l)?l:[l]).some(m=>n(u,m,e[o])):!1}):!1}var $g=b(()=>{"use strict";bi();xl();Ti();ss();up();Kg()});function Wi(i,{args:e,eventName:t}={}){return{...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,logIndex:i.logIndex?Number(i.logIndex):null,transactionHash:i.transactionHash?i.transactionHash:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,...t?{args:e,eventName:t}:{}}}var Xn=b(()=>{"use strict"});async function Sl(i,{address:e,blockHash:t,fromBlock:s,toBlock:n,event:o,events:l,args:u,strict:p}={}){let m=p??!1,d=l??(o?[o]:void 0),f=[];d&&(f=[d.flatMap(x=>Ls({abi:[x],eventName:x.name,args:l?void 0:u}))],o&&(f=f[0]));let g;t?g=await i.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:t}]}):g=await i.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof s=="bigint"?we(s):s,toBlock:typeof n=="bigint"?we(n):n}]});let _=g.map(S=>Wi(S));return d?Il({abi:d,args:u,logs:_,strict:m}):_}var qg=b(()=>{"use strict";Ba();$g();Ke();Xn()});async function Yg(i,e){let{abi:t,address:s,args:n,blockHash:o,eventName:l,fromBlock:u,toBlock:p,strict:m}=e,d=l?Es({abi:t,name:l}):void 0,f=d?void 0:t.filter(g=>g.type==="event");return Ee(i,Sl,"getLogs")({address:s,args:n,blockHash:o,event:d,events:f,fromBlock:u,toBlock:p,strict:m})}var Tv=b(()=>{"use strict";Ra();Ht();qg()});function mr(i){let{abi:e,args:t,functionName:s,data:n}=i,o=e[0];if(s){let u=Es({abi:e,args:t,name:s});if(!u)throw new kn(s,{docsPath:Cv});o=u}if(o.type!=="function")throw new kn(void 0,{docsPath:Cv});if(!o.outputs)throw new df(o.name,{docsPath:Cv});let l=Co(o.outputs,n);if(l&&l.length>1)return l;if(l&&l.length===1)return l[0]}var Cv,Jn=b(()=>{"use strict";bi();Vf();Ra();Cv="/docs/contract/decodeFunctionResult"});var Cp,uw,Qg,pw,Av,Mv,Rv,qo=b(()=>{"use strict";Cp=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],uw=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Qg=[...uw,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],pw=[...uw,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Av=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Mv=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Rv=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]});var mw,hw=b(()=>{"use strict";mw="0x82ad56cb"});var Xg,dw,fw,Jg=b(()=>{"use strict";Xg="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",dw="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",fw="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var Yo,Zg,eb,Ap,Qo,Mp=b(()=>{"use strict";pt();Yo=class extends G{constructor({blockNumber:e,chain:t,contract:s}){super(`Chain "${t.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...e&&s.blockCreated&&s.blockCreated>e?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},Zg=class extends G{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}},eb=class extends G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},Ap=class extends G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},Qo=class extends G{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function Xo(i){let{abi:e,args:t,bytecode:s}=i;if(!t||t.length===0)return s;let n=e.find(l=>"type"in l&&l.type==="constructor");if(!n)throw new cf({docsPath:Bv});if(!("inputs"in n))throw new tp({docsPath:Bv});if(!n.inputs||n.inputs.length===0)throw new tp({docsPath:Bv});let o=_r(n.inputs,t);return zi([s,o])}var Bv,tb=b(()=>{"use strict";bi();Or();Mn();Bv="/docs/contract/encodeDeployData"});function Gr({blockNumber:i,chain:e,contract:t}){let s=e?.contracts?.[t];if(!s)throw new Yo({chain:e,contract:{name:t}});if(i&&s.blockCreated&&s.blockCreated>i)throw new Yo({blockNumber:i,chain:e,contract:{name:t,blockCreated:s.blockCreated}});return s.address}var Jo=b(()=>{"use strict";Mp()});function ib(i,{docsPath:e,...t}){let s=(()=>{let n=Kn(i,t);return n instanceof Hr?i:n})();return new za(s,{docsPath:e,...t})}var Dv=b(()=>{"use strict";Dn();Wn();kp()});function rb(){let i=()=>{},e=()=>{};return{promise:new Promise((s,n)=>{i=s,e=n}),resolve:i,reject:e}}var Ov=b(()=>{"use strict"});function sb({fn:i,id:e,shouldSplitBatch:t,wait:s=0,sort:n}){let o=async()=>{let d=p();l();let f=d.map(({args:g})=>g);f.length!==0&&i(f).then(g=>{n&&Array.isArray(g)&&g.sort(n);for(let _=0;_<d.length;_++){let{resolve:S}=d[_];S?.([g[_],g])}}).catch(g=>{for(let _=0;_<d.length;_++){let{reject:S}=d[_];S?.(g)}})},l=()=>Nv.delete(e),u=()=>p().map(({args:d})=>d),p=()=>Nv.get(e)||[],m=d=>Nv.set(e,[...p(),d]);return{flush:l,async schedule(d){let{promise:f,resolve:g,reject:_}=rb();return t?.([...u(),d])&&o(),p().length>0?(m({args:d,resolve:g,reject:_}),f):(m({args:d,resolve:g,reject:_}),setTimeout(o,s),f)}}}var Nv,Fv=b(()=>{"use strict";Ov();Nv=new Map});var nb,ob,ab,gw=b(()=>{"use strict";tr();pt();ig();nb=class extends G{constructor({callbackSelector:e,cause:t,data:s,extraData:n,sender:o,urls:l}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",l&&["  Gateway URL(s):",...l.map(u=>`    ${Mo(u)}`)],`  Sender: ${o}`,`  Data: ${s}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat(),name:"OffchainLookupError"})}},ob=class extends G{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Mo(t)}`,`Response: ${_t(e)}`],name:"OffchainLookupResponseMalformedError"})}},ab=class extends G{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});var _w={};yd(_w,{ccipRequest:()=>yw,offchainLookup:()=>CB,offchainLookupAbiItem:()=>bw,offchainLookupSignature:()=>TB});async function CB(i,{blockNumber:e,blockTag:t,data:s,to:n}){let{args:o}=Wf({data:s,abi:[bw]}),[l,u,p,m,d]=o,{ccipRead:f}=i,g=f&&typeof f?.request=="function"?f.request:yw;try{if(!Bs(n,l))throw new ab({sender:l,to:n});let _=await g({data:p,sender:l,urls:u}),{data:S}=await Ds(i,{blockNumber:e,blockTag:t,data:er([m,_r([{type:"bytes"},{type:"bytes"}],[_,d])]),to:n});return S}catch(_){throw new nb({callbackSelector:m,cause:_,data:s,extraData:d,sender:l,urls:u})}}async function yw({data:i,sender:e,urls:t}){let s=new Error("An unknown error occurred.");for(let n=0;n<t.length;n++){let o=t[n],l=o.includes("{data}")?"GET":"POST",u=l==="POST"?{data:i,sender:e}:void 0,p=l==="POST"?{"Content-Type":"application/json"}:{};try{let m=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",i),{body:JSON.stringify(u),headers:p,method:l}),d;if(m.headers.get("Content-Type")?.startsWith("application/json")?d=(await m.json()).data:d=await m.text(),!m.ok){s=new Fr({body:u,details:d?.error?_t(d.error):m.statusText,headers:m.headers,status:m.status,url:o});continue}if(!li(d)){s=new ob({result:d,url:o});continue}return d}catch(m){s=new Fr({body:u,details:m.message,url:o})}}throw s}var TB,bw,xw=b(()=>{"use strict";kl();gw();Bo();Hx();Mn();xl();Or();Jr();tr();TB="0x556f1830",bw={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function Ds(i,e){let{account:t=i.account,batch:s=!!i.batch?.multicall,blockNumber:n,blockTag:o="latest",accessList:l,blobs:u,code:p,data:m,factory:d,factoryData:f,gas:g,gasPrice:_,maxFeePerBlobGas:S,maxFeePerGas:x,maxPriorityFeePerGas:I,nonce:M,to:A,value:D,stateOverride:j,...W}=e,U=t?dt(t):void 0;if(p&&(d||f))throw new G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(p&&A)throw new G("Cannot provide both `code` & `to` as parameters.");let J=p&&m,X=d&&f&&A&&m,ie=J||X,Ie=(()=>J?RB({code:p,data:m}):X?BB({data:m,factory:d,factoryData:f,to:A}):m)();try{pr(e);let De=(n?we(n):void 0)||o,ft=pl(j),ye=i.chain?.formatters?.transactionRequest?.format,me=(ye||zr)({...$n(W,{format:ye}),from:U?.address,accessList:l,blobs:u,data:Ie,gas:g,gasPrice:_,maxFeePerBlobGas:S,maxFeePerGas:x,maxPriorityFeePerGas:I,nonce:M,to:ie?void 0:A,value:D});if(s&&AB({request:me})&&!ft)try{return await MB(i,{...me,blockNumber:n,blockTag:o})}catch(Fe){if(!(Fe instanceof Ap)&&!(Fe instanceof Yo))throw Fe}let R=await i.request({method:"eth_call",params:ft?[me,De,ft]:[me,De]});return R==="0x"?{data:void 0}:{data:R}}catch(ke){let De=DB(ke),{offchainLookup:ft,offchainLookupSignature:ye}=await Promise.resolve().then(()=>(xw(),_w));if(i.ccipRead!==!1&&De?.slice(0,10)===ye&&A)return{data:await ft(i,{data:De,to:A})};throw ie&&De?.slice(0,10)==="0x101bb98d"?new ng({factory:d}):ib(ke,{...e,account:U,chain:i.chain})}}function AB({request:i}){let{data:e,to:t,...s}=i;return!(!e||e.startsWith(mw)||!t||Object.values(s).filter(n=>typeof n<"u").length>0)}async function MB(i,e){let{batchSize:t=1024,wait:s=0}=typeof i.batch?.multicall=="object"?i.batch.multicall:{},{blockNumber:n,blockTag:o="latest",data:l,multicallAddress:u,to:p}=e,m=u;if(!m){if(!i.chain)throw new Ap;m=Gr({blockNumber:n,chain:i.chain,contract:"multicall3"})}let f=(n?we(n):void 0)||o,{schedule:g}=sb({id:`${i.uid}.${f}`,wait:s,shouldSplitBatch(x){return x.reduce((M,{data:A})=>M+(A.length-2),0)>t*2},fn:async x=>{let I=x.map(D=>({allowFailure:!0,callData:D.data,target:D.to})),M=Kt({abi:Cp,args:[I],functionName:"aggregate3"}),A=await i.request({method:"eth_call",params:[{data:M,to:m},f]});return mr({abi:Cp,args:[I],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:_,success:S}]=await g({data:l,to:p});if(!S)throw new Ts({data:_});return _==="0x"?{data:void 0}:{data:_}}function RB(i){let{code:e,data:t}=i;return Xo({abi:nf(["constructor(bytes, bytes)"]),bytecode:Xg,args:[e,t]})}function BB(i){let{data:e,factory:t,factoryData:s,to:n}=i;return Xo({abi:nf(["constructor(address, bytes, address, bytes)"]),bytecode:dw,args:[n,e,t,s]})}function DB(i){if(!(i instanceof G))return;let e=i.walk();return typeof e?.data=="object"?e.data?.data:e.data}var kl=b(()=>{"use strict";af();_i();qo();hw();Jg();pt();Mp();Dn();Jn();tb();Nr();Jo();Ke();Dv();Ep();Vo();Fv();Tg();qn()});async function Bi(i,e){let{abi:t,address:s,args:n,functionName:o,...l}=e,u=Kt({abi:t,args:n,functionName:o});try{let{data:p}=await Ee(i,Ds,"call")({...l,data:u,to:s});return mr({abi:t,args:n,functionName:o,data:p||"0x"})}catch(p){throw xr(p,{abi:t,address:s,args:n,docsPath:"/docs/contract/readContract",functionName:o})}}var sn=b(()=>{"use strict";Jn();Nr();No();Ht();kl()});async function vw(i,e){let{abi:t,address:s,args:n,dataSuffix:o,functionName:l,...u}=e,p=u.account?dt(u.account):i.account,m=Kt({abi:t,args:n,functionName:l});try{let{data:d}=await Ee(i,Ds,"call")({batch:!1,data:`${m}${o?o.replace("0x",""):""}`,to:s,...u,account:p}),f=mr({abi:t,args:n,functionName:l,data:d||"0x"}),g=t.filter(_=>"name"in _&&_.name===e.functionName);return{result:f,request:{abi:g,address:s,args:n,dataSuffix:o,functionName:l,...u,account:p}}}catch(d){throw xr(d,{abi:t,address:s,args:n,docsPath:"/docs/contract/simulateContract",functionName:l,sender:p?.address})}}var Iw=b(()=>{"use strict";_i();Jn();Nr();No();Ht();kl()});function hr(i,e,t){let s=++OB,n=()=>Pv.get(i)||[],o=()=>{let d=n();Pv.set(i,d.filter(f=>f.id!==s))},l=()=>{let d=n();if(!d.some(g=>g.id===s))return;let f=Sw.get(i);d.length===1&&f&&f(),o()},u=n();if(Pv.set(i,[...u,{id:s,fns:e}]),u&&u.length>0)return l;let p={};for(let d in e)p[d]=(...f)=>{let g=n();if(g.length!==0)for(let _ of g)_.fns[d]?.(...f)};let m=t(p);return typeof m=="function"&&Sw.set(i,m),l}var Pv,Sw,OB,Zo=b(()=>{"use strict";Pv=new Map,Sw=new Map,OB=0});async function Rp(i){return new Promise(e=>setTimeout(e,i))}var Uv=b(()=>{"use strict"});function Os(i,{emitOnBegin:e,initialWaitTime:t,interval:s}){let n=!0,o=()=>n=!1;return(async()=>{let u;e&&(u=await i({unpoll:o}));let p=await t?.(u)??s;await Rp(p);let m=async()=>{n&&(await i({unpoll:o}),await Rp(s),m())};m()})(),o}var El=b(()=>{"use strict";Uv()});function kw(i){let e=(n,o)=>({clear:()=>o.delete(n),get:()=>o.get(n),set:l=>o.set(n,l)}),t=e(i,NB),s=e(i,FB);return{clear:()=>{t.clear(),s.clear()},promise:t,response:s}}async function Ew(i,{cacheKey:e,cacheTime:t=Number.POSITIVE_INFINITY}){let s=kw(e),n=s.response.get();if(n&&t>0&&new Date().getTime()-n.created.getTime()<t)return n.data;let o=s.promise.get();o||(o=i(),s.promise.set(o));try{let l=await o;return s.response.set({created:new Date,data:l}),l}finally{s.promise.clear()}}var NB,FB,Lw=b(()=>{"use strict";NB=new Map,FB=new Map});async function Ns(i,{cacheTime:e=i.cacheTime}={}){let t=await Ew(()=>i.request({method:"eth_blockNumber"}),{cacheKey:PB(i.uid),cacheTime:e});return BigInt(t)}var PB,Ll=b(()=>{"use strict";Lw();PB=i=>`blockNumber.${i}`});async function Zn(i,{filter:e}){let t="strict"in e&&e.strict,s=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof s[0]=="string")return s;let n=s.map(o=>Wi(o));return!("abi"in e)||!e.abi?n:Il({abi:e.abi,logs:n,strict:t})}var Bp=b(()=>{"use strict";$g();Xn()});async function eo(i,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}var Dp=b(()=>{"use strict"});function ww(i,e){let{abi:t,address:s,args:n,batch:o=!0,eventName:l,fromBlock:u,onError:p,onLogs:m,poll:d,pollingInterval:f=i.pollingInterval,strict:g}=e;return(()=>typeof d<"u"?d:typeof u=="bigint"?!0:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))()?(()=>{let I=g??!1,M=_t(["watchContractEvent",s,n,o,i.uid,l,f,I,u]);return hr(M,{onLogs:m,onError:p},A=>{let D;u!==void 0&&(D=u-1n);let j,W=!1,U=Os(async()=>{if(!W){try{j=await Ee(i,Uf,"createContractEventFilter")({abi:t,address:s,args:n,eventName:l,strict:I,fromBlock:u})}catch{}W=!0;return}try{let J;if(j)J=await Ee(i,Zn,"getFilterChanges")({filter:j});else{let X=await Ee(i,Ns,"getBlockNumber")({});D&&D<X?J=await Ee(i,Yg,"getContractEvents")({abi:t,address:s,args:n,eventName:l,fromBlock:D+1n,toBlock:X,strict:I}):J=[],D=X}if(J.length===0)return;if(o)A.onLogs(J);else for(let X of J)A.onLogs([X])}catch(J){j&&J instanceof Cs&&(W=!1),A.onError?.(J)}},{emitOnBegin:!0,interval:f});return async()=>{j&&await Ee(i,eo,"uninstallFilter")({filter:j}),U()}})})():(()=>{let I=g??!1,M=_t(["watchContractEvent",s,n,o,i.uid,l,f,I]),A=!0,D=()=>A=!1;return hr(M,{onLogs:m,onError:p},j=>((async()=>{try{let W=(()=>{if(i.transport.type==="fallback"){let X=i.transport.transports.find(ie=>ie.config.type==="webSocket");return X?X.value:i.transport}return i.transport})(),U=l?Ls({abi:t,eventName:l,args:n}):[],{unsubscribe:J}=await W.subscribe({params:["logs",{address:s,topics:U}],onData(X){if(!A)return;let ie=X.result;try{let{eventName:Ie,args:ke}=vl({abi:t,data:ie.data,topics:ie.topics,strict:g}),De=Wi(ie,{args:ke,eventName:Ie});j.onLogs([De])}catch(Ie){let ke,De;if(Ie instanceof es||Ie instanceof Is){if(g)return;ke=Ie.abiItem.name,De=Ie.abiItem.inputs?.some(ye=>!("name"in ye&&ye.name))}let ft=Wi(ie,{args:De?[]:{},eventName:ke});j.onLogs([ft])}},onError(X){j.onError?.(X)}});D=J,A||D()}catch(W){p?.(W)}})(),()=>D()))})()}var Tw=b(()=>{"use strict";bi();gp();Kg();Ba();Xn();Ht();Zo();El();tr();Fx();Ll();Tv();Bp();Dp()});var Ki,to,io=b(()=>{"use strict";pt();Ki=class extends G{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},to=class extends G{constructor({docsPath:e,metaMessages:t,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}});function lb({chain:i,currentChainId:e}){if(!i)throw new eb;if(e!==i.id)throw new Zg({chain:i,currentChainId:e})}var Hv=b(()=>{"use strict";Mp()});function Cw(i,{docsPath:e,...t}){let s=(()=>{let n=Kn(i,t);return n instanceof Hr?i:n})();return new eg(s,{docsPath:e,...t})}var Aw=b(()=>{"use strict";Wn();os();kp()});async function wl(i,{serializedTransaction:e}){return i.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var cb=b(()=>{"use strict"});async function Tl(i,e){let{account:t=i.account,chain:s=i.chain,accessList:n,authorizationList:o,blobs:l,data:u,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:_,value:S,...x}=e;if(typeof t>"u")throw new Ki({docsPath:"/docs/actions/wallet/sendTransaction"});let I=t?dt(t):null;try{pr(e);let M=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await Eg({authorization:o[0]}).catch(()=>{throw new G("`to` is required. Could not infer from `authorizationList`.")})})();if(I?.type==="json-rpc"||I===null){let A;s!==null&&(A=await Ee(i,jr,"getChainId")({}),lb({currentChainId:A,chain:s}));let D=i.chain?.formatters?.transactionRequest?.format,W=(D||zr)({...$n(x,{format:D}),accessList:n,authorizationList:o,blobs:l,chainId:A,data:u,from:I?.address,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:_,to:M,value:S}),U=zv.get(i.uid),J=U?"wallet_sendTransaction":"eth_sendTransaction";try{return await i.request({method:J,params:[W]},{retryCount:0})}catch(X){if(U===!1)throw X;let ie=X;if(ie.name==="InvalidInputRpcError"||ie.name==="InvalidParamsRpcError"||ie.name==="MethodNotFoundRpcError"||ie.name==="MethodNotSupportedRpcError")return await i.request({method:"wallet_sendTransaction",params:[W]},{retryCount:0}).then(Ie=>(zv.set(i.uid,!0),Ie)).catch(Ie=>{let ke=Ie;throw ke.name==="MethodNotFoundRpcError"||ke.name==="MethodNotSupportedRpcError"?(zv.set(i.uid,!1),ie):ke});throw ie}}if(I?.type==="local"){let A=await Ee(i,Qn,"prepareTransactionRequest")({account:I,accessList:n,authorizationList:o,blobs:l,chain:s,data:u,gas:p,gasPrice:m,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:_,nonceManager:I.nonceManager,parameters:[...Lv,"sidecars"],value:S,...x,to:M}),D=s?.serializers?.transaction,j=await I.signTransaction(A,{serializer:D});return await Ee(i,wl,"sendRawTransaction")({serializedTransaction:j})}throw I?.type==="smart"?new to({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new to({docsPath:"/docs/actions/wallet/sendTransaction",type:I?.type})}catch(M){throw M instanceof to?M:Cw(M,{...e,account:I,chain:e.chain||void 0})}}var zv,ub=b(()=>{"use strict";_i();io();pt();fv();Hv();Aw();Ep();Vo();Ht();pp();qn();$o();Tp();cb();zv=new ks(128)});async function Mw(i,e){let{abi:t,account:s=i.account,address:n,args:o,dataSuffix:l,functionName:u,...p}=e;if(typeof s>"u")throw new Ki({docsPath:"/docs/contract/writeContract"});let m=s?dt(s):null,d=Kt({abi:t,args:o,functionName:u});try{return await Ee(i,Tl,"sendTransaction")({data:`${d}${l?l.replace("0x",""):""}`,to:n,account:m,...p})}catch(f){throw xr(f,{abi:t,address:n,args:o,docsPath:"/docs/contract/writeContract",functionName:u,sender:m?.address})}}var Rw=b(()=>{"use strict";_i();io();Nr();No();Ht();ub()});var pb,Bw=b(()=>{"use strict";pt();pb=class extends G{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function Dw(i,e){let{address:t,factory:s,factoryData:n}=e;try{let[o,l,u,p,m,d,f]=await Ee(i,Bi,"readContract")({abi:UB,address:t,functionName:"eip712Domain",factory:s,factoryData:n});return{domain:{name:l,version:u,chainId:Number(p),verifyingContract:m,salt:d},extensions:f,fields:o}}catch(o){let l=o;throw l.name==="ContractFunctionExecutionError"&&l.cause.name==="ContractFunctionZeroDataError"?new pb({address:t}):l}}var UB,Ow=b(()=>{"use strict";Bw();Ht();sn();UB=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});async function Nw(i,{chain:e}){let{id:t,name:s,nativeCurrency:n,rpcUrls:o,blockExplorers:l}=e;await i.request({method:"wallet_addEthereumChain",params:[{chainId:we(t),chainName:s,nativeCurrency:n,rpcUrls:o.default.http,blockExplorerUrls:l?Object.values(l).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}var Fw=b(()=>{"use strict";Ke()});function db(i=11){if(!hb||mb+i>256*2){hb="",mb=0;for(let e=0;e<256;e++)hb+=(256+Math.random()*256|0).toString(16).substring(1)}return hb.substring(mb,mb+++i)}var mb,hb,jv=b(()=>{"use strict";mb=256});function fb(i){let{batch:e,cacheTime:t=i.pollingInterval??4e3,ccipRead:s,key:n="base",name:o="Base Client",pollingInterval:l=4e3,type:u="base"}=i,p=i.chain,m=i.account?dt(i.account):void 0,{config:d,request:f,value:g}=i.transport({chain:p,pollingInterval:l}),_={...d,...g},S={account:m,batch:e,cacheTime:t,ccipRead:s,chain:p,key:n,name:o,pollingInterval:l,request:f,transport:_,type:u,uid:db()};function x(I){return M=>{let A=M(I);for(let j in S)delete A[j];let D={...I,...A};return Object.assign(D,{extend:x(D)})}}return Object.assign(S,{extend:x(S)})}var Gv=b(()=>{"use strict";_i();jv()});function Pw(i,{enabled:e=!0,id:t}){if(!e||!t)return i();if(gb.get(t))return gb.get(t);let s=i().finally(()=>gb.delete(t));return gb.set(t,s),s}var gb,Uw=b(()=>{"use strict";pp();gb=new ks(8192)});function Op(i,{delay:e=100,retryCount:t=2,shouldRetry:s=()=>!0}={}){return new Promise((n,o)=>{let l=async({count:u=0}={})=>{let p=async({error:m})=>{let d=typeof e=="function"?e({count:u,error:m}):e;d&&await Rp(d),l({count:u+1})};try{let m=await i();n(m)}catch(m){if(u<t&&await s({count:u,error:m}))return p({error:m});o(m)}};l()})}var Vv=b(()=>{"use strict";Uv()});function Hw(i,e={}){return async(t,s={})=>{let{dedupe:n=!1,methods:o,retryDelay:l=150,retryCount:u=3,uid:p}={...e,...s},{method:m}=t;if(o?.exclude?.includes(m))throw new Fn(new Error("method not supported"),{method:m});if(o?.include&&!o.include.includes(m))throw new Fn(new Error("method not supported"),{method:m});let d=n?ts(`${p}.${_t(t)}`):void 0;return Pw(()=>Op(async()=>{try{return await i(t)}catch(f){let g=f;switch(g.code){case ja.code:throw new ja(g);case Ga.code:throw new Ga(g);case Va.code:throw new Va(g,{method:t.method});case Wa.code:throw new Wa(g);case Js.code:throw new Js(g);case Cs.code:throw new Cs(g);case Ka.code:throw new Ka(g);case $a.code:throw new $a(g);case qa.code:throw new qa(g);case Fn.code:throw new Fn(g,{method:t.method});case Do.code:throw new Do(g);case Ya.code:throw new Ya(g);case Oo.code:throw new Oo(g);case Qa.code:throw new Qa(g);case Xa.code:throw new Xa(g);case Ja.code:throw new Ja(g);case Za.code:throw new Za(g);case el.code:throw new el(g);case 5e3:throw new Oo(g);default:throw f instanceof G?f:new og(g)}}},{delay:({count:f,error:g})=>{if(g&&g instanceof Fr){let _=g?.headers?.get("Retry-After");if(_?.match(/\d/))return Number.parseInt(_)*1e3}return~~(1<<f)*l},retryCount:u,shouldRetry:({error:f})=>HB(f)}),{enabled:n,id:d})}}function HB(i){return"code"in i&&typeof i.code=="number"?i.code===-1||i.code===Do.code||i.code===Js.code:i instanceof Fr&&i.status?i.status===403||i.status===408||i.status===413||i.status===429||i.status===500||i.status===502||i.status===503||i.status===504:!0}var zw=b(()=>{"use strict";pt();Bo();gp();Ke();Uw();Vv();tr()});function bb({key:i,methods:e,name:t,request:s,retryCount:n=3,retryDelay:o=150,timeout:l,type:u},p){let m=db();return{config:{key:i,methods:e,name:t,request:s,retryCount:n,retryDelay:o,timeout:l,type:u},request:Hw(s,{methods:e,retryCount:n,retryDelay:o,uid:m}),value:p}}var Wv=b(()=>{"use strict";zw();jv()});function Cl(i,e={}){let{key:t="custom",methods:s,name:n="Custom Provider",retryDelay:o}=e;return({retryCount:l})=>bb({key:t,methods:s,name:n,request:i.request.bind(i),retryCount:e.retryCount??l,retryDelay:o,type:"custom"})}var jw=b(()=>{"use strict";Wv()});var yb,Gw=b(()=>{"use strict";pt();yb=class extends G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function Vw(i,{errorInstance:e=new Error("timed out"),timeout:t,signal:s}){return new Promise((n,o)=>{(async()=>{let l;try{let u=new AbortController;t>0&&(l=setTimeout(()=>{s?u.abort():o(e)},t)),n(await i({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&o(e),o(u)}finally{clearTimeout(l)}})()})}var Ww=b(()=>{"use strict"});function zB(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var Kv,Kw=b(()=>{"use strict";Kv=zB()});function $w(i,e={}){return{async request(t){let{body:s,onRequest:n=e.onRequest,onResponse:o=e.onResponse,timeout:l=e.timeout??1e4}=t,u={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:p,method:m,signal:d}=u;try{let f=await Vw(async({signal:_})=>{let S={...u,body:Array.isArray(s)?_t(s.map(A=>({jsonrpc:"2.0",id:A.id??Kv.take(),...A}))):_t({jsonrpc:"2.0",id:s.id??Kv.take(),...s}),headers:{"Content-Type":"application/json",...p},method:m||"POST",signal:d||(l>0?_:null)},x=new Request(i,S),I=await n?.(x,S)??{...S,url:i};return await fetch(I.url??i,I)},{errorInstance:new fp({body:s,url:i}),timeout:l,signal:!0});o&&await o(f);let g;if(f.headers.get("Content-Type")?.startsWith("application/json"))g=await f.json();else{g=await f.text();try{g=JSON.parse(g||"{}")}catch(_){if(f.ok)throw _;g={error:g}}}if(!f.ok)throw new Fr({body:s,details:_t(g.error)||f.statusText,headers:f.headers,status:f.status,url:i});return g}catch(f){throw f instanceof Fr||f instanceof fp?f:new Fr({body:s,cause:f,url:i})}}}}var qw=b(()=>{"use strict";Bo();Ww();tr();Kw()});function Np(i,e={}){let{batch:t,fetchOptions:s,key:n="http",methods:o,name:l="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:p,retryDelay:m,raw:d}=e;return({chain:f,retryCount:g,timeout:_})=>{let{batchSize:S=1e3,wait:x=0}=typeof t=="object"?t:{},I=e.retryCount??g,M=_??e.timeout??1e4,A=i||f?.rpcUrls.default.http[0];if(!A)throw new yb;let D=$w(A,{fetchOptions:s,onRequest:u,onResponse:p,timeout:M});return bb({key:n,methods:o,name:l,async request({method:j,params:W}){let U={method:j,params:W},{schedule:J}=sb({id:A,wait:x,shouldSplitBatch(ke){return ke.length>S},fn:ke=>D.request({body:ke}),sort:(ke,De)=>ke.id-De.id}),X=async ke=>t?J(ke):[await D.request({body:ke})],[{error:ie,result:Ie}]=await X(U);if(d)return{error:ie,result:Ie};if(ie)throw new On({body:U,error:ie,url:A});return Ie},retryCount:I,retryDelay:m,timeout:M,type:"http"},{fetchOptions:s,url:A})}}var Yw=b(()=>{"use strict";Bo();Gw();Fv();qw();Wv()});function Al(i,e){if(!(i instanceof G))return!1;let t=i.walk(s=>s instanceof Ro);return t instanceof Ro?!!(t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ResolverWildcardNotSupported"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverError"||t.data?.errorName==="HttpError"||t.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&t.reason===Hf[50]):!1}var _b=b(()=>{"use strict";zf();pt();Dn()});function xb(i){if(i.length!==66||i.indexOf("[")!==0||i.indexOf("]")!==65)return null;let e=`0x${i.slice(1,65)}`;return li(e)?e:null}var $v=b(()=>{"use strict";Jr()});function Ml(i){let e=new Uint8Array(32).fill(0);if(!i)return yt(e);let t=i.split(".");for(let s=t.length-1;s>=0;s-=1){let n=xb(t[s]),o=n?Dr(n):zt(is(t[s]),"bytes");e=zt(er([e,o]),"bytes")}return yt(e)}var qv=b(()=>{"use strict";Or();Ti();Ke();ss();$v()});function Qw(i){return`[${i.slice(2)}]`}var Xw=b(()=>{"use strict"});function Jw(i){let e=new Uint8Array(32).fill(0);return i?xb(i)||zt(is(i)):yt(e)}var Zw=b(()=>{"use strict";Ti();Ke();ss();$v()});function ro(i){let e=i.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let t=new Uint8Array(is(e).byteLength+2),s=0,n=e.split(".");for(let o=0;o<n.length;o++){let l=is(n[o]);l.byteLength>255&&(l=is(Qw(Jw(n[o])))),t[s]=l.length,t.set(l,s+1),s+=l.length+1}return t.byteLength!==s+1?t.slice(0,s+1):t}var Fp=b(()=>{"use strict";Ti();Xw();Zw()});async function eT(i,e){let{blockNumber:t,blockTag:s,coinType:n,name:o,gatewayUrls:l,strict:u}=e,{chain:p}=i,m=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!p)throw new Error("client chain not configured. universalResolverAddress is required.");return Gr({blockNumber:t,chain:p,contract:"ensUniversalResolver"})})(),d=p?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{let f=Kt({abi:Mv,functionName:"addr",...n!=null?{args:[Ml(o),BigInt(n)]}:{args:[Ml(o)]}}),g={address:m,abi:Qg,functionName:"resolve",args:[Re(ro(o)),f],blockNumber:t,blockTag:s},_=Ee(i,Bi,"readContract"),S=l?await _({...g,args:[...g.args,l]}):await _(g);if(S[0]==="0x")return null;let x=mr({abi:Mv,args:n!=null?[Ml(o),BigInt(n)]:void 0,functionName:"addr",data:S[0]});return x==="0x"||Ui(x)==="0x00"?null:x}catch(f){if(u)throw f;if(Al(f,"resolve"))return null;throw f}}var tT=b(()=>{"use strict";qo();Jn();Nr();Jo();Aa();Ke();_b();qv();Fp();Ht();sn()});var vb,so,Rl,Ib,iT=b(()=>{"use strict";pt();vb=class extends G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},so=class extends G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},Rl=class extends G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},Ib=class extends G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}});async function KB(i){try{let e=await fetch(i,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(t=>{let s=new Image;s.onload=()=>{t(!0)},s.onerror=()=>{t(!1)},s.src=i})}}function rT(i,e){return i?i.endsWith("/")?i.slice(0,-1):i:e}function Yv({uri:i,gatewayUrls:e}){let t=VB.test(i);if(t)return{uri:i,isOnChain:!0,isEncoded:t};let s=rT(e?.ipfs,"https://ipfs.io"),n=rT(e?.arweave,"https://arweave.net"),o=i.match(jB),{protocol:l,subpath:u,target:p,subtarget:m=""}=o?.groups||{},d=l==="ipns:/"||u==="ipns/",f=l==="ipfs:/"||u==="ipfs/"||GB.test(i);if(i.startsWith("http")&&!d&&!f){let _=i;return e?.arweave&&(_=i.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:_,isOnChain:!1,isEncoded:!1}}if((d||f)&&p)return{uri:`${s}/${d?"ipns":"ipfs"}/${p}${m}`,isOnChain:!1,isEncoded:!1};if(l==="ar:/"&&p)return{uri:`${n}/${p}${m||""}`,isOnChain:!1,isEncoded:!1};let g=i.replace(WB,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new Rl({uri:i})}function Qv(i){if(typeof i!="object"||!("image"in i)&&!("image_url"in i)&&!("image_data"in i))throw new vb({data:i});return i.image||i.image_url||i.image_data}async function sT({gatewayUrls:i,uri:e}){try{let t=await fetch(e).then(n=>n.json());return await Sb({gatewayUrls:i,uri:Qv(t)})}catch{throw new Rl({uri:e})}}async function Sb({gatewayUrls:i,uri:e}){let{uri:t,isOnChain:s}=Yv({uri:e,gatewayUrls:i});if(s||await KB(t))return t;throw new Rl({uri:e})}function nT(i){let e=i;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[t,s,n]=e.split("/"),[o,l]=t.split(":"),[u,p]=s.split(":");if(!o||o.toLowerCase()!=="eip155")throw new so({reason:"Only EIP-155 supported"});if(!l)throw new so({reason:"Chain ID not found"});if(!p)throw new so({reason:"Contract address not found"});if(!n)throw new so({reason:"Token ID not found"});if(!u)throw new so({reason:"ERC namespace not found"});return{chainID:Number.parseInt(l),namespace:u.toLowerCase(),contractAddress:p,tokenID:n}}async function oT(i,{nft:e}){if(e.namespace==="erc721")return Bi(i,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Bi(i,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Ib({namespace:e.namespace})}var jB,GB,VB,WB,aT=b(()=>{"use strict";sn();iT();jB=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,GB=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,VB=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,WB=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function lT(i,{gatewayUrls:e,record:t}){return/eip155:/i.test(t)?$B(i,{gatewayUrls:e,record:t}):Sb({uri:t,gatewayUrls:e})}async function $B(i,{gatewayUrls:e,record:t}){let s=nT(t),n=await oT(i,{nft:s}),{uri:o,isOnChain:l,isEncoded:u}=Yv({uri:n,gatewayUrls:e});if(l&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){let m=u?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(m);return Sb({uri:Qv(d),gatewayUrls:e})}let p=s.tokenID;return s.namespace==="erc1155"&&(p=p.replace("0x","").padStart(64,"0")),sT({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,p)})}var cT=b(()=>{"use strict";aT()});async function kb(i,e){let{blockNumber:t,blockTag:s,key:n,name:o,gatewayUrls:l,strict:u}=e,{chain:p}=i,m=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!p)throw new Error("client chain not configured. universalResolverAddress is required.");return Gr({blockNumber:t,chain:p,contract:"ensUniversalResolver"})})(),d=p?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{let f={address:m,abi:Qg,functionName:"resolve",args:[Re(ro(o)),Kt({abi:Av,functionName:"text",args:[Ml(o),n]})],blockNumber:t,blockTag:s},g=Ee(i,Bi,"readContract"),_=l?await g({...f,args:[...f.args,l]}):await g(f);if(_[0]==="0x")return null;let S=mr({abi:Av,functionName:"text",data:_[0]});return S===""?null:S}catch(f){if(u)throw f;if(Al(f,"resolve"))return null;throw f}}var Xv=b(()=>{"use strict";qo();Jn();Nr();Jo();Ke();_b();qv();Fp();Ht();sn()});async function uT(i,{blockNumber:e,blockTag:t,assetGatewayUrls:s,name:n,gatewayUrls:o,strict:l,universalResolverAddress:u}){let p=await Ee(i,kb,"getEnsText")({blockNumber:e,blockTag:t,key:"avatar",name:n,universalResolverAddress:u,gatewayUrls:o,strict:l});if(!p)return null;try{return await lT(i,{record:p,gatewayUrls:s})}catch{return null}}var pT=b(()=>{"use strict";cT();Ht();Xv()});async function mT(i,{address:e,blockNumber:t,blockTag:s,gatewayUrls:n,strict:o,universalResolverAddress:l}){let u=l;if(!u){if(!i.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=Gr({blockNumber:t,chain:i.chain,contract:"ensUniversalResolver"})}let p=`${e.toLowerCase().substring(2)}.addr.reverse`;try{let m={address:u,abi:pw,functionName:"reverse",args:[Re(ro(p))],blockNumber:t,blockTag:s},d=Ee(i,Bi,"readContract"),[f,g]=n?await d({...m,args:[...m.args,n]}):await d(m);return e.toLowerCase()!==g.toLowerCase()?null:f}catch(m){if(o)throw m;if(Al(m,"reverse"))return null;throw m}}var hT=b(()=>{"use strict";qo();Jo();Ke();_b();Fp();Ht();sn()});async function dT(i,e){let{blockNumber:t,blockTag:s,name:n}=e,{chain:o}=i,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Gr({blockNumber:t,chain:o,contract:"ensUniversalResolver"})})(),u=o?.ensTlds;if(u&&!u.some(m=>n.endsWith(m)))throw new Error(`${n} is not a valid ENS TLD (${u?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[p]=await Ee(i,Bi,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Re(ro(n))],blockNumber:t,blockTag:s});return p}var fT=b(()=>{"use strict";Jo();Ke();Fp();Ht();sn()});async function Eb(i,e){let{account:t=i.account,blockNumber:s,blockTag:n="latest",blobs:o,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:f,to:g,value:_,...S}=e,x=t?dt(t):void 0;try{pr(e);let M=(s?we(s):void 0)||n,A=i.chain?.formatters?.transactionRequest?.format,j=(A||zr)({...$n(S,{format:A}),from:x?.address,blobs:o,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:f,to:g,value:_}),W=await i.request({method:"eth_createAccessList",params:[j,M]});return{accessList:W.accessList,gasUsed:BigInt(W.gasUsed)}}catch(I){throw ib(I,{...e,account:x,chain:i.chain})}}var Jv=b(()=>{"use strict";_i();Ke();Dv();Ep();Vo();qn()});async function gT(i){let e=Rn(i,{method:"eth_newBlockFilter"}),t=await i.request({method:"eth_newBlockFilter"});return{id:t,request:e(t),type:"block"}}var bT=b(()=>{"use strict";mp()});async function Lb(i,{address:e,args:t,event:s,events:n,fromBlock:o,strict:l,toBlock:u}={}){let p=n??(s?[s]:void 0),m=Rn(i,{method:"eth_newFilter"}),d=[];p&&(d=[p.flatMap(_=>Ls({abi:[_],eventName:_.name,args:t}))],s&&(d=d[0]));let f=await i.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?we(o):o,toBlock:typeof u=="bigint"?we(u):u,...d.length?{topics:d}:{}}]});return{abi:p,args:t,eventName:s?s.name:void 0,fromBlock:o,id:f,request:m(f),strict:!!l,toBlock:u,type:"event"}}var Zv=b(()=>{"use strict";Ba();Ke();mp()});async function wb(i){let e=Rn(i,{method:"eth_newPendingTransactionFilter"}),t=await i.request({method:"eth_newPendingTransactionFilter"});return{id:t,request:e(t),type:"transaction"}}var eI=b(()=>{"use strict";mp()});async function yT(i){let e=await i.request({method:"eth_blobBaseFee"});return BigInt(e)}var _T=b(()=>{"use strict"});async function xT(i,{blockHash:e,blockNumber:t,blockTag:s="latest"}={}){let n=t!==void 0?we(t):void 0,o;return e?o=await i.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await i.request({method:"eth_getBlockTransactionCountByNumber",params:[n||s]},{dedupe:!!n}),hi(o)}var vT=b(()=>{"use strict";Hi();Ke()});async function tI(i,{address:e,blockNumber:t,blockTag:s="latest"}){let n=t!==void 0?we(t):void 0,o=await i.request({method:"eth_getCode",params:[e,n||s]},{dedupe:!!n});if(o!=="0x")return o}var IT=b(()=>{"use strict";Ke()});function ST(i){return{baseFeePerGas:i.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:i.gasUsedRatio,oldestBlock:BigInt(i.oldestBlock),reward:i.reward?.map(e=>e.map(t=>BigInt(t)))}}var kT=b(()=>{"use strict"});async function ET(i,{blockCount:e,blockNumber:t,blockTag:s="latest",rewardPercentiles:n}){let o=t?we(t):void 0,l=await i.request({method:"eth_feeHistory",params:[we(e),o||s,n]},{dedupe:!!o});return ST(l)}var LT=b(()=>{"use strict";Ke();kT()});async function wT(i,{filter:e}){let t=e.strict??!1,n=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>Wi(o));return e.abi?Il({abi:e.abi,logs:n,strict:t}):n}var TT=b(()=>{"use strict";$g();Xn()});function Qt(i){return{formatters:void 0,fees:void 0,serializers:void 0,...i}}var Vr=b(()=>{"use strict"});var Tb,Cb,Ab,CT=b(()=>{"use strict";tr();pt();Tb=class extends G{constructor({domain:e}){super(`Invalid domain "${_t(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},Cb=class extends G{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Ab=class extends G{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function AT(i){let{domain:e={},message:t,primaryType:s}=i,n={EIP712Domain:Rb({domain:e}),...i.types};Mb({domain:e,message:t,primaryType:s,types:n});let o=["0x1901"];return e&&o.push(qB({domain:e,types:n})),s!=="EIP712Domain"&&o.push(MT({data:t,primaryType:s,types:n})),zt(er(o))}function qB({domain:i,types:e}){return MT({data:i,primaryType:"EIP712Domain",types:e})}function MT({data:i,primaryType:e,types:t}){let s=RT({data:i,primaryType:e,types:t});return zt(s)}function RT({data:i,primaryType:e,types:t}){let s=[{type:"bytes32"}],n=[YB({primaryType:e,types:t})];for(let o of t[e]){let[l,u]=DT({types:t,name:o.name,type:o.type,value:i[o.name]});s.push(l),n.push(u)}return _r(s,n)}function YB({primaryType:i,types:e}){let t=Re(QB({primaryType:i,types:e}));return zt(t)}function QB({primaryType:i,types:e}){let t="",s=BT({primaryType:i,types:e});s.delete(i);let n=[i,...Array.from(s).sort()];for(let o of n)t+=`${o}(${e[o].map(({name:l,type:u})=>`${u} ${l}`).join(",")})`;return t}function BT({primaryType:i,types:e},t=new Set){let n=i.match(/^\w*/u)?.[0];if(t.has(n)||e[n]===void 0)return t;t.add(n);for(let o of e[n])BT({primaryType:o.type,types:e},t);return t}function DT({types:i,name:e,type:t,value:s}){if(i[t]!==void 0)return[{type:"bytes32"},zt(RT({data:s,primaryType:t,types:i}))];if(t==="bytes")return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},zt(s)];if(t==="string")return[{type:"bytes32"},zt(Re(s))];if(t.lastIndexOf("]")===t.length-1){let n=t.slice(0,t.lastIndexOf("[")),o=s.map(l=>DT({name:e,type:n,types:i,value:l}));return[{type:"bytes32"},zt(_r(o.map(([l])=>l),o.map(([,l])=>l)))]}return[{type:t},s]}var OT=b(()=>{"use strict";Mn();Or();Ke();ss();iI()});function NT(i){let{domain:e,message:t,primaryType:s,types:n}=i,o=(p,m)=>{let d={...m};for(let f of p){let{name:g,type:_}=f;_==="address"&&(d[g]=d[g].toLowerCase())}return d},l=(()=>n.EIP712Domain?e?o(n.EIP712Domain,e):{}:{})(),u=(()=>{if(s!=="EIP712Domain")return o(n[s],t)})();return _t({domain:l,message:u,primaryType:s,types:n})}function Mb(i){let{domain:e,message:t,primaryType:s,types:n}=i,o=(l,u)=>{for(let p of l){let{name:m,type:d}=p,f=u[m],g=d.match(Nf);if(g&&(typeof f=="number"||typeof f=="bigint")){let[x,I,M]=g;we(f,{signed:I==="int",size:Number.parseInt(M)/8})}if(d==="address"&&typeof f=="string"&&!Nt(f))throw new Gt({address:f});let _=d.match(NE);if(_){let[x,I]=_;if(I&&kt(f)!==Number.parseInt(I))throw new gf({expectedSize:Number.parseInt(I),givenSize:kt(f)})}let S=n[d];S&&(XB(d),o(S,f))}};if(n.EIP712Domain&&e){if(typeof e!="object")throw new Tb({domain:e});o(n.EIP712Domain,e)}if(s!=="EIP712Domain")if(n[s])o(n[s],t);else throw new Cb({primaryType:s,types:n})}function Rb({domain:i}){return[typeof i?.name=="string"&&{name:"name",type:"string"},i?.version&&{name:"version",type:"string"},(typeof i?.chainId=="number"||typeof i?.chainId=="bigint")&&{name:"chainId",type:"uint256"},i?.verifyingContract&&{name:"verifyingContract",type:"address"},i?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function XB(i){if(i==="address"||i==="bool"||i==="string"||i.startsWith("bytes")||i.startsWith("uint")||i.startsWith("int"))throw new Ab({type:i})}var iI=b(()=>{"use strict";bi();Ss();CT();ns();Zr();Ke();Bx();tr()});function FT(i){let{authorizationList:e}=i;if(e)for(let t of e){let{chainId:s}=t,n=t.address;if(!Nt(n))throw new Gt({address:n});if(s<0)throw new Qo({chainId:s})}Bb(i)}function PT(i){let{blobVersionedHashes:e}=i;if(e){if(e.length===0)throw new yl;for(let t of e){let s=kt(t),n=hi(Xs(t,0,1));if(s!==32)throw new Hg({hash:t,size:s});if(n!==1)throw new zg({hash:t,version:n})}}Bb(i)}function Bb(i){let{chainId:e,maxPriorityFeePerGas:t,maxFeePerGas:s,to:n}=i;if(e<=0)throw new Qo({chainId:e});if(n&&!Nt(n))throw new Gt({address:n});if(s&&s>ml)throw new Ur({maxFeePerGas:s});if(t&&s&&t>s)throw new Rs({maxFeePerGas:s,maxPriorityFeePerGas:t})}function UT(i){let{chainId:e,maxPriorityFeePerGas:t,gasPrice:s,maxFeePerGas:n,to:o}=i;if(e<=0)throw new Qo({chainId:e});if(o&&!Nt(o))throw new Gt({address:o});if(t||n)throw new G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>ml)throw new Ur({maxFeePerGas:s})}function HT(i){let{chainId:e,maxPriorityFeePerGas:t,gasPrice:s,maxFeePerGas:n,to:o}=i;if(o&&!Nt(o))throw new Gt({address:o});if(typeof e<"u"&&e<=0)throw new Qo({chainId:e});if(t||n)throw new G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>ml)throw new Ur({maxFeePerGas:s})}var zT=b(()=>{"use strict";gv();Ss();pt();Sv();Mp();Wn();ns();Zr();To();Hi()});function Pp(i){if(!i||i.length===0)return[];let e=[];for(let t=0;t<i.length;t++){let{address:s,storageKeys:n}=i[t];for(let o=0;o<n.length;o++)if(n[o].length-2!==64)throw new Zf({storageKey:n[o]});if(!Nt(s,{strict:!1}))throw new Gt({address:s});e.push([s,n])}return e}var jT=b(()=>{"use strict";Ss();os();ns()});function GT(i,e){let t=Gg(i);return t==="eip1559"?eD(i,e):t==="eip2930"?tD(i,e):t==="eip4844"?ZB(i,e):t==="eip7702"?JB(i,e):iD(i,e)}function JB(i,e){let{authorizationList:t,chainId:s,gas:n,nonce:o,to:l,value:u,maxFeePerGas:p,maxPriorityFeePerGas:m,accessList:d,data:f}=i;FT(i);let g=Pp(d),_=VT(t);return zi(["0x04",cs([Re(s),o?Re(o):"0x",m?Re(m):"0x",p?Re(p):"0x",n?Re(n):"0x",l??"0x",u?Re(u):"0x",f??"0x",g,_,...Bl(i,e)])])}function ZB(i,e){let{chainId:t,gas:s,nonce:n,to:o,value:l,maxFeePerBlobGas:u,maxFeePerGas:p,maxPriorityFeePerGas:m,accessList:d,data:f}=i;PT(i);let g=i.blobVersionedHashes,_=i.sidecars;if(i.blobs&&(typeof g>"u"||typeof _>"u")){let D=typeof i.blobs[0]=="string"?i.blobs:i.blobs.map(U=>yt(U)),j=i.kzg,W=gl({blobs:D,kzg:j});if(typeof g>"u"&&(g=Pg({commitments:W})),typeof _>"u"){let U=bl({blobs:D,commitments:W,kzg:j});_=jg({blobs:D,commitments:W,proofs:U})}}let S=Pp(d),x=[Re(t),n?Re(n):"0x",m?Re(m):"0x",p?Re(p):"0x",s?Re(s):"0x",o??"0x",l?Re(l):"0x",f??"0x",S,u?Re(u):"0x",g??[],...Bl(i,e)],I=[],M=[],A=[];if(_)for(let D=0;D<_.length;D++){let{blob:j,commitment:W,proof:U}=_[D];I.push(j),M.push(W),A.push(U)}return zi(["0x03",_?cs([x,I,M,A]):cs(x)])}function eD(i,e){let{chainId:t,gas:s,nonce:n,to:o,value:l,maxFeePerGas:u,maxPriorityFeePerGas:p,accessList:m,data:d}=i;Bb(i);let f=Pp(m),g=[Re(t),n?Re(n):"0x",p?Re(p):"0x",u?Re(u):"0x",s?Re(s):"0x",o??"0x",l?Re(l):"0x",d??"0x",f,...Bl(i,e)];return zi(["0x02",cs(g)])}function tD(i,e){let{chainId:t,gas:s,data:n,nonce:o,to:l,value:u,accessList:p,gasPrice:m}=i;UT(i);let d=Pp(p),f=[Re(t),o?Re(o):"0x",m?Re(m):"0x",s?Re(s):"0x",l??"0x",u?Re(u):"0x",n??"0x",d,...Bl(i,e)];return zi(["0x01",cs(f)])}function iD(i,e){let{chainId:t=0,gas:s,data:n,nonce:o,to:l,value:u,gasPrice:p}=i;HT(i);let m=[o?Re(o):"0x",p?Re(p):"0x",s?Re(s):"0x",l??"0x",u?Re(u):"0x",n??"0x"];if(e){let d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(t>0)return BigInt(t*2)+BigInt(35n+e.v-27n);let _=27n+(e.v===27n?0n:1n);if(e.v!==_)throw new Xf({v:e.v});return _})(),f=Ui(e.r),g=Ui(e.s);m=[...m,Re(d),f==="0x00"?"0x":f,g==="0x00"?"0x":g]}else t>0&&(m=[...m,Re(t),"0x","0x"]);return cs(m)}function Bl(i,e){let t=e??i,{v:s,yParity:n}=t;if(typeof t.r>"u")return[];if(typeof t.s>"u")return[];if(typeof s>"u"&&typeof n>"u")return[];let o=Ui(t.r),l=Ui(t.s);return[(()=>typeof n=="number"?n?Re(1):"0x":s===0n?"0x":s===1n?Re(1):s===27n?"0x":Re(1))(),o==="0x00"?"0x":o,l==="0x00"?"0x":l]}var rI=b(()=>{"use strict";os();WT();Ng();Fg();Iv();kv();Or();Aa();Ke();kg();zT();Ev();jT()});function VT(i){if(!i||i.length===0)return[];let e=[];for(let t of i){let{chainId:s,nonce:n,...o}=t,l=t.address;e.push([s?Re(s):"0x",l,n?Re(n):"0x",...Bl({},o)])}return e}var WT=b(()=>{"use strict";Ke();rI()});function sI(i){let e={...i,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,contractAddress:i.contractAddress?i.contractAddress:null,cumulativeGasUsed:i.cumulativeGasUsed?BigInt(i.cumulativeGasUsed):null,effectiveGasPrice:i.effectiveGasPrice?BigInt(i.effectiveGasPrice):null,gasUsed:i.gasUsed?BigInt(i.gasUsed):null,logs:i.logs?i.logs.map(t=>Wi(t)):null,to:i.to?i.to:null,transactionIndex:i.transactionIndex?hi(i.transactionIndex):null,status:i.status?rD[i.status]:null,type:i.type?yv[i.type]||i.type:null};return i.blobGasPrice&&(e.blobGasPrice=BigInt(i.blobGasPrice)),i.blobGasUsed&&(e.blobGasUsed=BigInt(i.blobGasUsed)),e}var rD,KT,nI=b(()=>{"use strict";Hi();wg();Xn();Lp();rD={"0x0":"reverted","0x1":"success"};KT=ul("transactionReceipt",sI)});var $T,qT=b(()=>{"use strict";$T=`Ethereum Signed Message:
`});function YT(i){let e=(()=>typeof i=="string"?ts(i):typeof i.raw=="string"?i.raw:yt(i.raw))(),t=ts(`${$T}${kt(e)}`);return er([t,e])}var QT=b(()=>{"use strict";qT();Or();Zr();Ke()});function Db(i,e){return zt(YT(i),e)}var oI=b(()=>{"use strict";ss();QT()});var Ob,aI=b(()=>{"use strict";Ob="0x6492649264926492649264926492649264926492649264926492649264926492"});function XT(i){return Rx(i,-32)===Ob}var JT=b(()=>{"use strict";aI();To()});function ZT(i){let{address:e,data:t,signature:s,to:n="hex"}=i,o=zi([_r([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,t,s]),Ob]);return n==="hex"?o:yi(o)}var eC=b(()=>{"use strict";aI();Mn();Or();Ti()});var Nb,tC=b(()=>{"use strict";pt();Nb=class extends G{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function lI(i,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(i))throw new Nb({value:i});let[t,s="0"]=i.split("."),n=t.startsWith("-");if(n&&(t=t.slice(1)),s=s.replace(/(0+)$/,""),e===0)Math.round(+`.${s}`)===1&&(t=`${BigInt(t)+1n}`),s="";else if(s.length>e){let[o,l,u]=[s.slice(0,e-1),s.slice(e-1,e),s.slice(e)],p=Math.round(+`${l}.${u}`);p>9?s=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):s=`${o}${p}`,s.length>e&&(s=s.slice(1),t=`${BigInt(t)+1n}`),s=s.slice(0,e)}else s=s.padEnd(e,"0");return BigInt(`${n?"-":""}${t}${s}`)}var iC=b(()=>{"use strict";tC()});var Fb=b(()=>{"use strict";Nr();Hi()});function sD(i){return i.map(e=>({...e,value:BigInt(e.value)}))}function rC(i){return{...i,balance:i.balance?BigInt(i.balance):void 0,nonce:i.nonce?hi(i.nonce):void 0,storageProof:i.storageProof?sD(i.storageProof):void 0}}var sC=b(()=>{"use strict";Fb()});async function nC(i,{address:e,blockNumber:t,blockTag:s,storageKeys:n}){let o=s??"latest",l=t!==void 0?we(t):void 0,u=await i.request({method:"eth_getProof",params:[e,n,l||o]});return rC(u)}var oC=b(()=>{"use strict";Ke();sC()});async function aC(i,{address:e,blockNumber:t,blockTag:s="latest",slot:n}){let o=t!==void 0?we(t):void 0;return await i.request({method:"eth_getStorageAt",params:[e,n,o||s]})}var lC=b(()=>{"use strict";Ke()});async function Dl(i,{blockHash:e,blockNumber:t,blockTag:s,hash:n,index:o}){let l=s||"latest",u=t!==void 0?we(t):void 0,p=null;if(n?p=await i.request({method:"eth_getTransactionByHash",params:[n]},{dedupe:!0}):e?p=await i.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,we(o)]},{dedupe:!0}):(u||l)&&(p=await i.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,we(o)]},{dedupe:!!u})),!p)throw new Ua({blockHash:e,blockNumber:t,blockTag:l,hash:n,index:o});return(i.chain?.formatters?.transaction?.format||Wo)(p)}var Pb=b(()=>{"use strict";os();Ke();Lp()});async function cC(i,{hash:e,transactionReceipt:t}){let[s,n]=await Promise.all([Ee(i,Ns,"getBlockNumber")({}),e?Ee(i,Dl,"getTransaction")({hash:e}):void 0]),o=t?.blockNumber||n?.blockNumber;return o?s-o+1n:0n}var uC=b(()=>{"use strict";Ht();Ll();Pb()});async function Up(i,{hash:e}){let t=await i.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!t)throw new Ha({hash:e});return(i.chain?.formatters?.transactionReceipt?.format||sI)(t)}var cI=b(()=>{"use strict";os();nI()});async function pC(i,e){let{allowFailure:t=!0,batchSize:s,blockNumber:n,blockTag:o,multicallAddress:l,stateOverride:u}=e,p=e.contracts,m=s??(typeof i.batch?.multicall=="object"&&i.batch.multicall.batchSize||1024),d=l;if(!d){if(!i.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Gr({blockNumber:n,chain:i.chain,contract:"multicall3"})}let f=[[]],g=0,_=0;for(let I=0;I<p.length;I++){let{abi:M,address:A,args:D,functionName:j}=p[I];try{let W=Kt({abi:M,args:D,functionName:j});_+=(W.length-2)/2,m>0&&_>m&&f[g].length>0&&(g++,_=(W.length-2)/2,f[g]=[]),f[g]=[...f[g],{allowFailure:!0,callData:W,target:A}]}catch(W){let U=xr(W,{abi:M,address:A,args:D,docsPath:"/docs/contract/multicall",functionName:j});if(!t)throw U;f[g]=[...f[g],{allowFailure:!0,callData:"0x",target:A}]}}let S=await Promise.allSettled(f.map(I=>Ee(i,Bi,"readContract")({abi:Cp,address:d,args:[I],blockNumber:n,blockTag:o,functionName:"aggregate3",stateOverride:u}))),x=[];for(let I=0;I<S.length;I++){let M=S[I];if(M.status==="rejected"){if(!t)throw M.reason;for(let D=0;D<f[I].length;D++)x.push({status:"failure",error:M.reason,result:void 0});continue}let A=M.value;for(let D=0;D<A.length;D++){let{returnData:j,success:W}=A[D],{callData:U}=f[I][D],{abi:J,address:X,functionName:ie,args:Ie}=p[x.length];try{if(U==="0x")throw new Br;if(!W)throw new Ts({data:j});let ke=mr({abi:J,args:Ie,data:j,functionName:ie});x.push(t?{result:ke,status:"success"}:ke)}catch(ke){let De=xr(ke,{abi:J,address:X,args:Ie,docsPath:"/docs/contract/multicall",functionName:ie});if(!t)throw De;x.push({error:De,result:void 0,status:"failure"})}}}if(x.length!==p.length)throw new G("multicall results mismatch");return x}var mC=b(()=>{"use strict";qo();bi();pt();Dn();Jn();Nr();Jo();No();Ht();sn()});var hC,dC=b(()=>{"use strict";hC="0.1.1"});function fC(){return hC}var gC=b(()=>{"use strict";dC()});function bC(i,e){return e?.(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause?bC(i.cause,e):e?null:i}var At,no=b(()=>{"use strict";gC();At=class i extends Error{constructor(e,t={}){let s=(()=>{if(t.cause instanceof i){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=(()=>t.cause instanceof i&&t.cause.docsPath||t.docsPath)(),l=`https://oxlib.sh${n??""}`,u=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...s||n?["",s?`Details: ${s}`:void 0,n?`See: ${l}`:void 0]:[]].filter(p=>typeof p=="string").join(`
`);super(u,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${fC()}`}),this.cause=t.cause,this.details=s,this.docs=l,this.docsPath=n,this.shortMessage=e}walk(e){return bC(this,e)}}});function yC(i,e,t){return JSON.stringify(i,(s,n)=>typeof e=="function"?e(s,n):typeof n=="bigint"?n.toString()+nD:n,t)}var nD,_C=b(()=>{"use strict";nD="#__bigint"});function xC(i,e){if(uI(i)>e)throw new Ub({givenSize:uI(i),maxSize:e})}function pI(i){if(i>=nn.zero&&i<=nn.nine)return i-nn.zero;if(i>=nn.A&&i<=nn.F)return i-(nn.A-10);if(i>=nn.a&&i<=nn.f)return i-(nn.a-10)}function vC(i,e={}){let{dir:t,size:s=32}=e;if(s===0)return i;if(i.length>s)throw new Hb({size:i.length,targetSize:s,type:"Bytes"});let n=new Uint8Array(s);for(let o=0;o<s;o++){let l=t==="right";n[l?o:s-o-1]=i[l?o:i.length-o-1]}return n}var nn,IC=b(()=>{"use strict";zb();nn={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Hp(i,e){if(Ci(i)>e)throw new jb({givenSize:Ci(i),maxSize:e})}function SC(i,e){if(typeof e=="number"&&e>0&&e>Ci(i)-1)throw new zp({offset:e,position:"start",size:Ci(i)})}function kC(i,e,t){if(typeof e=="number"&&typeof t=="number"&&Ci(i)!==t-e)throw new zp({offset:t,position:"end",size:Ci(i)})}function hI(i,e={}){let{dir:t,size:s=32}=e;if(s===0)return i;let n=i.replace("0x","");if(n.length>s*2)throw new Gb({size:Math.ceil(n.length/2),targetSize:s,type:"Hex"});return`0x${n[t==="right"?"padEnd":"padStart"](s*2,"0")}`}var dI=b(()=>{"use strict";us()});function LC(i){return i instanceof Uint8Array?i:typeof i=="string"?uD(i):cD(i)}function cD(i){return i instanceof Uint8Array?i:new Uint8Array(i)}function uD(i,e={}){let{size:t}=e,s=i;t&&(Hp(i,t),s=Ps(i,t));let n=s.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,l=new Uint8Array(o);for(let u=0,p=0;u<o;u++){let m=pI(n.charCodeAt(p++)),d=pI(n.charCodeAt(p++));if(m===void 0||d===void 0)throw new At(`Invalid byte sequence ("${n[p-2]}${n[p-1]}" in "${n}").`);l[u]=m*16+d}return l}function wC(i,e={}){let{size:t}=e,s=lD.encode(i);return typeof t=="number"?(xC(s,t),pD(s,t)):s}function pD(i,e){return vC(i,{dir:"right",size:e})}function uI(i){return i.length}var lD,Ub,Hb,zb=b(()=>{"use strict";no();us();IC();dI();lD=new TextEncoder;Ub=class extends At{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Hb=class extends At{constructor({size:e,targetSize:t,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function dD(i,e={}){let{strict:t=!1}=e;if(!i)throw new Vb(i);if(typeof i!="string")throw new Vb(i);if(t&&!/^0x[0-9a-fA-F]*$/.test(i))throw new Wb(i);if(!i.startsWith("0x"))throw new Wb(i)}function dr(...i){return`0x${i.reduce((e,t)=>e+t.replace("0x",""),"")}`}function Kb(i,e={}){let t=`0x${Number(i)}`;return typeof e.size=="number"?(Hp(t,e.size),on(t,e.size)):t}function Ol(i,e={}){let t="";for(let n=0;n<i.length;n++)t+=hD[i[n]];let s=`0x${t}`;return typeof e.size=="number"?(Hp(s,e.size),Ps(s,e.size)):s}function di(i,e={}){let{signed:t,size:s}=e,n=BigInt(i),o;s?t?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof i=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let l=typeof o=="bigint"&&t?-o-1n:0;if(o&&n>o||n<l){let m=typeof i=="bigint"?"n":"";throw new jp({max:o?`${o}${m}`:void 0,min:`${l}${m}`,signed:t,size:s,value:`${i}${m}`})}let p=`0x${(t&&n<0?(1n<<BigInt(s*8))+BigInt(n):n).toString(16)}`;return s?on(p,s):p}function Nl(i,e={}){return Ol(mD.encode(i),e)}function on(i,e){return hI(i,{dir:"left",size:e})}function Ps(i,e){return hI(i,{dir:"right",size:e})}function Fl(i,e,t,s={}){let{strict:n}=s;SC(i,e);let o=`0x${i.replace("0x","").slice((e??0)*2,(t??i.length)*2)}`;return n&&kC(o,e,t),o}function Ci(i){return Math.ceil((i.length-2)/2)}function fI(i,e={}){let{strict:t=!1}=e;try{return dD(i,{strict:t}),!0}catch{return!1}}var mD,hD,jp,Vb,Wb,jb,zp,Gb,us=b(()=>{"use strict";no();_C();dI();mD=new TextEncoder,hD=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));jp=class extends At{constructor({max:e,min:t,signed:s,size:n,value:o}){super(`Number \`${o}\` is not in safe${n?` ${n*8}-bit`:""}${s?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Vb=class extends At{constructor(e){super(`Value \`${typeof e=="object"?yC(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Wb=class extends At{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},jb=class extends At{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},zp=class extends At{constructor({offset:e,position:t,size:s}){super(`Slice ${t==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${s}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Gb=class extends At{constructor({size:e,targetSize:t,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function TC(i){return{address:i.address,amount:di(i.amount),index:di(i.index),validatorIndex:di(i.validatorIndex)}}var CC=b(()=>{"use strict";us()});function AC(i){return{...typeof i.baseFeePerGas=="bigint"&&{baseFeePerGas:di(i.baseFeePerGas)},...typeof i.blobBaseFee=="bigint"&&{blobBaseFee:di(i.blobBaseFee)},...typeof i.feeRecipient=="string"&&{feeRecipient:i.feeRecipient},...typeof i.gasLimit=="bigint"&&{gasLimit:di(i.gasLimit)},...typeof i.number=="bigint"&&{number:di(i.number)},...typeof i.prevRandao=="bigint"&&{prevRandao:di(i.prevRandao)},...typeof i.time=="bigint"&&{time:di(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(TC)}}}var MC=b(()=>{"use strict";us();CC()});async function Gp(i,e){let{blockNumber:t,blockTag:s="latest",blocks:n,returnFullTransactions:o,traceTransfers:l,validation:u}=e;try{let p=[];for(let g of n){let _=g.blockOverrides?AC(g.blockOverrides):void 0,S=g.calls.map(I=>{let M=I,A=M.account?dt(M.account):void 0,D={...M,data:M.abi?Kt(M):M.data,from:M.from??A?.address};return pr(D),zr(D)}),x=g.stateOverrides?pl(g.stateOverrides):void 0;p.push({blockOverrides:_,calls:S,stateOverrides:x})}let d=(t?we(t):void 0)||s;return(await i.request({method:"eth_simulateV1",params:[{blockStateCalls:p,returnFullTransactions:o,traceTransfers:l,validation:u},d]})).map((g,_)=>({...wp(g),calls:g.calls.map((S,x)=>{let{abi:I,args:M,functionName:A,to:D}=n[_].calls[x],j=S.error?.data??S.returnData,W=BigInt(S.gasUsed),U=S.logs?.map(Ie=>Wi(Ie)),J=S.status==="0x1"?"success":"failure",X=I&&J==="success"&&j!=="0x"?mr({abi:I,data:j,functionName:A}):null,ie=(()=>{if(J==="success")return;let Ie;if(S.error?.data==="0x"?Ie=new Br:S.error&&(Ie=new Ts(S.error)),!!Ie)return xr(Ie,{abi:I??[],address:D,args:M,functionName:A??"<unknown>"})})();return{data:j,gasUsed:W,logs:U,status:J,...J==="success"?{result:X}:{error:ie}}})}))}catch(p){let m=p,d=Kn(m,{});throw d instanceof Hr?m:d}}var gI=b(()=>{"use strict";MC();_i();bi();Dn();Wn();Jn();Nr();Ke();No();kp();Rg();Xn();Vo();Tg();qn()});function $b(i,e={}){let{as:t=typeof i=="string"?"Hex":"Bytes"}=e,s=Bf(LC(i));return t==="Bytes"?s:Ol(s)}var bI=b(()=>{"use strict";wx();zb();us()});var qb,BC=b(()=>{"use strict";qb=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let s=this.keys().next().value;s&&this.delete(s)}return this}}});var bD,Yb,DC=b(()=>{"use strict";BC();bD={checksum:new qb(8192)},Yb=bD.checksum});function Pl(i,e={}){let{strict:t=!0}=e;if(!_D.test(i))throw new Qb({address:i,cause:new yI});if(t){if(i.toLowerCase()===i)return;if(OC(i)!==i)throw new Qb({address:i,cause:new _I})}}function OC(i){if(Yb.has(i))return Yb.get(i);Pl(i,{strict:!1});let e=i.substring(2).toLowerCase(),t=$b(wC(e),{as:"Bytes"}),s=e.split("");for(let o=0;o<40;o+=2)t[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(t[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());let n=`0x${s.join("")}`;return Yb.set(i,n),n}function Xb(i,e={}){let{strict:t=!0}=e??{};try{return Pl(i,{strict:t}),!0}catch{return!1}}var _D,Qb,yI,_I,Jb=b(()=>{"use strict";zb();DC();no();bI();_D=/^0x[a-fA-F0-9]{40}$/;Qb=class extends At{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},yI=class extends At{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},_I=class extends At{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});function ey(i){let e=!0,t="",s=0,n="",o=!1;for(let l=0;l<i.length;l++){let u=i[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&s++,u===")"&&s--,!!e){if(s===0){if(u===" "&&["event","function","error",""].includes(n))n="";else if(n+=u,u===")"){o=!0;break}continue}if(u===" "){i[l-1]!==","&&t!==","&&t!==",("&&(t="",e=!1);continue}n+=u,t+=u}}if(!o)throw new At("Unable to normalize signature.");return n}function Zb(i,e){let t=typeof i,s=e.type;switch(s){case"address":return Xb(i,{strict:!1});case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return s==="tuple"&&"components"in e?Object.values(e.components).every((n,o)=>Zb(Object.values(i)[o],n)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?t==="number"||t==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?t==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(i)&&i.every(n=>Zb(n,{...e,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vI(i,e,t){for(let s in i){let n=i[s],o=e[s];if(n.type==="tuple"&&o.type==="tuple"&&"components"in n&&"components"in o)return vI(n.components,o.components,t[s]);let l=[n.type,o.type];if((()=>l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?Xb(t[s],{strict:!1}):l.includes("address")&&l.includes("bytes")?Xb(t[s],{strict:!1}):!1)())return l}}var NC=b(()=>{"use strict";Jb();no()});function ty(i,e={}){let{prepare:t=!0}=e,s=(()=>Array.isArray(i)?of(i):typeof i=="string"?of(i):i)();return{...s,...t?{hash:Ul(s)}:{}}}function FC(i,e,t){let{args:s=[],prepare:n=!0}=t??{},o=fI(e,{strict:!1}),l=i.filter(m=>o?m.type==="function"||m.type==="error"?SI(m)===Fl(e,0,4):m.type==="event"?Ul(m)===e:!1:"name"in m&&m.name===e);if(l.length===0)throw new ta({name:e});if(l.length===1)return{...l[0],...n?{hash:Ul(l[0])}:{}};let u;for(let m of l){if(!("inputs"in m))continue;if(!s||s.length===0){if(!m.inputs||m.inputs.length===0)return{...m,...n?{hash:Ul(m)}:{}};continue}if(!m.inputs||m.inputs.length===0||m.inputs.length!==s.length)continue;if(s.every((f,g)=>{let _="inputs"in m&&m.inputs[g];return _?Zb(f,_):!1})){if(u&&"inputs"in u&&u.inputs){let f=vI(m.inputs,u.inputs,s);if(f)throw new II({abiItem:m,type:f[0]},{abiItem:u,type:f[1]})}u=m}}let p=(()=>{if(u)return u;let[m,...d]=l;return{...m,overloads:d}})();if(!p)throw new ta({name:e});return{...p,...n?{hash:Ul(p)}:{}}}function SI(i){return Fl(Ul(i),0,4)}function vD(i){let e=(()=>typeof i=="string"?i:So(i))();return ey(e)}function Ul(i){return typeof i!="string"&&"hash"in i&&i.hash?i.hash:$b(Nl(vD(i)))}var II,ta,kI=b(()=>{"use strict";af();no();bI();us();NC();II=class extends At{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${ey(So(e.abiItem))}\`, and`,`\`${t.type}\` in \`${ey(So(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},ta=class extends At{constructor({name:e,data:t,type:s="item"}){let n=(()=>e?` with name "${e}"`:t?` with data "${t}"`:"")();super(`ABI ${s}${n} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});var UC,HC,iy,xY,vY,IY,SY,kY,EY,LY,wY,TY,CY,AY,MY,RY,BY,DY,OY,NY,FY,PY,UY,HY,zY,jY,GY,VY,WY,KY,$Y,qY,YY,QY,XY,JY,ZY,eQ,tQ,iQ,rQ,sQ,nQ,oQ,aQ,lQ,cQ,uQ,pQ,mQ,hQ,dQ,fQ,gQ,bQ,yQ,_Q,xQ,vQ,IQ,SQ,kQ,EQ,LQ,wQ,TQ,CQ,AQ,MQ,RQ,BQ,DQ,OQ,NQ,FQ,PQ,UQ,HQ,zQ,jQ,GQ,VQ,WQ,KQ,$Q,qQ,YQ,QQ,XQ,JQ,ZQ,eX,tX,iX,rX,sX,nX,oX,aX,EI=b(()=>{"use strict";UC=/^(.*)\[([0-9]*)\]$/,HC=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,iy=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xY=2n**(8n-1n)-1n,vY=2n**(16n-1n)-1n,IY=2n**(24n-1n)-1n,SY=2n**(32n-1n)-1n,kY=2n**(40n-1n)-1n,EY=2n**(48n-1n)-1n,LY=2n**(56n-1n)-1n,wY=2n**(64n-1n)-1n,TY=2n**(72n-1n)-1n,CY=2n**(80n-1n)-1n,AY=2n**(88n-1n)-1n,MY=2n**(96n-1n)-1n,RY=2n**(104n-1n)-1n,BY=2n**(112n-1n)-1n,DY=2n**(120n-1n)-1n,OY=2n**(128n-1n)-1n,NY=2n**(136n-1n)-1n,FY=2n**(144n-1n)-1n,PY=2n**(152n-1n)-1n,UY=2n**(160n-1n)-1n,HY=2n**(168n-1n)-1n,zY=2n**(176n-1n)-1n,jY=2n**(184n-1n)-1n,GY=2n**(192n-1n)-1n,VY=2n**(200n-1n)-1n,WY=2n**(208n-1n)-1n,KY=2n**(216n-1n)-1n,$Y=2n**(224n-1n)-1n,qY=2n**(232n-1n)-1n,YY=2n**(240n-1n)-1n,QY=2n**(248n-1n)-1n,XY=2n**(256n-1n)-1n,JY=-(2n**(8n-1n)),ZY=-(2n**(16n-1n)),eQ=-(2n**(24n-1n)),tQ=-(2n**(32n-1n)),iQ=-(2n**(40n-1n)),rQ=-(2n**(48n-1n)),sQ=-(2n**(56n-1n)),nQ=-(2n**(64n-1n)),oQ=-(2n**(72n-1n)),aQ=-(2n**(80n-1n)),lQ=-(2n**(88n-1n)),cQ=-(2n**(96n-1n)),uQ=-(2n**(104n-1n)),pQ=-(2n**(112n-1n)),mQ=-(2n**(120n-1n)),hQ=-(2n**(128n-1n)),dQ=-(2n**(136n-1n)),fQ=-(2n**(144n-1n)),gQ=-(2n**(152n-1n)),bQ=-(2n**(160n-1n)),yQ=-(2n**(168n-1n)),_Q=-(2n**(176n-1n)),xQ=-(2n**(184n-1n)),vQ=-(2n**(192n-1n)),IQ=-(2n**(200n-1n)),SQ=-(2n**(208n-1n)),kQ=-(2n**(216n-1n)),EQ=-(2n**(224n-1n)),LQ=-(2n**(232n-1n)),wQ=-(2n**(240n-1n)),TQ=-(2n**(248n-1n)),CQ=-(2n**(256n-1n)),AQ=2n**8n-1n,MQ=2n**16n-1n,RQ=2n**24n-1n,BQ=2n**32n-1n,DQ=2n**40n-1n,OQ=2n**48n-1n,NQ=2n**56n-1n,FQ=2n**64n-1n,PQ=2n**72n-1n,UQ=2n**80n-1n,HQ=2n**88n-1n,zQ=2n**96n-1n,jQ=2n**104n-1n,GQ=2n**112n-1n,VQ=2n**120n-1n,WQ=2n**128n-1n,KQ=2n**136n-1n,$Q=2n**144n-1n,qQ=2n**152n-1n,YQ=2n**160n-1n,QQ=2n**168n-1n,XQ=2n**176n-1n,JQ=2n**184n-1n,ZQ=2n**192n-1n,eX=2n**200n-1n,tX=2n**208n-1n,iX=2n**216n-1n,rX=2n**224n-1n,sX=2n**232n-1n,nX=2n**240n-1n,oX=2n**248n-1n,aX=2n**256n-1n});function zC({checksumAddress:i,parameters:e,values:t}){let s=[];for(let n=0;n<e.length;n++)s.push(LI({checksumAddress:i,parameter:e[n],value:t[n]}));return s}function LI({checksumAddress:i=!1,parameter:e,value:t}){let s=e,n=AD(s.type);if(n){let[o,l]=n;return kD(t,{checksumAddress:i,length:o,parameter:{...s,type:l}})}if(s.type==="tuple")return CD(t,{checksumAddress:i,parameter:s});if(s.type==="address")return SD(t,{checksum:i});if(s.type==="bool")return LD(t);if(s.type.startsWith("uint")||s.type.startsWith("int")){let o=s.type.startsWith("int"),[,,l="256"]=iy.exec(s.type)??[];return wD(t,{signed:o,size:Number(l)})}if(s.type.startsWith("bytes"))return ED(t,{type:s.type});if(s.type==="string")return TD(t);throw new Wp(s.type)}function ry(i){let e=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?e+=32:e+=Ci(u)}let t=[],s=[],n=0;for(let o=0;o<i.length;o++){let{dynamic:l,encoded:u}=i[o];l?(t.push(di(e+n,{size:32})),s.push(u),n+=Ci(u)):t.push(u)}return dr(...t,...s)}function SD(i,e){let{checksum:t=!1}=e;return Pl(i,{strict:t}),{dynamic:!1,encoded:on(i.toLowerCase())}}function kD(i,e){let{checksumAddress:t,length:s,parameter:n}=e,o=s===null;if(!Array.isArray(i))throw new ny(i);if(!o&&i.length!==s)throw new sy({expectedLength:s,givenLength:i.length,type:`${n.type}[${s}]`});let l=!1,u=[];for(let p=0;p<i.length;p++){let m=LI({checksumAddress:t,parameter:n,value:i[p]});m.dynamic&&(l=!0),u.push(m)}if(o||l){let p=ry(u);if(o){let m=di(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?dr(m,p):m}}if(l)return{dynamic:!0,encoded:p}}return{dynamic:!1,encoded:dr(...u.map(({encoded:p})=>p))}}function ED(i,{type:e}){let[,t]=e.split("bytes"),s=Ci(i);if(!t){let n=i;return s%32!==0&&(n=Ps(n,Math.ceil((i.length-2)/2/32)*32)),{dynamic:!0,encoded:dr(on(di(s,{size:32})),n)}}if(s!==Number.parseInt(t))throw new Vp({expectedSize:Number.parseInt(t),value:i});return{dynamic:!1,encoded:Ps(i)}}function LD(i){if(typeof i!="boolean")throw new At(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:on(Kb(i))}}function wD(i,{signed:e,size:t}){if(typeof t=="number"){let s=2n**(BigInt(t)-(e?1n:0n))-1n,n=e?-s-1n:0n;if(i>s||i<n)throw new jp({max:s.toString(),min:n.toString(),signed:e,size:t/8,value:i.toString()})}return{dynamic:!1,encoded:di(i,{size:32,signed:e})}}function TD(i){let e=Nl(i),t=Math.ceil(Ci(e)/32),s=[];for(let n=0;n<t;n++)s.push(Ps(Fl(e,n*32,(n+1)*32)));return{dynamic:!0,encoded:dr(Ps(di(Ci(e),{size:32})),...s)}}function CD(i,e){let{checksumAddress:t,parameter:s}=e,n=!1,o=[];for(let l=0;l<s.components.length;l++){let u=s.components[l],p=Array.isArray(i)?l:u.name,m=LI({checksumAddress:t,parameter:u,value:i[p]});o.push(m),m.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ry(o):dr(...o.map(({encoded:l})=>l))}}function AD(i){let e=i.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var jC=b(()=>{"use strict";oy();Jb();no();us();EI()});function ly(i,e,t){let{checksumAddress:s=!1}=t??{};if(i.length!==e.length)throw new ay({expectedLength:i.length,givenLength:e.length});let n=zC({checksumAddress:s,parameters:i,values:e}),o=ry(n);return o.length===0?"0x":o}function TI(i,e){if(i.length!==e.length)throw new ay({expectedLength:i.length,givenLength:e.length});let t=[];for(let s=0;s<i.length;s++){let n=i[s],o=e[s];t.push(TI.encode(n,o))}return dr(...t)}var sy,Vp,ay,ny,Wp,oy=b(()=>{"use strict";Jb();no();us();EI();jC();(function(i){function e(t,s,n=!1){if(t==="address"){let p=s;return Pl(p),on(p.toLowerCase(),n?32:0)}if(t==="string")return Nl(s);if(t==="bytes")return s;if(t==="bool")return on(Kb(s),n?32:1);let o=t.match(iy);if(o){let[p,m,d="256"]=o,f=Number.parseInt(d)/8;return di(s,{size:n?32:f,signed:m==="int"})}let l=t.match(HC);if(l){let[p,m]=l;if(Number.parseInt(m)!==(s.length-2)/2)throw new Vp({expectedSize:Number.parseInt(m),value:s});return Ps(s,n?32:0)}let u=t.match(UC);if(u&&Array.isArray(s)){let[p,m]=u,d=[];for(let f=0;f<s.length;f++)d.push(e(m,s[f],!0));return d.length===0?"0x":dr(...d)}throw new Wp(t)}i.encode=e})(TI||(TI={}));sy=class extends At{constructor({expectedLength:e,givenLength:t,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},Vp=class extends At{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Ci(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},ay=class extends At{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},ny=class extends At{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},Wp=class extends At{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function GC(i,e){let{bytecode:t,args:s}=e;return dr(t,i.inputs?.length&&s?.length?ly(i.inputs,s):"0x")}function VC(i){return ty(i)}var WC=b(()=>{"use strict";kI();oy();us()});function KC(i,...e){let{overloads:t}=i,s=t?DD([i,...t],i.name,{args:e[0]}):i,n=OD(s),o=e.length>0?ly(s.inputs,e[0]):void 0;return o?dr(n,o):n}function ia(i,e={}){return ty(i,e)}function DD(i,e,t){let s=FC(i,e,t);if(s.type!=="function")throw new ta({name:e,type:"function"});return s}function OD(i){return SI(i)}var $C=b(()=>{"use strict";kI();oy();us()});var qC,ps,YC=b(()=>{"use strict";qC="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ps="0x0000000000000000000000000000000000000000"});async function QC(i,e){let{blockNumber:t,blockTag:s,calls:n,stateOverrides:o,traceAssetChanges:l,traceTransfers:u,validation:p}=e,m=e.account?dt(e.account):void 0;if(l&&!m)throw new G("`account` is required when `traceAssetChanges` is true");let d=m?GC(VC("constructor(bytes, bytes)"),{bytecode:Xg,args:[FD,KC(ia("function getBalance(address)"),[m.address])]}):void 0,f=l?await Promise.all(e.calls.map(async pe=>{if(!pe.data&&!pe.abi)return;let{accessList:$e}=await Eb(i,{account:m.address,...pe,data:pe.abi?Kt(pe):pe.data});return $e.map(({address:Ct,storageKeys:si})=>si.length>0?Ct:null)})).then(pe=>pe.flat().filter(Boolean)):[],g=o?.map(pe=>pe.address===m?.address?{...pe,nonce:0}:pe),_=await Gp(i,{blockNumber:t,blockTag:s,blocks:[...l?[{calls:[{data:d}],stateOverrides:o},{calls:f.map((pe,$e)=>({abi:[ia("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[m.address],to:pe,from:ps,nonce:$e})),stateOverrides:[{address:ps,nonce:0}]}]:[],{calls:[...n,{}].map((pe,$e)=>({...pe,from:m?.address,nonce:$e})),stateOverrides:g},...l?[{calls:[{data:d}]},{calls:f.map((pe,$e)=>({abi:[ia("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[m.address],to:pe,from:ps,nonce:$e})),stateOverrides:[{address:ps,nonce:0}]},{calls:f.map((pe,$e)=>({to:pe,abi:[ia("function decimals() returns (uint256)")],functionName:"decimals",from:ps,nonce:$e})),stateOverrides:[{address:ps,nonce:0}]},{calls:f.map((pe,$e)=>({to:pe,abi:[ia("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ps,nonce:$e})),stateOverrides:[{address:ps,nonce:0}]},{calls:f.map((pe,$e)=>({to:pe,abi:[ia("function symbol() returns (string)")],functionName:"symbol",from:ps,nonce:$e})),stateOverrides:[{address:ps,nonce:0}]}]:[]],traceTransfers:u,validation:p}),S=l?_[2]:_[0],[x,I,,M,A,D,j,W]=l?_:[],{calls:U,...J}=S,X=U.slice(0,-1)??[],ie=x?.calls??[],Ie=I?.calls??[],ke=[...ie,...Ie].map(pe=>pe.status==="success"?Wt(pe.data):null),De=M?.calls??[],ft=A?.calls??[],ye=[...De,...ft].map(pe=>pe.status==="success"?Wt(pe.data):null),ue=(D?.calls??[]).map(pe=>pe.status==="success"?pe.result:null),me=(W?.calls??[]).map(pe=>pe.status==="success"?pe.result:null),R=(j?.calls??[]).map(pe=>pe.status==="success"?pe.result:null),Fe=[];for(let[pe,$e]of ye.entries()){let Ct=ke[pe];if(typeof $e!="bigint"||typeof Ct!="bigint")continue;let si=ue[pe-1],Li=me[pe-1],wt=R[pe-1],or=(()=>pe===0?{address:qC,decimals:18,symbol:"ETH"}:{address:f[pe-1],decimals:wt||si?Number(si??1):void 0,symbol:Li??void 0})();Fe.some(Xi=>Xi.token.address===or.address)||Fe.push({token:or,value:{pre:Ct,post:$e,diff:$e-Ct}})}return{assetChanges:Fe,block:J,results:X}}var FD,XC=b(()=>{"use strict";WC();$C();_i();YC();Jg();pt();Nr();Fb();Jv();gI();FD="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});function JC({r:i,s:e,to:t="hex",v:s,yParity:n}){let o=(()=>{if(n===0||n===1)return n;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new tn.Signature(Wt(i),Wt(e)).toCompactHex()}${o===0?"1b":"1c"}`;return t==="hex"?l:yi(l)}var ZC=b(()=>{"use strict";Ig();Hi();Ti()});async function Hl(i,e){let{address:t,factory:s,factoryData:n,hash:o,signature:l,universalSignatureVerifierAddress:u=i.chain?.contracts?.universalSignatureVerifier?.address,...p}=e,m=(()=>li(l)?l:typeof l=="object"&&"r"in l&&"s"in l?JC(l):yt(l))(),d=await(async()=>!s&&!n||XT(m)?m:ZT({address:s,data:n,signature:m}))();try{let f=u?{to:u,data:Kt({abi:Rv,functionName:"isValidSig",args:[t,o,d]}),...p}:{data:Xo({abi:Rv,args:[t,o,d],bytecode:fw}),...p},{data:g}=await Ee(i,Ds,"call")(f);return kx(g??"0x0")}catch(f){try{if(Bs(Of(t),await Sg({hash:o,signature:l})))return!0}catch{}if(f instanceof za)return!1;throw f}}var cy=b(()=>{"use strict";qo();Jg();Dn();tb();wo();xl();Jr();Ke();Ht();Fb();JT();dv();eC();ZC();kl()});async function eA(i,{address:e,message:t,factory:s,factoryData:n,signature:o,...l}){let u=Db(t);return Hl(i,{address:e,factory:s,factoryData:n,hash:u,signature:o,...l})}var tA=b(()=>{"use strict";oI();cy()});async function iA(i,e){let{address:t,factory:s,factoryData:n,signature:o,message:l,primaryType:u,types:p,domain:m,...d}=e,f=AT({message:l,primaryType:u,types:p,domain:m});return Hl(i,{address:t,factory:s,factoryData:n,hash:f,signature:o,...d})}var rA=b(()=>{"use strict";OT();cy()});function uy(i,{emitOnBegin:e=!1,emitMissed:t=!1,onBlockNumber:s,onError:n,poll:o,pollingInterval:l=i.pollingInterval}){let u=(()=>typeof o<"u"?o:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),p;return u?(()=>{let f=_t(["watchBlockNumber",i.uid,e,t,l]);return hr(f,{onBlockNumber:s,onError:n},g=>Os(async()=>{try{let _=await Ee(i,Ns,"getBlockNumber")({cacheTime:0});if(p){if(_===p)return;if(_-p>1&&t)for(let S=p+1n;S<_;S++)g.onBlockNumber(S,p),p=S}(!p||_>p)&&(g.onBlockNumber(_,p),p=_)}catch(_){g.onError?.(_)}},{emitOnBegin:e,interval:l}))})():(()=>{let f=_t(["watchBlockNumber",i.uid,e,t]);return hr(f,{onBlockNumber:s,onError:n},g=>{let _=!0,S=()=>_=!1;return(async()=>{try{let x=(()=>{if(i.transport.type==="fallback"){let M=i.transport.transports.find(A=>A.config.type==="webSocket");return M?M.value:i.transport}return i.transport})(),{unsubscribe:I}=await x.subscribe({params:["newHeads"],onData(M){if(!_)return;let A=Wt(M.result?.number);g.onBlockNumber(A,p),p=A},onError(M){g.onError?.(M)}});S=I,_||S()}catch(x){n?.(x)}})(),()=>S()})})()}var CI=b(()=>{"use strict";Hi();Ht();Zo();El();tr();Ll()});async function sA(i,{confirmations:e=1,hash:t,onReplaced:s,pollingInterval:n=i.pollingInterval,retryCount:o=6,retryDelay:l=({count:p})=>~~(1<<p)*200,timeout:u=18e4}){let p=_t(["waitForTransactionReceipt",i.uid,t]),m,d,f,g=!1,{promise:_,resolve:S,reject:x}=rb(),I=u?setTimeout(()=>x(new tg({hash:t})),u):void 0,M=hr(p,{onReplaced:s,resolve:S,reject:x},A=>{let D=Ee(i,uy,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:n,async onBlockNumber(j){let W=J=>{clearTimeout(I),D(),J(),M()},U=j;if(!g)try{if(f){if(e>1&&(!f.blockNumber||U-f.blockNumber+1n<e))return;W(()=>A.resolve(f));return}if(m||(g=!0,await Op(async()=>{m=await Ee(i,Dl,"getTransaction")({hash:t}),m.blockNumber&&(U=m.blockNumber)},{delay:l,retryCount:o}),g=!1),f=await Ee(i,Up,"getTransactionReceipt")({hash:t}),e>1&&(!f.blockNumber||U-f.blockNumber+1n<e))return;W(()=>A.resolve(f))}catch(J){if(J instanceof Ua||J instanceof Ha){if(!m){g=!1;return}try{d=m,g=!0;let X=await Op(()=>Ee(i,Vi,"getBlock")({blockNumber:U,includeTransactions:!0}),{delay:l,retryCount:o,shouldRetry:({error:ke})=>ke instanceof hl});g=!1;let ie=X.transactions.find(({from:ke,nonce:De})=>ke===d.from&&De===d.nonce);if(!ie||(f=await Ee(i,Up,"getTransactionReceipt")({hash:ie.hash}),e>1&&(!f.blockNumber||U-f.blockNumber+1n<e)))return;let Ie="replaced";ie.to===d.to&&ie.value===d.value&&ie.input===d.input?Ie="repriced":ie.from===ie.to&&ie.value===0n&&(Ie="cancelled"),W(()=>{A.onReplaced?.({reason:Ie,replacedTransaction:d,transaction:ie,transactionReceipt:f}),A.resolve(f)})}catch(X){W(()=>A.reject(X))}}else W(()=>A.reject(J))}}})});return _}var nA=b(()=>{"use strict";bv();os();Ht();Zo();Ov();Vv();tr();Ko();Pb();cI();CI()});function oA(i,{blockTag:e="latest",emitMissed:t=!1,emitOnBegin:s=!1,onBlock:n,onError:o,includeTransactions:l,poll:u,pollingInterval:p=i.pollingInterval}){let m=(()=>typeof u<"u"?u:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),d=l??!1,f;return m?(()=>{let S=_t(["watchBlocks",i.uid,e,t,s,d,p]);return hr(S,{onBlock:n,onError:o},x=>Os(async()=>{try{let I=await Ee(i,Vi,"getBlock")({blockTag:e,includeTransactions:d});if(I.number&&f?.number){if(I.number===f.number)return;if(I.number-f.number>1&&t)for(let M=f?.number+1n;M<I.number;M++){let A=await Ee(i,Vi,"getBlock")({blockNumber:M,includeTransactions:d});x.onBlock(A,f),f=A}}(!f?.number||e==="pending"&&!I?.number||I.number&&I.number>f.number)&&(x.onBlock(I,f),f=I)}catch(I){x.onError?.(I)}},{emitOnBegin:s,interval:p}))})():(()=>{let S=!0,x=!0,I=()=>S=!1;return(async()=>{try{s&&Ee(i,Vi,"getBlock")({blockTag:e,includeTransactions:d}).then(D=>{S&&x&&(n(D,void 0),x=!1)});let M=(()=>{if(i.transport.type==="fallback"){let D=i.transport.transports.find(j=>j.config.type==="webSocket");return D?D.value:i.transport}return i.transport})(),{unsubscribe:A}=await M.subscribe({params:["newHeads"],async onData(D){if(!S)return;let j=await Ee(i,Vi,"getBlock")({blockNumber:D.blockNumber,includeTransactions:d}).catch(()=>{});S&&(n(j,f),x=!1,f=j)},onError(D){o?.(D)}});I=A,S||I()}catch(M){o?.(M)}})(),()=>I()})()}var aA=b(()=>{"use strict";Ht();Zo();El();tr();Ko()});function lA(i,{address:e,args:t,batch:s=!0,event:n,events:o,fromBlock:l,onError:u,onLogs:p,poll:m,pollingInterval:d=i.pollingInterval,strict:f}){let g=(()=>typeof m<"u"?m:typeof l=="bigint"?!0:!(i.transport.type==="webSocket"||i.transport.type==="fallback"&&i.transport.transports[0].config.type==="webSocket"))(),_=f??!1;return g?(()=>{let I=_t(["watchEvent",e,t,s,i.uid,n,d,l]);return hr(I,{onLogs:p,onError:u},M=>{let A;l!==void 0&&(A=l-1n);let D,j=!1,W=Os(async()=>{if(!j){try{D=await Ee(i,Lb,"createEventFilter")({address:e,args:t,event:n,events:o,strict:_,fromBlock:l})}catch{}j=!0;return}try{let U;if(D)U=await Ee(i,Zn,"getFilterChanges")({filter:D});else{let J=await Ee(i,Ns,"getBlockNumber")({});A&&A!==J?U=await Ee(i,Sl,"getLogs")({address:e,args:t,event:n,events:o,fromBlock:A+1n,toBlock:J}):U=[],A=J}if(U.length===0)return;if(s)M.onLogs(U);else for(let J of U)M.onLogs([J])}catch(U){D&&U instanceof Cs&&(j=!1),M.onError?.(U)}},{emitOnBegin:!0,interval:d});return async()=>{D&&await Ee(i,eo,"uninstallFilter")({filter:D}),W()}})})():(()=>{let I=!0,M=()=>I=!1;return(async()=>{try{let A=(()=>{if(i.transport.type==="fallback"){let U=i.transport.transports.find(J=>J.config.type==="webSocket");return U?U.value:i.transport}return i.transport})(),D=o??(n?[n]:void 0),j=[];D&&(j=[D.flatMap(J=>Ls({abi:[J],eventName:J.name,args:t}))],n&&(j=j[0]));let{unsubscribe:W}=await A.subscribe({params:["logs",{address:e,topics:j}],onData(U){if(!I)return;let J=U.result;try{let{eventName:X,args:ie}=vl({abi:D??[],data:J.data,topics:J.topics,strict:_}),Ie=Wi(J,{args:ie,eventName:X});p([Ie])}catch(X){let ie,Ie;if(X instanceof es||X instanceof Is){if(f)return;ie=X.abiItem.name,Ie=X.abiItem.inputs?.some(De=>!("name"in De&&De.name))}let ke=Wi(J,{args:Ie?[]:{},eventName:ie});p([ke])}},onError(U){u?.(U)}});M=W,I||M()}catch(A){u?.(A)}})(),()=>M()})()}var cA=b(()=>{"use strict";Ba();Zo();El();tr();bi();gp();Kg();Xn();Ht();Zv();Ll();Bp();qg();Dp()});function uA(i,{batch:e=!0,onError:t,onTransactions:s,poll:n,pollingInterval:o=i.pollingInterval}){return(typeof n<"u"?n:i.transport.type!=="webSocket")?(()=>{let m=_t(["watchPendingTransactions",i.uid,e,o]);return hr(m,{onTransactions:s,onError:t},d=>{let f,g=Os(async()=>{try{if(!f)try{f=await Ee(i,wb,"createPendingTransactionFilter")({});return}catch(S){throw g(),S}let _=await Ee(i,Zn,"getFilterChanges")({filter:f});if(_.length===0)return;if(e)d.onTransactions(_);else for(let S of _)d.onTransactions([S])}catch(_){d.onError?.(_)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await Ee(i,eo,"uninstallFilter")({filter:f}),g()}})})():(()=>{let m=!0,d=()=>m=!1;return(async()=>{try{let{unsubscribe:f}=await i.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!m)return;let _=g.result;s([_])},onError(g){t?.(g)}});d=f,m||d()}catch(f){t?.(f)}})(),()=>d()})()}var pA=b(()=>{"use strict";Ht();Zo();El();tr();eI();Bp();Dp()});function mA(i){let{scheme:e,statement:t,...s}=i.match(PD)?.groups??{},{chainId:n,expirationTime:o,issuedAt:l,notBefore:u,requestId:p,...m}=i.match(UD)?.groups??{},d=i.split("Resources:")[1]?.split(`
- `).slice(1);return{...s,...m,...n?{chainId:Number(n)}:{},...o?{expirationTime:new Date(o)}:{},...l?{issuedAt:new Date(l)}:{},...u?{notBefore:new Date(u)}:{},...p?{requestId:p}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...t?{statement:t}:{}}}var PD,UD,hA=b(()=>{"use strict";PD=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,UD=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/});function dA(i){let{address:e,domain:t,message:s,nonce:n,scheme:o,time:l=new Date}=i;if(t&&s.domain!==t||n&&s.nonce!==n||o&&s.scheme!==o||s.expirationTime&&l>=s.expirationTime||s.notBefore&&l<s.notBefore)return!1;try{if(!s.address||e&&!Bs(s.address,e))return!1}catch{return!1}return!0}var fA=b(()=>{"use strict";xl()});async function gA(i,e){let{address:t,domain:s,message:n,nonce:o,scheme:l,signature:u,time:p=new Date,...m}=e,d=mA(n);if(!d.address||!dA({address:t,domain:s,message:d,nonce:o,scheme:l,time:p}))return!1;let g=Db(n);return Hl(i,{address:d.address,hash:g,signature:u,...m})}var bA=b(()=>{"use strict";oI();hA();fA();cy()});function yA(i){return{call:e=>Ds(i,e),createAccessList:e=>Eb(i,e),createBlockFilter:()=>gT(i),createContractEventFilter:e=>Uf(i,e),createEventFilter:e=>Lb(i,e),createPendingTransactionFilter:()=>wb(i),estimateContractGas:e=>aw(i,e),estimateGas:e=>_l(i,e),getBalance:e=>Wg(i,e),getBlobBaseFee:()=>yT(i),getBlock:e=>Vi(i,e),getBlockNumber:e=>Ns(i,e),getBlockTransactionCount:e=>xT(i,e),getBytecode:e=>tI(i,e),getChainId:()=>jr(i),getCode:e=>tI(i,e),getContractEvents:e=>Yg(i,e),getEip712Domain:e=>Dw(i,e),getEnsAddress:e=>eT(i,e),getEnsAvatar:e=>uT(i,e),getEnsName:e=>mT(i,e),getEnsResolver:e=>dT(i,e),getEnsText:e=>kb(i,e),getFeeHistory:e=>ET(i,e),estimateFeesPerGas:e=>ZL(i,e),getFilterChanges:e=>Zn(i,e),getFilterLogs:e=>wT(i,e),getGasPrice:()=>dl(i),getLogs:e=>Sl(i,e),getProof:e=>nC(i,e),estimateMaxPriorityFeePerGas:e=>JL(i,e),getStorageAt:e=>aC(i,e),getTransaction:e=>Dl(i,e),getTransactionConfirmations:e=>cC(i,e),getTransactionCount:e=>fl(i,e),getTransactionReceipt:e=>Up(i,e),multicall:e=>pC(i,e),prepareTransactionRequest:e=>Qn(i,e),readContract:e=>Bi(i,e),sendRawTransaction:e=>wl(i,e),simulate:e=>Gp(i,e),simulateBlocks:e=>Gp(i,e),simulateCalls:e=>QC(i,e),simulateContract:e=>vw(i,e),verifyMessage:e=>eA(i,e),verifySiweMessage:e=>gA(i,e),verifyTypedData:e=>iA(i,e),uninstallFilter:e=>eo(i,e),waitForTransactionReceipt:e=>sA(i,e),watchBlocks:e=>oA(i,e),watchBlockNumber:e=>uy(i,e),watchContractEvent:e=>ww(i,e),watchEvent:e=>lA(i,e),watchPendingTransactions:e=>uA(i,e)}}var _A=b(()=>{"use strict";tT();pT();hT();fT();Xv();kl();Jv();bT();Fx();Zv();eI();lw();vv();Vg();xv();wv();_T();Ko();Ll();vT();$o();IT();Tv();Ow();LT();Bp();TT();Bg();qg();oC();lC();Pb();uC();Og();cI();mC();sn();gI();XC();Iw();Dp();tA();rA();nA();CI();aA();Tw();cA();pA();bA();Tp();cb()});function Kp(i){let{key:e="public",name:t="Public Client"}=i;return fb({...i,key:e,name:t,type:"publicClient"}).extend(yA)}var xA=b(()=>{"use strict";Gv();_A()});function vA(i,e){let{abi:t,args:s,bytecode:n,...o}=e,l=Xo({abi:t,args:s,bytecode:n});return Tl(i,{...o,...o.authorizationList?{to:null}:{},data:l})}var IA=b(()=>{"use strict";tb();ub()});async function SA(i){return i.account?.type==="local"?[i.account.address]:(await i.request({method:"eth_accounts"},{dedupe:!0})).map(t=>Qs(t))}var kA=b(()=>{"use strict";wo()});async function EA(i){return await i.request({method:"wallet_getPermissions"},{dedupe:!0})}var LA=b(()=>{"use strict"});async function py(i,e){let{account:t=i.account,chainId:s,nonce:n}=e;if(!t)throw new Ki({docsPath:"/docs/eip7702/prepareAuthorization"});let o=dt(t),l=(()=>{if(e.executor)return e.executor==="self"?e.executor:dt(e.executor)})(),u={address:e.contractAddress??e.address,chainId:s,nonce:n};return typeof u.chainId>"u"&&(u.chainId=i.chain?.id??await Ee(i,jr,"getChainId")({})),typeof u.nonce>"u"&&(u.nonce=await Ee(i,fl,"getTransactionCount")({address:o.address,blockTag:"pending"}),(l==="self"||l?.address&&Bs(l.address,o.address))&&(u.nonce+=1)),u}var AI=b(()=>{"use strict";_i();io();xl();Ht();$o();Og()});async function wA(i){return(await i.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(t=>Of(t))}var TA=b(()=>{"use strict";wo()});async function CA(i,e){return i.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var AA=b(()=>{"use strict"});async function MA(i,e){let{account:t=i.account}=e;if(!t)throw new Ki({docsPath:"/docs/eip7702/signAuthorization"});let s=dt(t);if(!s.signAuthorization)throw new to({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:s.type});let n=await py(i,e);return s.signAuthorization(n)}var RA=b(()=>{"use strict";_i();io();AI()});async function BA(i,{account:e=i.account,message:t}){if(!e)throw new Ki({docsPath:"/docs/actions/wallet/signMessage"});let s=dt(e);if(s.signMessage)return s.signMessage({message:t});let n=(()=>typeof t=="string"?ts(t):t.raw instanceof Uint8Array?Re(t.raw):t.raw)();return i.request({method:"personal_sign",params:[n,s.address]},{retryCount:0})}var DA=b(()=>{"use strict";_i();io();Ke()});async function OA(i,e){let{account:t=i.account,chain:s=i.chain,...n}=e;if(!t)throw new Ki({docsPath:"/docs/actions/wallet/signTransaction"});let o=dt(t);pr({account:o,...e});let l=await Ee(i,jr,"getChainId")({});s!==null&&lb({currentChainId:l,chain:s});let p=(s?.formatters||i.chain?.formatters)?.transactionRequest?.format||zr;return o.signTransaction?o.signTransaction({...n,chainId:l},{serializer:i.chain?.serializers?.transaction}):await i.request({method:"eth_signTransaction",params:[{...p(n),chainId:we(l),from:o.address}]},{retryCount:0})}var NA=b(()=>{"use strict";_i();io();Hv();Ke();Vo();Ht();qn();$o()});async function FA(i,e){let{account:t=i.account,domain:s,message:n,primaryType:o}=e;if(!t)throw new Ki({docsPath:"/docs/actions/wallet/signTypedData"});let l=dt(t),u={EIP712Domain:Rb({domain:s}),...e.types};if(Mb({domain:s,message:n,primaryType:o,types:u}),l.signTypedData)return l.signTypedData({domain:s,message:n,primaryType:o,types:u});let p=NT({domain:s,message:n,primaryType:o,types:u});return i.request({method:"eth_signTypedData_v4",params:[l.address,p]},{retryCount:0})}var PA=b(()=>{"use strict";_i();io();iI()});async function UA(i,{id:e}){await i.request({method:"wallet_switchEthereumChain",params:[{chainId:we(e)}]},{retryCount:0})}var HA=b(()=>{"use strict";Ke()});async function zA(i,e){return await i.request({method:"wallet_watchAsset",params:e},{retryCount:0})}var jA=b(()=>{"use strict"});function GA(i){return{addChain:e=>Nw(i,e),deployContract:e=>vA(i,e),getAddresses:()=>SA(i),getChainId:()=>jr(i),getPermissions:()=>EA(i),prepareAuthorization:e=>py(i,e),prepareTransactionRequest:e=>Qn(i,e),requestAddresses:()=>wA(i),requestPermissions:e=>CA(i,e),sendRawTransaction:e=>wl(i,e),sendTransaction:e=>Tl(i,e),signAuthorization:e=>MA(i,e),signMessage:e=>BA(i,e),signTransaction:e=>OA(i,e),signTypedData:e=>FA(i,e),switchChain:e=>UA(i,e),watchAsset:e=>zA(i,e),writeContract:e=>Mw(i,e)}}var VA=b(()=>{"use strict";$o();Fw();IA();kA();LA();AI();Tp();TA();AA();cb();ub();RA();DA();NA();PA();HA();jA();Rw()});function zl(i){let{key:e="wallet",name:t="Wallet Client",transport:s}=i;return fb({...i,key:e,name:t,transport:s,type:"walletClient"}).extend(GA)}var WA=b(()=>{"use strict";Gv();VA()});var my=b(()=>{"use strict";jw();Yw();xA();WA();Ke();Kf();iC()});function $p(){return Re(tn.utils.randomPrivateKey())}var KA=b(()=>{"use strict";Ig();Ke()});var $A=b(()=>{"use strict";KA()});var qA,YA=b(()=>{"use strict";qA={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}}});var QA,XA=b(()=>{"use strict";Hi();Rg();Lp();nI();QA={block:XL({format(i){return{transactions:i.transactions?.map(t=>{if(typeof t=="string")return t;let s=Wo(t);return s.typeHex==="0x7e"&&(s.isSystemTx=t.isSystemTx,s.mint=t.mint?Wt(t.mint):void 0,s.sourceHash=t.sourceHash,s.type="deposit"),s}),stateRoot:i.stateRoot}}}),transaction:QL({format(i){let e={};return i.type==="0x7e"&&(e.isSystemTx=i.isSystemTx,e.mint=i.mint?Wt(i.mint):void 0,e.sourceHash=i.sourceHash,e.type="deposit"),e}}),transactionReceipt:KT({format(i){return{l1GasPrice:i.l1GasPrice?Wt(i.l1GasPrice):null,l1GasUsed:i.l1GasUsed?Wt(i.l1GasUsed):null,l1Fee:i.l1Fee?Wt(i.l1Fee):null,l1FeeScalar:i.l1FeeScalar?Number(i.l1FeeScalar):null}}})}});function HD(i,e){return jD(i)?zD(i):GT(i,e)}function zD(i){GD(i);let{sourceHash:e,data:t,from:s,gas:n,isSystemTx:o,mint:l,to:u,value:p}=i,m=[e,s,u??"0x",l?Re(l):"0x",p?Re(p):"0x",n?Re(n):"0x",o?"0x1":"0x",t??"0x"];return zi(["0x7e",cs(m)])}function jD(i){return i.type==="deposit"||typeof i.sourceHash<"u"}function GD(i){let{from:e,to:t}=i;if(e&&!Nt(e))throw new Gt({address:e});if(t&&!Nt(t))throw new Gt({address:t})}var JA,ZA=b(()=>{"use strict";Ss();ns();Or();Ke();kg();rI();JA={transaction:HD}});var ra,hy=b(()=>{"use strict";YA();XA();ZA();ra={contracts:qA,formatters:QA,serializers:JA}});var qp,eM=b(()=>{"use strict";Vr();qp=Qt({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}})});var dy,tM=b(()=>{"use strict";Vr();dy=Qt({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0})});var fy,iM=b(()=>{"use strict";Vr();fy=Qt({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}})});var gy,rM=b(()=>{"use strict";Vr();gy=Qt({id:1890,name:"LightLink Phoenix Mainnet",network:"lightlink-phoenix",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.phoenix.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Phoenix Explorer",url:"https://phoenix.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:125499184}},testnet:!1})});var jl,sM=b(()=>{"use strict";Vr();jl=Qt({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}})});var by,nM=b(()=>{"use strict";Vr();by=Qt({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}})});var yy,oM=b(()=>{"use strict";Vr();yy=Qt({id:5003,name:"Mantle Sepolia Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.sepolia.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.sepolia.mantle.xyz/",apiUrl:"https://explorer.sepolia.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4584012}},testnet:!0})});var _y,xy,aM=b(()=>{"use strict";hy();Vr();_y=56,xy=Qt({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...ra.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[_y]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[_y]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[_y]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:_y})});var vy,Iy,lM=b(()=>{"use strict";hy();Vr();vy=97,Iy=Qt({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{...ra.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108},l2OutputOracle:{[vy]:{address:"0xFf2394Bb843012562f4349C6632a0EcB92fC8810"}},portal:{[vy]:{address:"0x4386C8ABf2009aC0c263462Da568DD9d46e52a31"}},l1StandardBridge:{[vy]:{address:"0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840"}}},testnet:!0,sourceId:vy})});var Yp,Sy,cM=b(()=>{"use strict";hy();Vr();Yp=1,Sy=Qt({...ra,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...ra.contracts,disputeGameFactory:{[Yp]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Yp]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Yp]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Yp]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Yp})});var ky,uM=b(()=>{"use strict";Vr();ky=Qt({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0})});var pM=b(()=>{"use strict";eM();tM();iM();rM();sM();nM();oM();aM();lM();cM();uM()});var KM=nk(Di=>{"use strict";var OI=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,e,t){i!=Array.prototype&&i!=Object.prototype&&(i[e]=t.value)},sa=typeof window<"u"&&window===Di?Di:typeof global<"u"&&global!=null?global:Di;function VD(i,e){if(e){var t=sa;i=i.split(".");for(var s=0;s<i.length-1;s++){var n=i[s];n in t||(t[n]={}),t=t[n]}i=i[i.length-1],s=t[i],e=e(s),e!=s&&e!=null&&OI(t,i,{configurable:!0,writable:!0,value:e})}}function WD(i){var e=0;return function(){return e<i.length?{done:!1,value:i[e++]}:{done:!0}}}function bM(){bM=function(){},sa.Symbol||(sa.Symbol=KD)}function yM(i,e){this.a=i,OI(this,"description",{configurable:!0,writable:!0,value:e})}yM.prototype.toString=function(){return this.a};var KD=function(){function i(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new yM("jscomp_symbol_"+(t||"")+"_"+e++,t)}var e=0;return i}();function NI(){bM();var i=sa.Symbol.iterator;i||(i=sa.Symbol.iterator=sa.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&OI(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return $D(WD(this))}}),NI=function(){}}function $D(i){return NI(),i={next:i},i[sa.Symbol.iterator]=function(){return this},i}function qD(i,e){NI(),i instanceof String&&(i+="");var t=0,s={next:function(){if(t<i.length){var n=t++;return{value:e(n,i[n]),done:!1}}return s.next=function(){return{done:!0,value:void 0}},s.next()}};return s[Symbol.iterator]=function(){return s},s}VD("Array.prototype.entries",function(i){return i||function(){return qD(this,function(e,t){return[e,t]})}});var YD=Di||self;function Be(i,e,t){i=i.split("."),t=t||YD,i[0]in t||typeof t.execScript>"u"||t.execScript("var "+i[0]);for(var s;i.length&&(s=i.shift());)i.length||e===void 0?t[s]&&t[s]!==Object.prototype[s]?t=t[s]:t=t[s]={}:t[s]=e}function an(i){var e=typeof i;if(e=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return e;var t=Object.prototype.toString.call(i);if(t=="[object Window]")return"object";if(t=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(t=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(e=="function"&&typeof i.call>"u")return"object";return e}function mM(i){var e=typeof i;return e=="object"&&i!=null||e=="function"}function QD(i,e,t){Be(i,e,t)}function XD(i,e){function t(){}t.prototype=e.prototype,i.prototype=new t,i.prototype.constructor=i}var hM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JD(i,e){for(var t,s,n=1;n<arguments.length;n++){s=arguments[n];for(t in s)i[t]=s[t];for(var o=0;o<hM.length;o++)t=hM[o],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}var ZD=Array.prototype.forEach?function(i,e){Array.prototype.forEach.call(i,e,void 0)}:function(i,e){for(var t=i.length,s=typeof i=="string"?i.split(""):i,n=0;n<t;n++)n in s&&e.call(void 0,s[n],n,i)},em=Array.prototype.map?function(i,e){return Array.prototype.map.call(i,e,void 0)}:function(i,e){for(var t=i.length,s=Array(t),n=typeof i=="string"?i.split(""):i,o=0;o<t;o++)o in n&&(s[o]=e.call(void 0,n[o],o,i));return s};function eO(i,e,t){return 2>=arguments.length?Array.prototype.slice.call(i,e):Array.prototype.slice.call(i,e,t)}function Ly(i,e,t,s){var n="Assertion failed";if(t){n+=": "+t;var o=s}else i&&(n+=": "+i,o=e);throw Error(n,o||[])}function Y(i,e,t){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];return i||Ly("",null,e,s),i}function tO(i,e,t){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];typeof i!="string"&&Ly("Expected string but got %s: %s.",[an(i),i],e,s)}function iO(i,e,t){for(var s=[],n=2;n<arguments.length;++n)s[n-2]=arguments[n];Array.isArray(i)||Ly("Expected array but got %s: %s.",[an(i),i],e,s)}function Si(i,e){for(var t=[],s=1;s<arguments.length;++s)t[s-1]=arguments[s];throw Error("Failure"+(i?": "+i:""),t)}function hs(i,e,t,s){for(var n=[],o=3;o<arguments.length;++o)n[o-3]=arguments[o];i instanceof e||Ly("Expected instanceof %s but got %s.",[dM(e),dM(i)],t,n)}function dM(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function Qe(i,e){if(this.c=i,this.b=e,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){e=this.c[i];var t=e[0];this.a[t.toString()]=new _M(t,e[1])}this.arrClean=!0}}Be("jspb.Map",Qe,void 0);Qe.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,e;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var t=i[e].a;t&&t.g()}}}else{for(this.c.length=0,i=oo(this),i.sort(),e=0;e<i.length;e++){var s=this.a[i[e]];(t=s.a)&&t.g(),this.c.push([s.key,s.value])}this.arrClean=!0}return this.c};Qe.prototype.toArray=Qe.prototype.g;Qe.prototype.Mc=function(i,e){for(var t=this.g(),s=[],n=0;n<t.length;n++){var o=this.a[t[n][0].toString()];Vl(this,o);var l=o.a;l?(Y(e),s.push([o.key,e(i,l)])):s.push([o.key,o.value])}return s};Qe.prototype.toObject=Qe.prototype.Mc;Qe.fromObject=function(i,e,t){e=new Qe([],e);for(var s=0;s<i.length;s++){var n=i[s][0],o=t(i[s][1]);e.set(n,o)}return e};function tm(i){this.a=0,this.b=i}tm.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}};typeof Symbol<"u"&&(tm.prototype[Symbol.iterator]=function(){return this});Qe.prototype.Jb=function(){return oo(this).length};Qe.prototype.getLength=Qe.prototype.Jb;Qe.prototype.clear=function(){this.a={},this.arrClean=!1};Qe.prototype.clear=Qe.prototype.clear;Qe.prototype.Cb=function(i){i=i.toString();var e=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,e};Qe.prototype.del=Qe.prototype.Cb;Qe.prototype.Eb=function(){var i=[],e=oo(this);e.sort();for(var t=0;t<e.length;t++){var s=this.a[e[t]];i.push([s.key,s.value])}return i};Qe.prototype.getEntryList=Qe.prototype.Eb;Qe.prototype.entries=function(){var i=[],e=oo(this);e.sort();for(var t=0;t<e.length;t++){var s=this.a[e[t]];i.push([s.key,Vl(this,s)])}return new tm(i)};Qe.prototype.entries=Qe.prototype.entries;Qe.prototype.keys=function(){var i=[],e=oo(this);e.sort();for(var t=0;t<e.length;t++)i.push(this.a[e[t]].key);return new tm(i)};Qe.prototype.keys=Qe.prototype.keys;Qe.prototype.values=function(){var i=[],e=oo(this);e.sort();for(var t=0;t<e.length;t++)i.push(Vl(this,this.a[e[t]]));return new tm(i)};Qe.prototype.values=Qe.prototype.values;Qe.prototype.forEach=function(i,e){var t=oo(this);t.sort();for(var s=0;s<t.length;s++){var n=this.a[t[s]];i.call(e,Vl(this,n),n.key,this)}};Qe.prototype.forEach=Qe.prototype.forEach;Qe.prototype.set=function(i,e){var t=new _M(i);return this.b?(t.a=e,t.value=e.g()):t.value=e,this.a[i.toString()]=t,this.arrClean=!1,this};Qe.prototype.set=Qe.prototype.set;function Vl(i,e){return i.b?(e.a||(e.a=new i.b(e.value)),e.a):e.value}Qe.prototype.get=function(i){if(i=this.a[i.toString()])return Vl(this,i)};Qe.prototype.get=Qe.prototype.get;Qe.prototype.has=function(i){return i.toString()in this.a};Qe.prototype.has=Qe.prototype.has;Qe.prototype.Jc=function(i,e,t,s,n){var o=oo(this);o.sort();for(var l=0;l<o.length;l++){var u=this.a[o[l]];e.Va(i),t.call(e,1,u.key),this.b?s.call(e,2,Vl(this,u),n):s.call(e,2,u.value),e.Ya()}};Qe.prototype.serializeBinary=Qe.prototype.Jc;Qe.deserializeBinary=function(i,e,t,s,n,o,l){for(;e.oa()&&!e.bb();){var u=e.c;u==1?o=t.call(e):u==2&&(i.b?(Y(n),l||(l=new i.b),s.call(e,l,n)):l=s.call(e))}Y(o!=null),Y(l!=null),i.set(o,l)};function oo(i){i=i.a;var e=[],t;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);return e}function _M(i,e){this.key=i,this.value=e,this.a=void 0}function xM(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var e="",t=0;t<i.length;t+=8192)e+=String.fromCharCode.apply(null,eO(i,t,t+8192));return e}var MI={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},Ey={"'":"\\'"},vM={},Qp=null;function IM(i,e){e===void 0&&(e=0),kM(),e=vM[e];for(var t=[],s=0;s<i.length;s+=3){var n=i[s],o=s+1<i.length,l=o?i[s+1]:0,u=s+2<i.length,p=u?i[s+2]:0,m=n>>2;n=(n&3)<<4|l>>4,l=(l&15)<<2|p>>6,p&=63,u||(p=64,o||(l=64)),t.push(e[m],e[n],e[l]||"",e[p]||"")}return t.join("")}function SM(i){var e=i.length,t=3*e/4;t%3?t=Math.floor(t):"=.".indexOf(i[e-1])!=-1&&(t="=.".indexOf(i[e-2])!=-1?t-2:t-1);var s=new Uint8Array(t),n=0;return rO(i,function(o){s[n++]=o}),s.subarray(0,n)}function rO(i,e){function t(p){for(;s<i.length;){var m=i.charAt(s++),d=Qp[m];if(d!=null)return d;if(!/^[\s\xa0]*$/.test(m))throw Error("Unknown base64 encoding at char: "+m)}return p}kM();for(var s=0;;){var n=t(-1),o=t(0),l=t(64),u=t(64);if(u===64&&n===-1)break;e(n<<2|o>>4),l!=64&&(e(o<<4&240|l>>2),u!=64&&e(l<<6&192|u))}}function kM(){if(!Qp){Qp={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++){var s=i.concat(e[t].split(""));vM[t]=s;for(var n=0;n<s.length;n++){var o=s[n];Qp[o]===void 0&&(Qp[o]=n)}}}}Be("jspb.ConstBinaryMessage",function(){},void 0);Be("jspb.BinaryMessage",function(){},void 0);Be("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0);Be("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0);Be("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0);Be("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0);Be("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0);Be("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0);Be("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0);Be("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0);Be("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0);Be("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0);Be("jspb.BinaryConstants.TWO_TO_20",1048576,void 0);Be("jspb.BinaryConstants.TWO_TO_23",8388608,void 0);Be("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0);Be("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0);Be("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0);Be("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0);Be("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0);Be("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var Tt=0,Mt=0;Be("jspb.utils.getSplit64Low",function(){return Tt},void 0);Be("jspb.utils.getSplit64High",function(){return Mt},void 0);function FI(i){var e=i>>>0;i=Math.floor((i-e)/4294967296)>>>0,Tt=e,Mt=i}Be("jspb.utils.splitUint64",FI,void 0);function im(i){var e=0>i;i=Math.abs(i);var t=i>>>0;i=Math.floor((i-t)/4294967296),i>>>=0,e&&(i=~i>>>0,t=(~t>>>0)+1,4294967295<t&&(t=0,i++,4294967295<i&&(i=0))),Tt=t,Mt=i}Be("jspb.utils.splitInt64",im,void 0);function EM(i){var e=0>i;i=2*Math.abs(i),FI(i),i=Tt;var t=Mt;e&&(i==0?t==0?t=i=4294967295:(t--,i=4294967295):i--),Tt=i,Mt=t}Be("jspb.utils.splitZigzag64",EM,void 0);function LM(i){var e=0>i?1:0;if(i=e?-i:i,i===0)0<1/i?Tt=Mt=0:(Mt=0,Tt=2147483648);else if(isNaN(i))Mt=0,Tt=2147483647;else if(34028234663852886e22<i)Mt=0,Tt=(e<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),Mt=0,Tt=(e<<31|i)>>>0;else{var t=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-t),i=Math.round(8388608*i),16777216<=i&&++t,Mt=0,Tt=(e<<31|t+127<<23|i&8388607)>>>0}}Be("jspb.utils.splitFloat32",LM,void 0);function wM(i){var e=0>i?1:0;if(i=e?-i:i,i===0)Mt=0<1/i?0:2147483648,Tt=0;else if(isNaN(i))Mt=2147483647,Tt=4294967295;else if(17976931348623157e292<i)Mt=(e<<31|2146435072)>>>0,Tt=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),Mt=(e<<31|i/4294967296)>>>0,Tt=i>>>0;else{var t=i,s=0;if(2<=t)for(;2<=t&&1023>s;)s++,t/=2;else for(;1>t&&-1022<s;)t*=2,s--;i*=Math.pow(2,-s),Mt=(e<<31|s+1023<<20|1048576*i&1048575)>>>0,Tt=4503599627370496*i>>>0}}Be("jspb.utils.splitFloat64",wM,void 0);function ao(i){var e=i.charCodeAt(4),t=i.charCodeAt(5),s=i.charCodeAt(6),n=i.charCodeAt(7);Tt=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,Mt=e+(t<<8)+(s<<16)+(n<<24)>>>0}Be("jspb.utils.splitHash64",ao,void 0);function Wl(i,e){return 4294967296*e+(i>>>0)}Be("jspb.utils.joinUint64",Wl,void 0);function rm(i,e){var t=e&2147483648;return t&&(i=~i+1>>>0,e=~e>>>0,i==0&&(e=e+1>>>0)),i=Wl(i,e),t?-i:i}Be("jspb.utils.joinInt64",rm,void 0);function wy(i,e,t){var s=e>>31;return t(i<<1^s,(e<<1|i>>>31)^s)}Be("jspb.utils.toZigzag64",wy,void 0);function TM(i,e){return Ty(i,e,rm)}Be("jspb.utils.joinZigzag64",TM,void 0);function Ty(i,e,t){var s=-(i&1);return t((i>>>1|e<<31)^s,e>>>1^s)}Be("jspb.utils.fromZigzag64",Ty,void 0);function CM(i){var e=2*(i>>31)+1,t=i>>>23&255;return i&=8388607,t==255?i?NaN:1/0*e:t==0?e*Math.pow(2,-149)*i:e*Math.pow(2,t-150)*(i+Math.pow(2,23))}Be("jspb.utils.joinFloat32",CM,void 0);function AM(i,e){var t=2*(e>>31)+1,s=e>>>20&2047;return i=4294967296*(e&1048575)+i,s==2047?i?NaN:1/0*t:s==0?t*Math.pow(2,-1074)*i:t*Math.pow(2,s-1075)*(i+4503599627370496)}Be("jspb.utils.joinFloat64",AM,void 0);function Cy(i,e){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)}Be("jspb.utils.joinHash64",Cy,void 0);Be("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function sm(i,e){function t(n,o){return n=n?String(n):"",o?"0000000".slice(n.length)+n:n}if(2097151>=e)return""+Wl(i,e);var s=(i>>>24|e<<8)>>>0&16777215;return e=e>>16&65535,i=(i&16777215)+6777216*s+6710656*e,s+=8147497*e,e*=2,1e7<=i&&(s+=Math.floor(i/1e7),i%=1e7),1e7<=s&&(e+=Math.floor(s/1e7),s%=1e7),t(e,0)+t(s,e)+t(i,1)}Be("jspb.utils.joinUnsignedDecimalString",sm,void 0);function nm(i,e){var t=e&2147483648;return t&&(i=~i+1>>>0,e=~e+(i==0?1:0)>>>0),i=sm(i,e),t?"-"+i:i}Be("jspb.utils.joinSignedDecimalString",nm,void 0);function MM(i,e){ao(i),i=Tt;var t=Mt;return e?nm(i,t):sm(i,t)}Be("jspb.utils.hash64ToDecimalString",MM,void 0);Be("jspb.utils.hash64ArrayToDecimalStrings",function(i,e){for(var t=Array(i.length),s=0;s<i.length;s++)t[s]=MM(i[s],e);return t},void 0);function om(i){function e(l,u){for(var p=0;8>p&&(l!==1||0<u);p++)u=l*n[p]+u,n[p]=u&255,u>>>=8}function t(){for(var l=0;8>l;l++)n[l]=~n[l]&255}Y(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var n=[0,0,0,0,0,0,0,0],o=0;o<i.length;o++)e(10,i.charCodeAt(o)-48);return s&&(t(),e(1,1)),xM(n)}Be("jspb.utils.decimalStringToHash64",om,void 0);Be("jspb.utils.splitDecimalString",function(i){ao(om(i))},void 0);function fM(i){return String.fromCharCode(10>i?48+i:87+i)}function gM(i){return 97<=i?i-97+10:i-48}Be("jspb.utils.hash64ToHexString",function(i){var e=Array(18);e[0]="0",e[1]="x";for(var t=0;8>t;t++){var s=i.charCodeAt(7-t);e[2*t+2]=fM(s>>4),e[2*t+3]=fM(s&15)}return e.join("")},void 0);Be("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),Y(i.length==18),Y(i[0]=="0"),Y(i[1]=="x");for(var e="",t=0;8>t;t++)e=String.fromCharCode(16*gM(i.charCodeAt(2*t+2))+gM(i.charCodeAt(2*t+3)))+e;return e},void 0);Be("jspb.utils.hash64ToNumber",function(i,e){ao(i),i=Tt;var t=Mt;return e?rm(i,t):Wl(i,t)},void 0);Be("jspb.utils.numberToHash64",function(i){return im(i),Cy(Tt,Mt)},void 0);Be("jspb.utils.countVarints",function(i,e,t){for(var s=0,n=e;n<t;n++)s+=i[n]>>7;return t-e-s},void 0);Be("jspb.utils.countVarintFields",function(i,e,t,s){var n=0;if(s*=8,128>s)for(;e<t&&i[e++]==s;)for(n++;;){var o=i[e++];if(!(o&128))break}else for(;e<t;){for(o=s;128<o;){if(i[e]!=(o&127|128))return n;e++,o>>=7}if(i[e++]!=o)break;for(n++;o=i[e++],(o&128)!=0;);}return n},void 0);function RM(i,e,t,s,n){var o=0;if(128>s)for(;e<t&&i[e++]==s;)o++,e+=n;else for(;e<t;){for(var l=s;128<l;){if(i[e++]!=(l&127|128))return o;l>>=7}if(i[e++]!=l)break;o++,e+=n}return o}Be("jspb.utils.countFixed32Fields",function(i,e,t,s){return RM(i,e,t,8*s+5,4)},void 0);Be("jspb.utils.countFixed64Fields",function(i,e,t,s){return RM(i,e,t,8*s+1,8)},void 0);Be("jspb.utils.countDelimitedFields",function(i,e,t,s){var n=0;for(s=8*s+2;e<t;){for(var o=s;128<o;){if(i[e++]!=(o&127|128))return n;o>>=7}if(i[e++]!=o)break;n++;for(var l=0,u=1;o=i[e++],l+=(o&127)*u,u*=128,(o&128)!=0;);e+=l}return n},void 0);Be("jspb.utils.debugBytesToTextFormat",function(i){var e='"';if(i){i=Ay(i);for(var t=0;t<i.length;t++)e+="\\x",16>i[t]&&(e+="0"),e+=i[t].toString(16)}return e+'"'},void 0);Be("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var e=['"'],t=0;t<i.length;t++){var s=i.charAt(t),n=s.charCodeAt(0),o=t+1,l;(l=MI[s])||(31<n&&127>n||(n=s,n in Ey?s=Ey[n]:n in MI?s=Ey[n]=MI[n]:(l=n.charCodeAt(0),31<l&&127>l?s=n:(256>l?(s="\\x",(16>l||256<l)&&(s+="0")):(s="\\u",4096>l&&(s+="0")),s+=l.toString(16).toUpperCase()),s=Ey[n]=s)),l=s),e[o]=l}e.push('"'),i=e.join("")}else i=i.toString();return i},void 0);Be("jspb.utils.stringToByteArray",function(i){for(var e=new Uint8Array(i.length),t=0;t<i.length;t++){var s=i.charCodeAt(t);if(255<s)throw Error("Conversion error: string contains codepoint outside of byte range");e[t]=s}return e},void 0);function Ay(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?SM(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):(Si("Type not convertible to Uint8Array."),new Uint8Array(0))}Be("jspb.utils.byteSourceToUint8Array",Ay,void 0);function V(i,e,t){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,e,t)}Be("jspb.BinaryDecoder",V,void 0);var Xp=[];V.getInstanceCacheLength=function(){return Xp.length};function My(i,e,t){if(Xp.length){var s=Xp.pop();return i&&s.H(i,e,t),s}return new V(i,e,t)}V.alloc=My;V.prototype.Ca=function(){this.clear(),100>Xp.length&&Xp.push(this)};V.prototype.free=V.prototype.Ca;V.prototype.clone=function(){return My(this.b,this.h,this.c-this.h)};V.prototype.clone=V.prototype.clone;V.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1};V.prototype.clear=V.prototype.clear;V.prototype.Y=function(){return this.b};V.prototype.getBuffer=V.prototype.Y;V.prototype.H=function(i,e,t){this.b=Ay(i),this.h=e!==void 0?e:0,this.c=t!==void 0?this.h+t:this.b.length,this.a=this.h};V.prototype.setBlock=V.prototype.H;V.prototype.Db=function(){return this.c};V.prototype.getEnd=V.prototype.Db;V.prototype.setEnd=function(i){this.c=i};V.prototype.setEnd=V.prototype.setEnd;V.prototype.reset=function(){this.a=this.h};V.prototype.reset=V.prototype.reset;V.prototype.B=function(){return this.a};V.prototype.getCursor=V.prototype.B;V.prototype.Ma=function(i){this.a=i};V.prototype.setCursor=V.prototype.Ma;V.prototype.advance=function(i){this.a+=i,Y(this.a<=this.c)};V.prototype.advance=V.prototype.advance;V.prototype.ya=function(){return this.a==this.c};V.prototype.atEnd=V.prototype.ya;V.prototype.Qb=function(){return this.a>this.c};V.prototype.pastEnd=V.prototype.Qb;V.prototype.getError=function(){return this.v||0>this.a||this.a>this.c};V.prototype.getError=V.prototype.getError;V.prototype.w=function(i){for(var e=128,t=0,s=0,n=0;4>n&&128<=e;n++)e=this.b[this.a++],t|=(e&127)<<7*n;if(128<=e&&(e=this.b[this.a++],t|=(e&127)<<28,s|=(e&127)>>4),128<=e)for(n=0;5>n&&128<=e;n++)e=this.b[this.a++],s|=(e&127)<<7*n+3;if(128>e)return i(t>>>0,s>>>0);Si("Failed to read varint, encoding is invalid."),this.v=!0};V.prototype.readSplitVarint64=V.prototype.w;V.prototype.ea=function(i){return this.w(function(e,t){return Ty(e,t,i)})};V.prototype.readSplitZigzagVarint64=V.prototype.ea;V.prototype.ta=function(i){var e=this.b,t=this.a;this.a+=8;for(var s=0,n=0,o=t+7;o>=t;o--)s=s<<8|e[o],n=n<<8|e[o+4];return i(s,n)};V.prototype.readSplitFixed64=V.prototype.ta;V.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++};V.prototype.skipVarint=V.prototype.kb;V.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--};V.prototype.unskipVarint=V.prototype.mb;V.prototype.o=function(){var i=this.b,e=i[this.a],t=e&127;return 128>e?(this.a+=1,Y(this.a<=this.c),t):(e=i[this.a+1],t|=(e&127)<<7,128>e?(this.a+=2,Y(this.a<=this.c),t):(e=i[this.a+2],t|=(e&127)<<14,128>e?(this.a+=3,Y(this.a<=this.c),t):(e=i[this.a+3],t|=(e&127)<<21,128>e?(this.a+=4,Y(this.a<=this.c),t):(e=i[this.a+4],t|=(e&15)<<28,128>e?(this.a+=5,Y(this.a<=this.c),t>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&Y(!1),Y(this.a<=this.c),t)))))};V.prototype.readUnsignedVarint32=V.prototype.o;V.prototype.da=function(){return~~this.o()};V.prototype.readSignedVarint32=V.prototype.da;V.prototype.O=function(){return this.o().toString()};V.prototype.Ea=function(){return this.da().toString()};V.prototype.readSignedVarint32String=V.prototype.Ea;V.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)};V.prototype.readZigzagVarint32=V.prototype.Ia;V.prototype.Ga=function(){return this.w(Wl)};V.prototype.readUnsignedVarint64=V.prototype.Ga;V.prototype.Ha=function(){return this.w(sm)};V.prototype.readUnsignedVarint64String=V.prototype.Ha;V.prototype.sa=function(){return this.w(rm)};V.prototype.readSignedVarint64=V.prototype.sa;V.prototype.Fa=function(){return this.w(nm)};V.prototype.readSignedVarint64String=V.prototype.Fa;V.prototype.Ja=function(){return this.w(TM)};V.prototype.readZigzagVarint64=V.prototype.Ja;V.prototype.fb=function(){return this.ea(Cy)};V.prototype.readZigzagVarintHash64=V.prototype.fb;V.prototype.Ka=function(){return this.ea(nm)};V.prototype.readZigzagVarint64String=V.prototype.Ka;V.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,Y(this.a<=this.c),i};V.prototype.readUint8=V.prototype.Gc;V.prototype.Ec=function(){var i=this.b[this.a],e=this.b[this.a+1];return this.a+=2,Y(this.a<=this.c),i<<0|e<<8};V.prototype.readUint16=V.prototype.Ec;V.prototype.m=function(){var i=this.b[this.a],e=this.b[this.a+1],t=this.b[this.a+2],s=this.b[this.a+3];return this.a+=4,Y(this.a<=this.c),(i<<0|e<<8|t<<16|s<<24)>>>0};V.prototype.readUint32=V.prototype.m;V.prototype.ga=function(){var i=this.m(),e=this.m();return Wl(i,e)};V.prototype.readUint64=V.prototype.ga;V.prototype.ha=function(){var i=this.m(),e=this.m();return sm(i,e)};V.prototype.readUint64String=V.prototype.ha;V.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,Y(this.a<=this.c),i<<24>>24};V.prototype.readInt8=V.prototype.Xb;V.prototype.Vb=function(){var i=this.b[this.a],e=this.b[this.a+1];return this.a+=2,Y(this.a<=this.c),(i<<0|e<<8)<<16>>16};V.prototype.readInt16=V.prototype.Vb;V.prototype.P=function(){var i=this.b[this.a],e=this.b[this.a+1],t=this.b[this.a+2],s=this.b[this.a+3];return this.a+=4,Y(this.a<=this.c),i<<0|e<<8|t<<16|s<<24};V.prototype.readInt32=V.prototype.P;V.prototype.ba=function(){var i=this.m(),e=this.m();return rm(i,e)};V.prototype.readInt64=V.prototype.ba;V.prototype.ca=function(){var i=this.m(),e=this.m();return nm(i,e)};V.prototype.readInt64String=V.prototype.ca;V.prototype.aa=function(){var i=this.m();return CM(i,0)};V.prototype.readFloat=V.prototype.aa;V.prototype.Z=function(){var i=this.m(),e=this.m();return AM(i,e)};V.prototype.readDouble=V.prototype.Z;V.prototype.pa=function(){return!!this.b[this.a++]};V.prototype.readBool=V.prototype.pa;V.prototype.ra=function(){return this.da()};V.prototype.readEnum=V.prototype.ra;V.prototype.fa=function(i){var e=this.b,t=this.a;i=t+i;for(var s=[],n="";t<i;){var o=e[t++];if(128>o)s.push(o);else{if(192>o)continue;if(224>o){var l=e[t++];s.push((o&31)<<6|l&63)}else if(240>o){l=e[t++];var u=e[t++];s.push((o&15)<<12|(l&63)<<6|u&63)}else if(248>o){l=e[t++],u=e[t++];var p=e[t++];o=(o&7)<<18|(l&63)<<12|(u&63)<<6|p&63,o-=65536,s.push((o>>10&1023)+55296,(o&1023)+56320)}}8192<=s.length&&(n+=String.fromCharCode.apply(null,s),s.length=0)}return n+=xM(s),this.a=t,n};V.prototype.readString=V.prototype.fa;V.prototype.Dc=function(){var i=this.o();return this.fa(i)};V.prototype.readStringWithLength=V.prototype.Dc;V.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,Si("Invalid byte length!"),new Uint8Array(0);var e=this.b.subarray(this.a,this.a+i);return this.a+=i,Y(this.a<=this.c),e};V.prototype.readBytes=V.prototype.qa;V.prototype.ia=function(){return this.w(Cy)};V.prototype.readVarintHash64=V.prototype.ia;V.prototype.$=function(){var i=this.b,e=this.a,t=i[e],s=i[e+1],n=i[e+2],o=i[e+3],l=i[e+4],u=i[e+5],p=i[e+6];return i=i[e+7],this.a+=8,String.fromCharCode(t,s,n,o,l,u,p,i)};V.prototype.readFixedHash64=V.prototype.$;function T(i,e,t){this.a=My(i,e,t),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}Be("jspb.BinaryReader",T,void 0);var Gl=[];T.clearInstanceCache=function(){Gl=[]};T.getInstanceCacheLength=function(){return Gl.length};function BM(i,e,t){if(Gl.length){var s=Gl.pop();return i&&s.a.H(i,e,t),s}return new T(i,e,t)}T.alloc=BM;T.prototype.zb=BM;T.prototype.alloc=T.prototype.zb;T.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>Gl.length&&Gl.push(this)};T.prototype.free=T.prototype.Ca;T.prototype.Fb=function(){return this.O};T.prototype.getFieldCursor=T.prototype.Fb;T.prototype.B=function(){return this.a.B()};T.prototype.getCursor=T.prototype.B;T.prototype.Y=function(){return this.a.Y()};T.prototype.getBuffer=T.prototype.Y;T.prototype.Hb=function(){return this.c};T.prototype.getFieldNumber=T.prototype.Hb;T.prototype.Lb=function(){return this.b};T.prototype.getWireType=T.prototype.Lb;T.prototype.Mb=function(){return this.b==2};T.prototype.isDelimited=T.prototype.Mb;T.prototype.bb=function(){return this.b==4};T.prototype.isEndGroup=T.prototype.bb;T.prototype.getError=function(){return this.h||this.a.getError()};T.prototype.getError=T.prototype.getError;T.prototype.H=function(i,e,t){this.a.H(i,e,t),this.b=this.c=-1};T.prototype.setBlock=T.prototype.H;T.prototype.reset=function(){this.a.reset(),this.b=this.c=-1};T.prototype.reset=T.prototype.reset;T.prototype.advance=function(i){this.a.advance(i)};T.prototype.advance=T.prototype.advance;T.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return Si("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),e=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(Si("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=e,this.b=i,!0)};T.prototype.nextField=T.prototype.oa;T.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)};T.prototype.unskipHeader=T.prototype.Oa;T.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()};T.prototype.skipMatchingFields=T.prototype.Lc;T.prototype.lb=function(){this.b!=0?(Si("Invalid wire type for skipVarintField"),this.C()):this.a.kb()};T.prototype.skipVarintField=T.prototype.lb;T.prototype.gb=function(){if(this.b!=2)Si("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}};T.prototype.skipDelimitedField=T.prototype.gb;T.prototype.hb=function(){this.b!=5?(Si("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)};T.prototype.skipFixed32Field=T.prototype.hb;T.prototype.ib=function(){this.b!=1?(Si("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)};T.prototype.skipFixed64Field=T.prototype.ib;T.prototype.jb=function(){var i=this.c;do{if(!this.oa()){Si("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&(Si("Unmatched end-group tag"),this.h=!0);break}this.C()}while(1)};T.prototype.skipGroup=T.prototype.jb;T.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:Si("Invalid wire encoding for field.")}};T.prototype.skipField=T.prototype.C;T.prototype.Hc=function(i,e){this.v===null&&(this.v={}),Y(!this.v[i]),this.v[i]=e};T.prototype.registerReadCallback=T.prototype.Hc;T.prototype.Ic=function(i){return Y(this.v!==null),i=this.v[i],Y(i),i(this)};T.prototype.runReadCallback=T.prototype.Ic;T.prototype.Yb=function(i,e){Y(this.b==2);var t=this.a.c,s=this.a.o();s=this.a.B()+s,this.a.setEnd(s),e(i,this),this.a.Ma(s),this.a.setEnd(t)};T.prototype.readMessage=T.prototype.Yb;T.prototype.Ub=function(i,e,t){Y(this.b==3),Y(this.c==i),t(e,this),this.h||this.b==4||(Si("Group submessage did not end with an END_GROUP tag"),this.h=!0)};T.prototype.readGroup=T.prototype.Ub;T.prototype.Gb=function(){Y(this.b==2);var i=this.a.o(),e=this.a.B(),t=e+i;return i=My(this.a.Y(),e,i),this.a.Ma(t),i};T.prototype.getFieldDecoder=T.prototype.Gb;T.prototype.P=function(){return Y(this.b==0),this.a.da()};T.prototype.readInt32=T.prototype.P;T.prototype.Wb=function(){return Y(this.b==0),this.a.Ea()};T.prototype.readInt32String=T.prototype.Wb;T.prototype.ba=function(){return Y(this.b==0),this.a.sa()};T.prototype.readInt64=T.prototype.ba;T.prototype.ca=function(){return Y(this.b==0),this.a.Fa()};T.prototype.readInt64String=T.prototype.ca;T.prototype.m=function(){return Y(this.b==0),this.a.o()};T.prototype.readUint32=T.prototype.m;T.prototype.Fc=function(){return Y(this.b==0),this.a.O()};T.prototype.readUint32String=T.prototype.Fc;T.prototype.ga=function(){return Y(this.b==0),this.a.Ga()};T.prototype.readUint64=T.prototype.ga;T.prototype.ha=function(){return Y(this.b==0),this.a.Ha()};T.prototype.readUint64String=T.prototype.ha;T.prototype.zc=function(){return Y(this.b==0),this.a.Ia()};T.prototype.readSint32=T.prototype.zc;T.prototype.Ac=function(){return Y(this.b==0),this.a.Ja()};T.prototype.readSint64=T.prototype.Ac;T.prototype.Bc=function(){return Y(this.b==0),this.a.Ka()};T.prototype.readSint64String=T.prototype.Bc;T.prototype.Rb=function(){return Y(this.b==5),this.a.m()};T.prototype.readFixed32=T.prototype.Rb;T.prototype.Sb=function(){return Y(this.b==1),this.a.ga()};T.prototype.readFixed64=T.prototype.Sb;T.prototype.Tb=function(){return Y(this.b==1),this.a.ha()};T.prototype.readFixed64String=T.prototype.Tb;T.prototype.vc=function(){return Y(this.b==5),this.a.P()};T.prototype.readSfixed32=T.prototype.vc;T.prototype.wc=function(){return Y(this.b==5),this.a.P().toString()};T.prototype.readSfixed32String=T.prototype.wc;T.prototype.xc=function(){return Y(this.b==1),this.a.ba()};T.prototype.readSfixed64=T.prototype.xc;T.prototype.yc=function(){return Y(this.b==1),this.a.ca()};T.prototype.readSfixed64String=T.prototype.yc;T.prototype.aa=function(){return Y(this.b==5),this.a.aa()};T.prototype.readFloat=T.prototype.aa;T.prototype.Z=function(){return Y(this.b==1),this.a.Z()};T.prototype.readDouble=T.prototype.Z;T.prototype.pa=function(){return Y(this.b==0),!!this.a.o()};T.prototype.readBool=T.prototype.pa;T.prototype.ra=function(){return Y(this.b==0),this.a.sa()};T.prototype.readEnum=T.prototype.ra;T.prototype.fa=function(){Y(this.b==2);var i=this.a.o();return this.a.fa(i)};T.prototype.readString=T.prototype.fa;T.prototype.qa=function(){Y(this.b==2);var i=this.a.o();return this.a.qa(i)};T.prototype.readBytes=T.prototype.qa;T.prototype.ia=function(){return Y(this.b==0),this.a.ia()};T.prototype.readVarintHash64=T.prototype.ia;T.prototype.Cc=function(){return Y(this.b==0),this.a.fb()};T.prototype.readSintHash64=T.prototype.Cc;T.prototype.w=function(i){return Y(this.b==0),this.a.w(i)};T.prototype.readSplitVarint64=T.prototype.w;T.prototype.ea=function(i){return Y(this.b==0),this.a.w(function(e,t){return Ty(e,t,i)})};T.prototype.readSplitZigzagVarint64=T.prototype.ea;T.prototype.$=function(){return Y(this.b==1),this.a.$()};T.prototype.readFixedHash64=T.prototype.$;T.prototype.ta=function(i){return Y(this.b==1),this.a.ta(i)};T.prototype.readSplitFixed64=T.prototype.ta;function $t(i,e){Y(i.b==2);var t=i.a.o();t=i.a.B()+t;for(var s=[];i.a.B()<t;)s.push(e.call(i.a));return s}T.prototype.gc=function(){return $t(this,this.a.da)};T.prototype.readPackedInt32=T.prototype.gc;T.prototype.hc=function(){return $t(this,this.a.Ea)};T.prototype.readPackedInt32String=T.prototype.hc;T.prototype.ic=function(){return $t(this,this.a.sa)};T.prototype.readPackedInt64=T.prototype.ic;T.prototype.jc=function(){return $t(this,this.a.Fa)};T.prototype.readPackedInt64String=T.prototype.jc;T.prototype.qc=function(){return $t(this,this.a.o)};T.prototype.readPackedUint32=T.prototype.qc;T.prototype.rc=function(){return $t(this,this.a.O)};T.prototype.readPackedUint32String=T.prototype.rc;T.prototype.sc=function(){return $t(this,this.a.Ga)};T.prototype.readPackedUint64=T.prototype.sc;T.prototype.tc=function(){return $t(this,this.a.Ha)};T.prototype.readPackedUint64String=T.prototype.tc;T.prototype.nc=function(){return $t(this,this.a.Ia)};T.prototype.readPackedSint32=T.prototype.nc;T.prototype.oc=function(){return $t(this,this.a.Ja)};T.prototype.readPackedSint64=T.prototype.oc;T.prototype.pc=function(){return $t(this,this.a.Ka)};T.prototype.readPackedSint64String=T.prototype.pc;T.prototype.bc=function(){return $t(this,this.a.m)};T.prototype.readPackedFixed32=T.prototype.bc;T.prototype.cc=function(){return $t(this,this.a.ga)};T.prototype.readPackedFixed64=T.prototype.cc;T.prototype.dc=function(){return $t(this,this.a.ha)};T.prototype.readPackedFixed64String=T.prototype.dc;T.prototype.kc=function(){return $t(this,this.a.P)};T.prototype.readPackedSfixed32=T.prototype.kc;T.prototype.lc=function(){return $t(this,this.a.ba)};T.prototype.readPackedSfixed64=T.prototype.lc;T.prototype.mc=function(){return $t(this,this.a.ca)};T.prototype.readPackedSfixed64String=T.prototype.mc;T.prototype.fc=function(){return $t(this,this.a.aa)};T.prototype.readPackedFloat=T.prototype.fc;T.prototype.$b=function(){return $t(this,this.a.Z)};T.prototype.readPackedDouble=T.prototype.$b;T.prototype.Zb=function(){return $t(this,this.a.pa)};T.prototype.readPackedBool=T.prototype.Zb;T.prototype.ac=function(){return $t(this,this.a.ra)};T.prototype.readPackedEnum=T.prototype.ac;T.prototype.uc=function(){return $t(this,this.a.ia)};T.prototype.readPackedVarintHash64=T.prototype.uc;T.prototype.ec=function(){return $t(this,this.a.$)};T.prototype.readPackedFixedHash64=T.prototype.ec;function Jp(i,e,t,s,n){this.ma=i,this.Ba=e,this.la=t,this.Na=s,this.na=n}Be("jspb.ExtensionFieldInfo",Jp,void 0);function DM(i,e,t,s,n,o){this.Za=i,this.za=e,this.Aa=t,this.Wa=s,this.Ab=n,this.Nb=o}Be("jspb.ExtensionFieldBinaryInfo",DM,void 0);Jp.prototype.F=function(){return!!this.la};Jp.prototype.isMessageType=Jp.prototype.F;function Le(){}Be("jspb.Message",Le,void 0);Le.GENERATE_TO_OBJECT=!0;Le.GENERATE_FROM_OBJECT=!0;var Ry=typeof Uint8Array=="function";Le.prototype.Ib=function(){return this.b};Le.prototype.getJsPbMessageId=Le.prototype.Ib;Le.initialize=function(i,e,t,s,n,o){i.f=null,e||(e=t?[t]:[]),i.b=t?String(t):void 0,i.D=t===0?-1:0,i.u=e;e:{if(t=i.u.length,e=-1,t&&(e=t-1,t=i.u[e],!(t===null||typeof t!="object"||Array.isArray(t)||Ry&&t instanceof Uint8Array))){i.G=e-i.D,i.i=t;break e}-1<s?(i.G=Math.max(s,e+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},n)for(s=0;s<n.length;s++)e=n[s],e<i.G?(e+=i.D,i.u[e]=i.u[e]||Zp):(By(i),i.i[e]=i.i[e]||Zp);if(o&&o.length)for(s=0;s<o.length;s++)PI(i,o[s])};var Zp=Object.freeze?Object.freeze([]):[];function By(i){var e=i.G+i.D;i.u[e]||(i.i=i.u[e]={})}function OM(i,e,t){for(var s=[],n=0;n<i.length;n++)s[n]=e.call(i[n],t,i[n]);return s}Le.toObjectList=OM;Le.toObjectExtension=function(i,e,t,s,n){for(var o in t){var l=t[o],u=s.call(i,l);if(u!=null){for(var p in l.Ba)if(l.Ba.hasOwnProperty(p))break;e[p]=l.Na?l.na?OM(u,l.Na,n):l.Na(n,u):u}}};Le.serializeBinaryExtensions=function(i,e,t,s){for(var n in t){var o=t[n],l=o.Za;if(!o.Aa)throw Error("Message extension present that was generated without binary serialization support");var u=s.call(i,l);if(u!=null)if(l.F())if(o.Wa)o.Aa.call(e,l.ma,u,o.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else o.Aa.call(e,l.ma,u)}};Le.readBinaryExtension=function(i,e,t,s,n){var o=t[e.c];if(o){if(t=o.Za,!o.za)throw Error("Deserializing extension whose generated code does not support binary format");if(t.F()){var l=new t.la;o.za.call(e,l,o.Ab)}else l=o.za.call(e);t.na&&!o.Nb?(e=s.call(i,t))?e.push(l):n.call(i,t,[l]):n.call(i,t,l)}else e.C()};function Ir(i,e){if(e<i.G){e+=i.D;var t=i.u[e];return t===Zp?i.u[e]=[]:t}if(i.i)return t=i.i[e],t===Zp?i.i[e]=[]:t}Le.getField=Ir;Le.getRepeatedField=function(i,e){return Ir(i,e)};function NM(i,e){return i=Ir(i,e),i==null?i:+i}Le.getOptionalFloatingPointField=NM;function FM(i,e){return i=Ir(i,e),i==null?i:!!i}Le.getBooleanField=FM;Le.getRepeatedFloatingPointField=function(i,e){var t=Ir(i,e);if(i.a||(i.a={}),!i.a[e]){for(var s=0;s<t.length;s++)t[s]=+t[s];i.a[e]=!0}return t};Le.getRepeatedBooleanField=function(i,e){var t=Ir(i,e);if(i.a||(i.a={}),!i.a[e]){for(var s=0;s<t.length;s++)t[s]=!!t[s];i.a[e]=!0}return t};function PM(i){return i==null||typeof i=="string"?i:Ry&&i instanceof Uint8Array?IM(i):(Si("Cannot coerce to b64 string: "+an(i)),null)}Le.bytesAsB64=PM;function UM(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?SM(i):(Si("Cannot coerce to Uint8Array: "+an(i)),null)}Le.bytesAsU8=UM;Le.bytesListAsB64=function(i){return HM(i),i.length&&typeof i[0]!="string"?em(i,PM):i};Le.bytesListAsU8=function(i){return HM(i),!i.length||i[0]instanceof Uint8Array?i:em(i,UM)};function HM(i){if(i&&1<i.length){var e=an(i[0]);ZD(i,function(t){an(t)!=e&&Si("Inconsistent type in JSPB repeated field array. Got "+an(t)+" expected "+e)})}}function zM(i,e,t){return i=Ir(i,e),i??t}Le.getFieldWithDefault=zM;Le.getBooleanFieldWithDefault=function(i,e,t){return i=FM(i,e),i??t};Le.getFloatingPointFieldWithDefault=function(i,e,t){return i=NM(i,e),i??t};Le.getFieldProto3=zM;Le.getMapField=function(i,e,t,s){if(i.f||(i.f={}),e in i.f)return i.f[e];var n=Ir(i,e);if(!n){if(t)return;n=[],ln(i,e,n)}return i.f[e]=new Qe(n,s)};function ln(i,e,t){return hs(i,Le),e<i.G?i.u[e+i.D]=t:(By(i),i.i[e]=t),i}Le.setField=ln;Le.setProto3IntField=function(i,e,t){return na(i,e,t,0)};Le.setProto3FloatField=function(i,e,t){return na(i,e,t,0)};Le.setProto3BooleanField=function(i,e,t){return na(i,e,t,!1)};Le.setProto3StringField=function(i,e,t){return na(i,e,t,"")};Le.setProto3BytesField=function(i,e,t){return na(i,e,t,"")};Le.setProto3EnumField=function(i,e,t){return na(i,e,t,0)};Le.setProto3StringIntField=function(i,e,t){return na(i,e,t,"0")};function na(i,e,t,s){return hs(i,Le),t!==s?ln(i,e,t):e<i.G?i.u[e+i.D]=null:(By(i),delete i.i[e]),i}Le.addToRepeatedField=function(i,e,t,s){return hs(i,Le),e=Ir(i,e),s!=null?e.splice(s,0,t):e.push(t),i};function jM(i,e,t,s){return hs(i,Le),(t=PI(i,t))&&t!==e&&s!==void 0&&(i.f&&t in i.f&&(i.f[t]=void 0),ln(i,t,void 0)),ln(i,e,s)}Le.setOneofField=jM;function PI(i,e){for(var t,s,n=0;n<e.length;n++){var o=e[n],l=Ir(i,o);l!=null&&(t=o,s=l,ln(i,o,void 0))}return t?(ln(i,t,s),t):0}Le.computeOneofCase=PI;Le.getWrapperField=function(i,e,t,s){if(i.f||(i.f={}),!i.f[t]){var n=Ir(i,t);(s||n)&&(i.f[t]=new e(n))}return i.f[t]};Le.getRepeatedWrapperField=function(i,e,t){return GM(i,e,t),e=i.f[t],e==Zp&&(e=i.f[t]=[]),e};function GM(i,e,t){if(i.f||(i.f={}),!i.f[t]){for(var s=Ir(i,t),n=[],o=0;o<s.length;o++)n[o]=new e(s[o]);i.f[t]=n}}Le.setWrapperField=function(i,e,t){hs(i,Le),i.f||(i.f={});var s=t&&t.g();return i.f[e]=t,ln(i,e,s)};Le.setOneofWrapperField=function(i,e,t,s){hs(i,Le),i.f||(i.f={});var n=s&&s.g();return i.f[e]=s,jM(i,e,t,n)};Le.setRepeatedWrapperField=function(i,e,t){hs(i,Le),i.f||(i.f={}),t=t||[];for(var s=[],n=0;n<t.length;n++)s[n]=t[n].g();return i.f[e]=t,ln(i,e,s)};Le.addToRepeatedWrapperField=function(i,e,t,s,n){GM(i,s,e);var o=i.f[e];return o||(o=i.f[e]=[]),t=t||new s,i=Ir(i,e),n!=null?(o.splice(n,0,t),i.splice(n,0,t.g())):(o.push(t),i.push(t.g())),t};Le.toMap=function(i,e,t,s){for(var n={},o=0;o<i.length;o++)n[e.call(i[o])]=t?t.call(i[o],s,i[o]):i[o];return n};function VM(i){if(i.f)for(var e in i.f){var t=i.f[e];if(Array.isArray(t))for(var s=0;s<t.length;s++)t[s]&&t[s].g();else t&&t.g()}}Le.prototype.g=function(){return VM(this),this.u};Le.prototype.toArray=Le.prototype.g;Le.prototype.toString=function(){return VM(this),this.u.toString()};Le.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var e=i.ma;if(i.na){if(i.F())return this.f[e]||(this.f[e]=em(this.i[e]||[],function(t){return new i.la(t)})),this.f[e]}else if(i.F())return!this.f[e]&&this.i[e]&&(this.f[e]=new i.la(this.i[e])),this.f[e];return this.i[e]}};Le.prototype.getExtension=Le.prototype.getExtension;Le.prototype.Kc=function(i,e){this.f||(this.f={}),By(this);var t=i.ma;return i.na?(e=e||[],i.F()?(this.f[t]=e,this.i[t]=em(e,function(s){return s.g()})):this.i[t]=e):i.F()?(this.f[t]=e,this.i[t]=e&&e.g()):this.i[t]=e,this};Le.prototype.setExtension=Le.prototype.Kc;Le.difference=function(i,e){if(!(i instanceof e.constructor))throw Error("Messages have different types.");var t=i.g();e=e.g();var s=[],n=0,o=t.length>e.length?t.length:e.length;for(i.b&&(s[0]=i.b,n=1);n<o;n++)am(t[n],e[n])||(s[n]=e[n]);return new i.constructor(s)};Le.equals=function(i,e){return i==e||!(!i||!e)&&i instanceof e.constructor&&am(i.g(),e.g())};function RI(i,e){i=i||{},e=e||{};var t={},s;for(s in i)t[s]=0;for(s in e)t[s]=0;for(s in t)if(!am(i[s],e[s]))return!1;return!0}Le.compareExtensions=RI;function am(i,e){if(i==e)return!0;if(!mM(i)||!mM(e))return typeof i=="number"&&isNaN(i)||typeof e=="number"&&isNaN(e)?String(i)==String(e):!1;if(i.constructor!=e.constructor)return!1;if(Ry&&i.constructor===Uint8Array){if(i.length!=e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!=e[t])return!1;return!0}if(i.constructor===Array){var s=void 0,n=void 0,o=Math.max(i.length,e.length);for(t=0;t<o;t++){var l=i[t],u=e[t];if(l&&l.constructor==Object&&(Y(s===void 0),Y(t===i.length-1),s=l,l=void 0),u&&u.constructor==Object&&(Y(n===void 0),Y(t===e.length-1),n=u,u=void 0),!am(l,u))return!1}return s||n?(s=s||{},n=n||{},RI(s,n)):!0}if(i.constructor===Object)return RI(i,e);throw Error("Invalid type in JSPB array")}Le.compareFields=am;Le.prototype.Bb=function(){return Dy(this)};Le.prototype.cloneMessage=Le.prototype.Bb;Le.prototype.clone=function(){return Dy(this)};Le.prototype.clone=Le.prototype.clone;Le.clone=function(i){return Dy(i)};function Dy(i){return new i.constructor(BI(i.g()))}Le.copyInto=function(i,e){hs(i,Le),hs(e,Le),Y(i.constructor==e.constructor,"Copy source and target message should have the same type."),i=Dy(i);for(var t=e.g(),s=i.g(),n=t.length=0;n<s.length;n++)t[n]=s[n];e.f=i.f,e.i=i.i};function BI(i){if(Array.isArray(i)){for(var e=Array(i.length),t=0;t<i.length;t++){var s=i[t];s!=null&&(e[t]=typeof s=="object"?BI(Y(s)):s)}return e}if(Ry&&i instanceof Uint8Array)return new Uint8Array(i);e={};for(t in i)s=i[t],s!=null&&(e[t]=typeof s=="object"?BI(Y(s)):s);return e}Le.registerMessageType=function(i,e){e.we=i};var ms={dump:function(i){return hs(i,Le,"jspb.Message instance expected"),Y(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),ms.X(i)}};Be("jspb.debug.dump",ms.dump,void 0);ms.X=function(i){var e=an(i);if(e=="number"||e=="string"||e=="boolean"||e=="null"||e=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(e=="array")return iO(i),em(i,ms.X);if(i instanceof Qe){var t={};i=i.entries();for(var s=i.next();!s.done;s=i.next())t[s.value[0]]=ms.X(s.value[1]);return t}hs(i,Le,"Only messages expected: "+i),e=i.constructor;var n={$name:e.name||e.displayName};for(u in e.prototype){var o=/^get([A-Z]\w*)/.exec(u);if(o&&u!="getExtension"&&u!="getJsPbMessageId"){var l="has"+o[1];(!i[l]||i[l]())&&(l=i[u](),n[ms.$a(o[1])]=ms.X(l))}}if(i.extensionObject_)return n.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",n;for(s in e.extensions)if(/^\d+$/.test(s)){l=e.extensions[s];var u=i.getExtension(l);o=void 0,l=l.Ba;var p=[],m=0;for(o in l)p[m++]=o;o=p[0],u!=null&&(t||(t=n.$extensions={}),t[ms.$a(o)]=ms.X(u))}return n};ms.$a=function(i){return i.replace(/^[A-Z]/,function(e){return e.toLowerCase()})};function fe(){this.a=[]}Be("jspb.BinaryEncoder",fe,void 0);fe.prototype.length=function(){return this.a.length};fe.prototype.length=fe.prototype.length;fe.prototype.end=function(){var i=this.a;return this.a=[],i};fe.prototype.end=fe.prototype.end;fe.prototype.l=function(i,e){for(Y(i==Math.floor(i)),Y(e==Math.floor(e)),Y(0<=i&&4294967296>i),Y(0<=e&&4294967296>e);0<e||127<i;)this.a.push(i&127|128),i=(i>>>7|e<<25)>>>0,e>>>=7;this.a.push(i)};fe.prototype.writeSplitVarint64=fe.prototype.l;fe.prototype.A=function(i,e){Y(i==Math.floor(i)),Y(e==Math.floor(e)),Y(0<=i&&4294967296>i),Y(0<=e&&4294967296>e),this.s(i),this.s(e)};fe.prototype.writeSplitFixed64=fe.prototype.A;fe.prototype.j=function(i){for(Y(i==Math.floor(i)),Y(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)};fe.prototype.writeUnsignedVarint32=fe.prototype.j;fe.prototype.M=function(i){if(Y(i==Math.floor(i)),Y(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var e=0;9>e;e++)this.a.push(i&127|128),i>>=7;this.a.push(1)}};fe.prototype.writeSignedVarint32=fe.prototype.M;fe.prototype.va=function(i){Y(i==Math.floor(i)),Y(0<=i&&18446744073709552e3>i),im(i),this.l(Tt,Mt)};fe.prototype.writeUnsignedVarint64=fe.prototype.va;fe.prototype.ua=function(i){Y(i==Math.floor(i)),Y(-9223372036854776e3<=i&&9223372036854776e3>i),im(i),this.l(Tt,Mt)};fe.prototype.writeSignedVarint64=fe.prototype.ua;fe.prototype.wa=function(i){Y(i==Math.floor(i)),Y(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)};fe.prototype.writeZigzagVarint32=fe.prototype.wa;fe.prototype.xa=function(i){Y(i==Math.floor(i)),Y(-9223372036854776e3<=i&&9223372036854776e3>i),EM(i),this.l(Tt,Mt)};fe.prototype.writeZigzagVarint64=fe.prototype.xa;fe.prototype.Ta=function(i){this.W(om(i))};fe.prototype.writeZigzagVarint64String=fe.prototype.Ta;fe.prototype.W=function(i){var e=this;ao(i),wy(Tt,Mt,function(t,s){e.l(t>>>0,s>>>0)})};fe.prototype.writeZigzagVarintHash64=fe.prototype.W;fe.prototype.be=function(i){Y(i==Math.floor(i)),Y(0<=i&&256>i),this.a.push(i>>>0&255)};fe.prototype.writeUint8=fe.prototype.be;fe.prototype.ae=function(i){Y(i==Math.floor(i)),Y(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)};fe.prototype.writeUint16=fe.prototype.ae;fe.prototype.s=function(i){Y(i==Math.floor(i)),Y(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)};fe.prototype.writeUint32=fe.prototype.s;fe.prototype.V=function(i){Y(i==Math.floor(i)),Y(0<=i&&18446744073709552e3>i),FI(i),this.s(Tt),this.s(Mt)};fe.prototype.writeUint64=fe.prototype.V;fe.prototype.Qc=function(i){Y(i==Math.floor(i)),Y(-128<=i&&128>i),this.a.push(i>>>0&255)};fe.prototype.writeInt8=fe.prototype.Qc;fe.prototype.Pc=function(i){Y(i==Math.floor(i)),Y(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)};fe.prototype.writeInt16=fe.prototype.Pc;fe.prototype.S=function(i){Y(i==Math.floor(i)),Y(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)};fe.prototype.writeInt32=fe.prototype.S;fe.prototype.T=function(i){Y(i==Math.floor(i)),Y(-9223372036854776e3<=i&&9223372036854776e3>i),im(i),this.A(Tt,Mt)};fe.prototype.writeInt64=fe.prototype.T;fe.prototype.ka=function(i){Y(i==Math.floor(i)),Y(-9223372036854776e3<=+i&&9223372036854776e3>+i),ao(om(i)),this.A(Tt,Mt)};fe.prototype.writeInt64String=fe.prototype.ka;fe.prototype.L=function(i){Y(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),LM(i),this.s(Tt)};fe.prototype.writeFloat=fe.prototype.L;fe.prototype.J=function(i){Y(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),wM(i),this.s(Tt),this.s(Mt)};fe.prototype.writeDouble=fe.prototype.J;fe.prototype.I=function(i){Y(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)};fe.prototype.writeBool=fe.prototype.I;fe.prototype.R=function(i){Y(i==Math.floor(i)),Y(-2147483648<=i&&2147483648>i),this.M(i)};fe.prototype.writeEnum=fe.prototype.R;fe.prototype.ja=function(i){this.a.push.apply(this.a,i)};fe.prototype.writeBytes=fe.prototype.ja;fe.prototype.N=function(i){ao(i),this.l(Tt,Mt)};fe.prototype.writeVarintHash64=fe.prototype.N;fe.prototype.K=function(i){ao(i),this.s(Tt),this.s(Mt)};fe.prototype.writeFixedHash64=fe.prototype.K;fe.prototype.U=function(i){var e=this.a.length;tO(i);for(var t=0;t<i.length;t++){var s=i.charCodeAt(t);if(128>s)this.a.push(s);else if(2048>s)this.a.push(s>>6|192),this.a.push(s&63|128);else if(65536>s)if(55296<=s&&56319>=s&&t+1<i.length){var n=i.charCodeAt(t+1);56320<=n&&57343>=n&&(s=1024*(s-55296)+n-56320+65536,this.a.push(s>>18|240),this.a.push(s>>12&63|128),this.a.push(s>>6&63|128),this.a.push(s&63|128),t++)}else this.a.push(s>>12|224),this.a.push(s>>6&63|128),this.a.push(s&63|128)}return this.a.length-e};fe.prototype.writeString=fe.prototype.U;function Ge(i,e){this.lo=i,this.hi=e}Be("jspb.arith.UInt64",Ge,void 0);Ge.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1};Ge.prototype.cmp=Ge.prototype.cmp;Ge.prototype.La=function(){return new Ge((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};Ge.prototype.rightShift=Ge.prototype.La;Ge.prototype.Da=function(){return new Ge(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};Ge.prototype.leftShift=Ge.prototype.Da;Ge.prototype.cb=function(){return!!(this.hi&2147483648)};Ge.prototype.msb=Ge.prototype.cb;Ge.prototype.Ob=function(){return!!(this.lo&1)};Ge.prototype.lsb=Ge.prototype.Ob;Ge.prototype.Ua=function(){return this.lo==0&&this.hi==0};Ge.prototype.zero=Ge.prototype.Ua;Ge.prototype.add=function(i){return new Ge((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)};Ge.prototype.add=Ge.prototype.add;Ge.prototype.sub=function(i){return new Ge((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)};Ge.prototype.sub=Ge.prototype.sub;function DI(i,e){var t=i&65535;i>>>=16;var s=e&65535,n=e>>>16;for(e=t*s+65536*(t*n&65535)+65536*(i*s&65535),t=i*n+(t*n>>>16)+(i*s>>>16);4294967296<=e;)e-=4294967296,t+=1;return new Ge(e>>>0,t>>>0)}Ge.mul32x32=DI;Ge.prototype.eb=function(i){var e=DI(this.lo,i);return i=DI(this.hi,i),i.hi=i.lo,i.lo=0,e.add(i)};Ge.prototype.mul=Ge.prototype.eb;Ge.prototype.Xa=function(i){if(i==0)return[];var e=new Ge(0,0),t=new Ge(this.lo,this.hi);i=new Ge(i,0);for(var s=new Ge(1,0);!i.cb();)i=i.Da(),s=s.Da();for(;!s.Ua();)0>=i.cmp(t)&&(e=e.add(s),t=t.sub(i)),i=i.La(),s=s.La();return[e,t]};Ge.prototype.div=Ge.prototype.Xa;Ge.prototype.toString=function(){for(var i="",e=this;!e.Ua();){e=e.Xa(10);var t=e[0];i=e[1].lo+i,e=t}return i==""&&(i="0"),i};Ge.prototype.toString=Ge.prototype.toString;function Kl(i){for(var e=new Ge(0,0),t=new Ge(0,0),s=0;s<i.length;s++){if("0">i[s]||"9"<i[s])return null;t.lo=parseInt(i[s],10),e=e.eb(10).add(t)}return e}Ge.fromString=Kl;Ge.prototype.clone=function(){return new Ge(this.lo,this.hi)};Ge.prototype.clone=Ge.prototype.clone;function Ai(i,e){this.lo=i,this.hi=e}Be("jspb.arith.Int64",Ai,void 0);Ai.prototype.add=function(i){return new Ai((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)};Ai.prototype.add=Ai.prototype.add;Ai.prototype.sub=function(i){return new Ai((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)};Ai.prototype.sub=Ai.prototype.sub;Ai.prototype.clone=function(){return new Ai(this.lo,this.hi)};Ai.prototype.clone=Ai.prototype.clone;Ai.prototype.toString=function(){var i=(this.hi&2147483648)!=0,e=new Ge(this.lo,this.hi);return i&&(e=new Ge(0,0).sub(e)),(i?"-":"")+e.toString()};Ai.prototype.toString=Ai.prototype.toString;function Oy(i){var e=0<i.length&&i[0]=="-";return e&&(i=i.substring(1)),i=Kl(i),i===null?null:(e&&(i=new Ge(0,0).sub(i)),new Ai(i.lo,i.hi))}Ai.fromString=Oy;function L(){this.c=[],this.b=0,this.a=new fe,this.h=[]}Be("jspb.BinaryWriter",L,void 0);function WM(i,e){var t=i.a.end();i.c.push(t),i.c.push(e),i.b+=t.length+e.length}function Xt(i,e){return Ye(i,e,2),e=i.a.end(),i.c.push(e),i.b+=e.length,e.push(i.b),e}function Jt(i,e){var t=e.pop();for(t=i.b+i.a.length()-t,Y(0<=t);127<t;)e.push(t&127|128),t>>>=7,i.b++;e.push(t),i.b++}L.prototype.pb=function(i,e,t){WM(this,i.subarray(e,t))};L.prototype.writeSerializedMessage=L.prototype.pb;L.prototype.Pb=function(i,e,t){i!=null&&e!=null&&t!=null&&this.pb(i,e,t)};L.prototype.maybeWriteSerializedMessage=L.prototype.Pb;L.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]};L.prototype.reset=L.prototype.reset;L.prototype.ab=function(){Y(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),e=this.c,t=e.length,s=0,n=0;n<t;n++){var o=e[n];i.set(o,s),s+=o.length}return e=this.a.end(),i.set(e,s),s+=e.length,Y(s==i.length),this.c=[i],i};L.prototype.getResultBuffer=L.prototype.ab;L.prototype.Kb=function(i){return IM(this.ab(),i)};L.prototype.getResultBase64String=L.prototype.Kb;L.prototype.Va=function(i){this.h.push(Xt(this,i))};L.prototype.beginSubMessage=L.prototype.Va;L.prototype.Ya=function(){Y(0<=this.h.length),Jt(this,this.h.pop())};L.prototype.endSubMessage=L.prototype.Ya;function Ye(i,e,t){Y(1<=e&&e==Math.floor(e)),i.a.j(8*e+t)}L.prototype.Nc=function(i,e,t){switch(i){case 1:this.J(e,t);break;case 2:this.L(e,t);break;case 3:this.T(e,t);break;case 4:this.V(e,t);break;case 5:this.S(e,t);break;case 6:this.Qa(e,t);break;case 7:this.Pa(e,t);break;case 8:this.I(e,t);break;case 9:this.U(e,t);break;case 10:Si("Group field type not supported in writeAny()");break;case 11:Si("Message field type not supported in writeAny()");break;case 12:this.ja(e,t);break;case 13:this.s(e,t);break;case 14:this.R(e,t);break;case 15:this.Ra(e,t);break;case 16:this.Sa(e,t);break;case 17:this.rb(e,t);break;case 18:this.sb(e,t);break;case 30:this.K(e,t);break;case 31:this.N(e,t);break;default:Si("Invalid field type in writeAny()")}};L.prototype.writeAny=L.prototype.Nc;function UI(i,e,t){t!=null&&(Ye(i,e,0),i.a.j(t))}function HI(i,e,t){t!=null&&(Ye(i,e,0),i.a.M(t))}L.prototype.S=function(i,e){e!=null&&(Y(-2147483648<=e&&2147483648>e),HI(this,i,e))};L.prototype.writeInt32=L.prototype.S;L.prototype.ob=function(i,e){e!=null&&(e=parseInt(e,10),Y(-2147483648<=e&&2147483648>e),HI(this,i,e))};L.prototype.writeInt32String=L.prototype.ob;L.prototype.T=function(i,e){e!=null&&(Y(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Ye(this,i,0),this.a.ua(e)))};L.prototype.writeInt64=L.prototype.T;L.prototype.ka=function(i,e){e!=null&&(e=Oy(e),Ye(this,i,0),this.a.l(e.lo,e.hi))};L.prototype.writeInt64String=L.prototype.ka;L.prototype.s=function(i,e){e!=null&&(Y(0<=e&&4294967296>e),UI(this,i,e))};L.prototype.writeUint32=L.prototype.s;L.prototype.ub=function(i,e){e!=null&&(e=parseInt(e,10),Y(0<=e&&4294967296>e),UI(this,i,e))};L.prototype.writeUint32String=L.prototype.ub;L.prototype.V=function(i,e){e!=null&&(Y(0<=e&&18446744073709552e3>e),e!=null&&(Ye(this,i,0),this.a.va(e)))};L.prototype.writeUint64=L.prototype.V;L.prototype.vb=function(i,e){e!=null&&(e=Kl(e),Ye(this,i,0),this.a.l(e.lo,e.hi))};L.prototype.writeUint64String=L.prototype.vb;L.prototype.rb=function(i,e){e!=null&&(Y(-2147483648<=e&&2147483648>e),e!=null&&(Ye(this,i,0),this.a.wa(e)))};L.prototype.writeSint32=L.prototype.rb;L.prototype.sb=function(i,e){e!=null&&(Y(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Ye(this,i,0),this.a.xa(e)))};L.prototype.writeSint64=L.prototype.sb;L.prototype.$d=function(i,e){e!=null&&e!=null&&(Ye(this,i,0),this.a.W(e))};L.prototype.writeSintHash64=L.prototype.$d;L.prototype.Zd=function(i,e){e!=null&&e!=null&&(Ye(this,i,0),this.a.Ta(e))};L.prototype.writeSint64String=L.prototype.Zd;L.prototype.Pa=function(i,e){e!=null&&(Y(0<=e&&4294967296>e),Ye(this,i,5),this.a.s(e))};L.prototype.writeFixed32=L.prototype.Pa;L.prototype.Qa=function(i,e){e!=null&&(Y(0<=e&&18446744073709552e3>e),Ye(this,i,1),this.a.V(e))};L.prototype.writeFixed64=L.prototype.Qa;L.prototype.nb=function(i,e){e!=null&&(e=Kl(e),Ye(this,i,1),this.a.A(e.lo,e.hi))};L.prototype.writeFixed64String=L.prototype.nb;L.prototype.Ra=function(i,e){e!=null&&(Y(-2147483648<=e&&2147483648>e),Ye(this,i,5),this.a.S(e))};L.prototype.writeSfixed32=L.prototype.Ra;L.prototype.Sa=function(i,e){e!=null&&(Y(-9223372036854776e3<=e&&9223372036854776e3>e),Ye(this,i,1),this.a.T(e))};L.prototype.writeSfixed64=L.prototype.Sa;L.prototype.qb=function(i,e){e!=null&&(e=Oy(e),Ye(this,i,1),this.a.A(e.lo,e.hi))};L.prototype.writeSfixed64String=L.prototype.qb;L.prototype.L=function(i,e){e!=null&&(Ye(this,i,5),this.a.L(e))};L.prototype.writeFloat=L.prototype.L;L.prototype.J=function(i,e){e!=null&&(Ye(this,i,1),this.a.J(e))};L.prototype.writeDouble=L.prototype.J;L.prototype.I=function(i,e){e!=null&&(Y(typeof e=="boolean"||typeof e=="number"),Ye(this,i,0),this.a.I(e))};L.prototype.writeBool=L.prototype.I;L.prototype.R=function(i,e){e!=null&&(Y(-2147483648<=e&&2147483648>e),Ye(this,i,0),this.a.M(e))};L.prototype.writeEnum=L.prototype.R;L.prototype.U=function(i,e){e!=null&&(i=Xt(this,i),this.a.U(e),Jt(this,i))};L.prototype.writeString=L.prototype.U;L.prototype.ja=function(i,e){e!=null&&(e=Ay(e),Ye(this,i,2),this.a.j(e.length),WM(this,e))};L.prototype.writeBytes=L.prototype.ja;L.prototype.Rc=function(i,e,t){e!=null&&(i=Xt(this,i),t(e,this),Jt(this,i))};L.prototype.writeMessage=L.prototype.Rc;L.prototype.Sc=function(i,e,t){e!=null&&(Ye(this,1,3),Ye(this,2,0),this.a.M(i),i=Xt(this,3),t(e,this),Jt(this,i),Ye(this,1,4))};L.prototype.writeMessageSet=L.prototype.Sc;L.prototype.Oc=function(i,e,t){e!=null&&(Ye(this,i,3),t(e,this),Ye(this,i,4))};L.prototype.writeGroup=L.prototype.Oc;L.prototype.K=function(i,e){e!=null&&(Y(e.length==8),Ye(this,i,1),this.a.K(e))};L.prototype.writeFixedHash64=L.prototype.K;L.prototype.N=function(i,e){e!=null&&(Y(e.length==8),Ye(this,i,0),this.a.N(e))};L.prototype.writeVarintHash64=L.prototype.N;L.prototype.A=function(i,e,t){Ye(this,i,1),this.a.A(e,t)};L.prototype.writeSplitFixed64=L.prototype.A;L.prototype.l=function(i,e,t){Ye(this,i,0),this.a.l(e,t)};L.prototype.writeSplitVarint64=L.prototype.l;L.prototype.tb=function(i,e,t){Ye(this,i,0);var s=this.a;wy(e,t,function(n,o){s.l(n>>>0,o>>>0)})};L.prototype.writeSplitZigzagVarint64=L.prototype.tb;L.prototype.Ed=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)HI(this,i,e[t])};L.prototype.writeRepeatedInt32=L.prototype.Ed;L.prototype.Fd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ob(i,e[t])};L.prototype.writeRepeatedInt32String=L.prototype.Fd;L.prototype.Gd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.ua(s))}};L.prototype.writeRepeatedInt64=L.prototype.Gd;L.prototype.Qd=function(i,e,t,s){if(e!=null)for(var n=0;n<e.length;n++)this.A(i,t(e[n]),s(e[n]))};L.prototype.writeRepeatedSplitFixed64=L.prototype.Qd;L.prototype.Rd=function(i,e,t,s){if(e!=null)for(var n=0;n<e.length;n++)this.l(i,t(e[n]),s(e[n]))};L.prototype.writeRepeatedSplitVarint64=L.prototype.Rd;L.prototype.Sd=function(i,e,t,s){if(e!=null)for(var n=0;n<e.length;n++)this.tb(i,t(e[n]),s(e[n]))};L.prototype.writeRepeatedSplitZigzagVarint64=L.prototype.Sd;L.prototype.Hd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ka(i,e[t])};L.prototype.writeRepeatedInt64String=L.prototype.Hd;L.prototype.Ud=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)UI(this,i,e[t])};L.prototype.writeRepeatedUint32=L.prototype.Ud;L.prototype.Vd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ub(i,e[t])};L.prototype.writeRepeatedUint32String=L.prototype.Vd;L.prototype.Wd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.va(s))}};L.prototype.writeRepeatedUint64=L.prototype.Wd;L.prototype.Xd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.vb(i,e[t])};L.prototype.writeRepeatedUint64String=L.prototype.Xd;L.prototype.Md=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.wa(s))}};L.prototype.writeRepeatedSint32=L.prototype.Md;L.prototype.Nd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.xa(s))}};L.prototype.writeRepeatedSint64=L.prototype.Nd;L.prototype.Od=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.Ta(s))}};L.prototype.writeRepeatedSint64String=L.prototype.Od;L.prototype.Pd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++){var s=e[t];s!=null&&(Ye(this,i,0),this.a.W(s))}};L.prototype.writeRepeatedSintHash64=L.prototype.Pd;L.prototype.yd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Pa(i,e[t])};L.prototype.writeRepeatedFixed32=L.prototype.yd;L.prototype.zd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Qa(i,e[t])};L.prototype.writeRepeatedFixed64=L.prototype.zd;L.prototype.Ad=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.nb(i,e[t])};L.prototype.writeRepeatedFixed64String=L.prototype.Ad;L.prototype.Jd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Ra(i,e[t])};L.prototype.writeRepeatedSfixed32=L.prototype.Jd;L.prototype.Kd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.Sa(i,e[t])};L.prototype.writeRepeatedSfixed64=L.prototype.Kd;L.prototype.Ld=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.qb(i,e[t])};L.prototype.writeRepeatedSfixed64String=L.prototype.Ld;L.prototype.Cd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.L(i,e[t])};L.prototype.writeRepeatedFloat=L.prototype.Cd;L.prototype.wd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.J(i,e[t])};L.prototype.writeRepeatedDouble=L.prototype.wd;L.prototype.ud=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.I(i,e[t])};L.prototype.writeRepeatedBool=L.prototype.ud;L.prototype.xd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.R(i,e[t])};L.prototype.writeRepeatedEnum=L.prototype.xd;L.prototype.Td=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.U(i,e[t])};L.prototype.writeRepeatedString=L.prototype.Td;L.prototype.vd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.ja(i,e[t])};L.prototype.writeRepeatedBytes=L.prototype.vd;L.prototype.Id=function(i,e,t){if(e!=null)for(var s=0;s<e.length;s++){var n=Xt(this,i);t(e[s],this),Jt(this,n)}};L.prototype.writeRepeatedMessage=L.prototype.Id;L.prototype.Dd=function(i,e,t){if(e!=null)for(var s=0;s<e.length;s++)Ye(this,i,3),t(e[s],this),Ye(this,i,4)};L.prototype.writeRepeatedGroup=L.prototype.Dd;L.prototype.Bd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.K(i,e[t])};L.prototype.writeRepeatedFixedHash64=L.prototype.Bd;L.prototype.Yd=function(i,e){if(e!=null)for(var t=0;t<e.length;t++)this.N(i,e[t])};L.prototype.writeRepeatedVarintHash64=L.prototype.Yd;L.prototype.ad=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.M(e[t]);Jt(this,i)}};L.prototype.writePackedInt32=L.prototype.ad;L.prototype.bd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.M(parseInt(e[t],10));Jt(this,i)}};L.prototype.writePackedInt32String=L.prototype.bd;L.prototype.cd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.ua(e[t]);Jt(this,i)}};L.prototype.writePackedInt64=L.prototype.cd;L.prototype.md=function(i,e,t,s){if(e!=null){i=Xt(this,i);for(var n=0;n<e.length;n++)this.a.A(t(e[n]),s(e[n]));Jt(this,i)}};L.prototype.writePackedSplitFixed64=L.prototype.md;L.prototype.nd=function(i,e,t,s){if(e!=null){i=Xt(this,i);for(var n=0;n<e.length;n++)this.a.l(t(e[n]),s(e[n]));Jt(this,i)}};L.prototype.writePackedSplitVarint64=L.prototype.nd;L.prototype.od=function(i,e,t,s){if(e!=null){i=Xt(this,i);for(var n=this.a,o=0;o<e.length;o++)wy(t(e[o]),s(e[o]),function(l,u){n.l(l>>>0,u>>>0)});Jt(this,i)}};L.prototype.writePackedSplitZigzagVarint64=L.prototype.od;L.prototype.dd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++){var s=Oy(e[t]);this.a.l(s.lo,s.hi)}Jt(this,i)}};L.prototype.writePackedInt64String=L.prototype.dd;L.prototype.pd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.j(e[t]);Jt(this,i)}};L.prototype.writePackedUint32=L.prototype.pd;L.prototype.qd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.j(parseInt(e[t],10));Jt(this,i)}};L.prototype.writePackedUint32String=L.prototype.qd;L.prototype.rd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.va(e[t]);Jt(this,i)}};L.prototype.writePackedUint64=L.prototype.rd;L.prototype.sd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++){var s=Kl(e[t]);this.a.l(s.lo,s.hi)}Jt(this,i)}};L.prototype.writePackedUint64String=L.prototype.sd;L.prototype.hd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.wa(e[t]);Jt(this,i)}};L.prototype.writePackedSint32=L.prototype.hd;L.prototype.jd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.xa(e[t]);Jt(this,i)}};L.prototype.writePackedSint64=L.prototype.jd;L.prototype.kd=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.W(om(e[t]));Jt(this,i)}};L.prototype.writePackedSint64String=L.prototype.kd;L.prototype.ld=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.W(e[t]);Jt(this,i)}};L.prototype.writePackedSintHash64=L.prototype.ld;L.prototype.Wc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.s(e[i])};L.prototype.writePackedFixed32=L.prototype.Wc;L.prototype.Xc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.V(e[i])};L.prototype.writePackedFixed64=L.prototype.Xc;L.prototype.Yc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++){var t=Kl(e[i]);this.a.A(t.lo,t.hi)}};L.prototype.writePackedFixed64String=L.prototype.Yc;L.prototype.ed=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.S(e[i])};L.prototype.writePackedSfixed32=L.prototype.ed;L.prototype.fd=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.T(e[i])};L.prototype.writePackedSfixed64=L.prototype.fd;L.prototype.gd=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.ka(e[i])};L.prototype.writePackedSfixed64String=L.prototype.gd;L.prototype.$c=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(4*e.length),i=0;i<e.length;i++)this.a.L(e[i])};L.prototype.writePackedFloat=L.prototype.$c;L.prototype.Uc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.J(e[i])};L.prototype.writePackedDouble=L.prototype.Uc;L.prototype.Tc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(e.length),i=0;i<e.length;i++)this.a.I(e[i])};L.prototype.writePackedBool=L.prototype.Tc;L.prototype.Vc=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.R(e[t]);Jt(this,i)}};L.prototype.writePackedEnum=L.prototype.Vc;L.prototype.Zc=function(i,e){if(e!=null&&e.length)for(Ye(this,i,2),this.a.j(8*e.length),i=0;i<e.length;i++)this.a.K(e[i])};L.prototype.writePackedFixedHash64=L.prototype.Zc;L.prototype.td=function(i,e){if(e!=null&&e.length){i=Xt(this,i);for(var t=0;t<e.length;t++)this.a.N(e[t]);Jt(this,i)}};L.prototype.writePackedVarintHash64=L.prototype.td;typeof Di=="object"&&(Di.debug=ms,Di.Map=Qe,Di.Message=Le,Di.BinaryReader=T,Di.BinaryWriter=L,Di.ExtensionFieldInfo=Jp,Di.ExtensionFieldBinaryInfo=DM,Di.exportSymbol=QD,Di.inherits=XD,Di.object={extend:JD},Di.typeOf=an)});var c,y,nt=b(()=>{"use strict";c=ok(KM());(e=>{let i;(s=>{let t;(Sm=>{var km,Em,Lm,wm,Tm,Cm,Am,Mm,Rm,Bm,Dm,Om,Nm,Fm,Pm,Um,Hm,zm,jm,Gm,Vm,Wm,Km,$m,qm,Ym,Qm,Xm,Jm,Zm,eh,th,ih,rh,sh,nh,oh,ah,lh,ch,uh,ph,mh,hh,dh,fh,gh,bh,yh,_h,xh,vh,Ih,Sh,kh,Eh,Lh,wh,Th,Ch,Ah,Mh,Rh,Bh,Dh,Oh,Nh,Fh,Ph,Uh,Hh,zh,jh,Gh,Vh,Wh,Kh,$h,qh,Yh,Qh,Xh,Jh,Zh,ed,td,id,rd,sd,nd,od,ad,ld,cd,ud,pd,md,hd,dd,fd,gd;let n;(jt=>(jt[jt.SYS_NORMAL=1]="SYS_NORMAL",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.USER_NOT_EXIST=3]="USER_NOT_EXIST",jt[jt.SYS_DATA_ERROR=4]="SYS_DATA_ERROR",jt[jt.WALLET_ADDRESS_ERROR=5]="WALLET_ADDRESS_ERROR",jt[jt.NOT_ENOUGH_ITEM=6]="NOT_ENOUGH_ITEM",jt[jt.NOT_ENOUGH_TOKEN=7]="NOT_ENOUGH_TOKEN",jt[jt.MAX_INVITE=8]="MAX_INVITE",jt[jt.CREATE_ROOM_MAX=9]="CREATE_ROOM_MAX",jt[jt.USER_BAN=10]="USER_BAN",jt[jt.COLLISION_FAIL=11]="COLLISION_FAIL",jt[jt.ROOM_FULL=12]="ROOM_FULL",jt[jt.ROOM_CLOSING=13]="ROOM_CLOSING"))(n=Sm.MessageCode||(Sm.MessageCode={}));let o;(q=>(q[q.MSG_HEART_BEAT=10001]="MSG_HEART_BEAT",q[q.MSG_REG_HALL=10002]="MSG_REG_HALL",q[q.MSG_REG_ROOM=10003]="MSG_REG_ROOM",q[q.MSG_REMOVE_HALL=11002]="MSG_REMOVE_HALL",q[q.MSG_REMOVE_ROOM=11003]="MSG_REMOVE_ROOM",q[q.MSG_USER_REGISTER=101]="MSG_USER_REGISTER",q[q.MSG_USER_LOGIN=102]="MSG_USER_LOGIN",q[q.MSG_REPEAT_LOGIN_NOTICE=103]="MSG_REPEAT_LOGIN_NOTICE",q[q.MSG_REQUEST_ROOM_ADDR=104]="MSG_REQUEST_ROOM_ADDR",q[q.MSG_ENTER_ROOM=105]="MSG_ENTER_ROOM",q[q.MSG_PLAYER_OPR=106]="MSG_PLAYER_OPR",q[q.MSG_PLAYER_STATE=107]="MSG_PLAYER_STATE",q[q.MSG_GEN_FOOD=108]="MSG_GEN_FOOD",q[q.MSG_UPDATE_ROLE=109]="MSG_UPDATE_ROLE",q[q.MSG_NOTICE_ENTER=110]="MSG_NOTICE_ENTER",q[q.MSG_BATTLE_END=111]="MSG_BATTLE_END",q[q.MSG_EAT_FOOD=112]="MSG_EAT_FOOD",q[q.MSG_PLAYER_COLLISION=113]="MSG_PLAYER_COLLISION",q[q.MSG_REQUEST_SERVER_TIME=114]="MSG_REQUEST_SERVER_TIME",q[q.MSG_REQUEST_ROOM_DATA=115]="MSG_REQUEST_ROOM_DATA",q[q.MSG_INVITE_LIST=116]="MSG_INVITE_LIST",q[q.MSG_REQUEST_INFO=117]="MSG_REQUEST_INFO",q[q.MSG_SHOP_BUY=118]="MSG_SHOP_BUY",q[q.MSG_PUSH=119]="MSG_PUSH",q[q.MSG_QUERY_TOKEN=120]="MSG_QUERY_TOKEN",q[q.MSG_PLAYER_OUT=121]="MSG_PLAYER_OUT",q[q.MSG_CHARGE=122]="MSG_CHARGE",q[q.MSG_WITHDRAW=123]="MSG_WITHDRAW",q[q.MSG_PACK_INFO=124]="MSG_PACK_INFO",q[q.MSG_TRANSFER=125]="MSG_TRANSFER",q[q.MSG_WITHDRAW_INFO=126]="MSG_WITHDRAW_INFO",q[q.MSG_CHARGE_RECORD=127]="MSG_CHARGE_RECORD",q[q.MSG_WITHDRAW_RECORD=128]="MSG_WITHDRAW_RECORD",q[q.MSG_SNAKE_UPGRADE=129]="MSG_SNAKE_UPGRADE",q[q.MSG_SNAKE_FIGHT=130]="MSG_SNAKE_FIGHT",q[q.MSG_MAIL_CHECK=131]="MSG_MAIL_CHECK",q[q.MSG_MAIL_LIST=132]="MSG_MAIL_LIST",q[q.MSG_MAIL_GET=133]="MSG_MAIL_GET",q[q.MSG_MAIL_DELETE=134]="MSG_MAIL_DELETE",q[q.MSG_NEW_MAIL=135]="MSG_NEW_MAIL",q[q.MSG_SYS_NOTICE=136]="MSG_SYS_NOTICE",q[q.MSG_CHANGE_INFO=137]="MSG_CHANGE_INFO",q[q.MSG_AI_ENTER=138]="MSG_AI_ENTER",q[q.MSG_AI_END=139]="MSG_AI_END",q[q.MSG_OPEN_BOX=140]="MSG_OPEN_BOX",q[q.MSG_REQUEST_PRICE=141]="MSG_REQUEST_PRICE",q[q.MSG_REQUEST_RANK=142]="MSG_REQUEST_RANK",q[q.MSG_LVUP_NOTICE=143]="MSG_LVUP_NOTICE",q[q.MSG_CREATE_CLUB=144]="MSG_CREATE_CLUB",q[q.MSG_CLUB_INFO=145]="MSG_CLUB_INFO",q[q.MSG_SET_COMMISSION=146]="MSG_SET_COMMISSION",q[q.MSG_CLUB_CHANGE_INFO=147]="MSG_CLUB_CHANGE_INFO",q[q.MSG_CREATE_CUSTOM_ROOM=148]="MSG_CREATE_CUSTOM_ROOM",q[q.MSG_CLUB_ROOM=149]="MSG_CLUB_ROOM",q[q.MSG_REQUEST_PROFIT=150]="MSG_REQUEST_PROFIT",q[q.MSG_TOKEN_CHANGE_RECORD=151]="MSG_TOKEN_CHANGE_RECORD",q[q.MSG_CLUB_MEMBER=152]="MSG_CLUB_MEMBER",q[q.MSG_REQUEST_MY_PROFIT=153]="MSG_REQUEST_MY_PROFIT",q[q.MSG_REQUEST_PROFIT_LIST=154]="MSG_REQUEST_PROFIT_LIST",q[q.MSG_REQUEST_HALL_ADDR=155]="MSG_REQUEST_HALL_ADDR",q[q.GM_SEND_SYS_NOTICE=2e3]="GM_SEND_SYS_NOTICE",q[q.GM_SEND_SYS_MAIL=2001]="GM_SEND_SYS_MAIL",q[q.GM_QUERY_ROLE=2002]="GM_QUERY_ROLE",q[q.GM_BAN_ROLE=2003]="GM_BAN_ROLE",q[q.GM_QUERY_CLUB=2004]="GM_QUERY_CLUB",q[q.GM_ROLE_CLUB_SET=2005]="GM_ROLE_CLUB_SET",q[q.GM_CREATE_CLUB=2006]="GM_CREATE_CLUB"))(o=Sm.MessageType||(Sm.MessageType={}));let rc=class rc extends c.Message{constructor(r){super();ae(this,km,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,km)),!Array.isArray(r)&&typeof r=="object"&&(this.msghead=r.msghead,"msgbody"in r&&r.msgbody!=null&&(this.msgbody=r.msgbody))}get msghead(){return c.Message.getWrapperField(this,u,1)}set msghead(r){c.Message.setWrapperField(this,1,r)}get has_msghead(){return c.Message.getField(this,1)!=null}get msgbody(){return c.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set msgbody(r){c.Message.setField(this,2,r)}get has_msgbody(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new rc({msghead:u.fromObject(r.msghead)});return r.msgbody!=null&&(a.msgbody=r.msgbody),a}toObject(){let r={};return this.msghead!=null&&(r.msghead=this.msghead.toObject()),this.msgbody!=null&&(r.msgbody=this.msgbody),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_msghead&&a.writeMessage(1,this.msghead,()=>this.msghead.serialize(a)),this.has_msgbody&&this.msgbody.length&&a.writeBytes(2,this.msgbody),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new rc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.msghead,()=>h.msghead=u.deserialize(a));break;case 2:h.msgbody=a.readBytes();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return rc.deserialize(r)}};km=new WeakMap;let l=rc;Sm.CMsgBase=rc;let sc=class sc extends c.Message{constructor(r){super();ae(this,Em,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Em)),!Array.isArray(r)&&typeof r=="object"&&(this.msgtype=r.msgtype,this.msgcode=r.msgcode,"roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId))}get msgtype(){return c.Message.getField(this,1)}set msgtype(r){c.Message.setField(this,1,r)}get has_msgtype(){return c.Message.getField(this,1)!=null}get msgcode(){return c.Message.getField(this,2)}set msgcode(r){c.Message.setField(this,2,r)}get has_msgcode(){return c.Message.getField(this,2)!=null}get roleId(){return c.Message.getFieldWithDefault(this,3,"")}set roleId(r){c.Message.setField(this,3,r)}get has_roleId(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new sc({msgtype:r.msgtype,msgcode:r.msgcode});return r.roleId!=null&&(a.roleId=r.roleId),a}toObject(){let r={};return this.msgtype!=null&&(r.msgtype=this.msgtype),this.msgcode!=null&&(r.msgcode=this.msgcode),this.roleId!=null&&(r.roleId=this.roleId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_msgtype&&a.writeInt32(1,this.msgtype),this.has_msgcode&&a.writeInt32(2,this.msgcode),this.has_roleId&&this.roleId.length&&a.writeString(3,this.roleId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new sc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.msgtype=a.readInt32();break;case 2:h.msgcode=a.readInt32();break;case 3:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return sc.deserialize(r)}};Em=new WeakMap;let u=sc;Sm.CMsgHead=sc;let nc=class nc extends c.Message{constructor(r){super();ae(this,Lm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Lm)),!Array.isArray(r)&&typeof r=="object"&&(this.name=r.name,this.icon=r.icon,this.type=r.type,this.addr=r.addr)}get name(){return c.Message.getField(this,1)}set name(r){c.Message.setField(this,1,r)}get has_name(){return c.Message.getField(this,1)!=null}get icon(){return c.Message.getField(this,2)}set icon(r){c.Message.setField(this,2,r)}get has_icon(){return c.Message.getField(this,2)!=null}get type(){return c.Message.getField(this,3)}set type(r){c.Message.setField(this,3,r)}get has_type(){return c.Message.getField(this,3)!=null}get addr(){return c.Message.getField(this,4)}set addr(r){c.Message.setField(this,4,r)}get has_addr(){return c.Message.getField(this,4)!=null}static fromObject(r){return new nc({name:r.name,icon:r.icon,type:r.type,addr:r.addr})}toObject(){let r={};return this.name!=null&&(r.name=this.name),this.icon!=null&&(r.icon=this.icon),this.type!=null&&(r.type=this.type),this.addr!=null&&(r.addr=this.addr),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_name&&this.name.length&&a.writeString(1,this.name),this.has_icon&&this.icon.length&&a.writeString(2,this.icon),this.has_type&&a.writeInt32(3,this.type),this.has_addr&&this.addr.length&&a.writeString(4,this.addr),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new nc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.name=a.readString();break;case 2:h.icon=a.readString();break;case 3:h.type=a.readInt32();break;case 4:h.addr=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return nc.deserialize(r)}};Lm=new WeakMap;let p=nc;Sm.CS_GM_CREATE_CLUB=nc;let oc=class oc extends c.Message{constructor(r){super();ae(this,wm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,wm)),!Array.isArray(r)&&typeof r=="object"&&(this.clubId=r.clubId,this.type=r.type)}get clubId(){return c.Message.getField(this,1)}set clubId(r){c.Message.setField(this,1,r)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(r){return new oc({clubId:r.clubId,type:r.type})}toObject(){let r={};return this.clubId!=null&&(r.clubId=this.clubId),this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new oc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return oc.deserialize(r)}};wm=new WeakMap;let m=oc;Sm.SC_GM_CREATE_CLUB=oc;let ac=class ac extends c.Message{constructor(r){super();ae(this,Tm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Tm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,this.clubId=r.clubId)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get clubId(){return c.Message.getField(this,2)}set clubId(r){c.Message.setField(this,2,r)}get has_clubId(){return c.Message.getField(this,2)!=null}static fromObject(r){return new ac({roleId:r.roleId,clubId:r.clubId})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.clubId!=null&&(r.clubId=this.clubId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_clubId&&a.writeInt64(2,this.clubId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new ac;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return ac.deserialize(r)}};Tm=new WeakMap;let d=ac;Sm.CS_GM_ROLE_CLUB_SET=ac;let lc=class lc extends c.Message{constructor(r){super();ae(this,Cm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Cm)),!Array.isArray(r)&&typeof r=="object"&&"clubId"in r&&r.clubId!=null&&(this.clubId=r.clubId)}get clubId(){return c.Message.getFieldWithDefault(this,1,0)}set clubId(r){c.Message.setField(this,1,r)}get has_clubId(){return c.Message.getField(this,1)!=null}static fromObject(r){let a=new lc({});return r.clubId!=null&&(a.clubId=r.clubId),a}toObject(){let r={};return this.clubId!=null&&(r.clubId=this.clubId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new lc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return lc.deserialize(r)}};Cm=new WeakMap;let f=lc;Sm.CS_GM_QUERY_CLUB=lc;let cc=class cc extends c.Message{constructor(r){super();ae(this,Am,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[8],oe(this,Am)),!Array.isArray(r)&&typeof r=="object"&&(this.clubId=r.clubId,this.type=r.type,"name"in r&&r.name!=null&&(this.name=r.name),"icon"in r&&r.icon!=null&&(this.icon=r.icon),"creater"in r&&r.creater!=null&&(this.creater=r.creater),"createTime"in r&&r.createTime!=null&&(this.createTime=r.createTime),this.rooms=r.rooms,"createrId"in r&&r.createrId!=null&&(this.createrId=r.createrId))}get clubId(){return c.Message.getField(this,1)}set clubId(r){c.Message.setField(this,1,r)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}get name(){return c.Message.getFieldWithDefault(this,3,"")}set name(r){c.Message.setField(this,3,r)}get has_name(){return c.Message.getField(this,3)!=null}get icon(){return c.Message.getFieldWithDefault(this,4,"")}set icon(r){c.Message.setField(this,4,r)}get has_icon(){return c.Message.getField(this,4)!=null}get creater(){return c.Message.getFieldWithDefault(this,5,"")}set creater(r){c.Message.setField(this,5,r)}get has_creater(){return c.Message.getField(this,5)!=null}get createTime(){return c.Message.getFieldWithDefault(this,6,0)}set createTime(r){c.Message.setField(this,6,r)}get has_createTime(){return c.Message.getField(this,6)!=null}get rooms(){return c.Message.getFieldWithDefault(this,8,[])}set rooms(r){c.Message.setField(this,8,r)}get createrId(){return c.Message.getFieldWithDefault(this,9,"")}set createrId(r){c.Message.setField(this,9,r)}get has_createrId(){return c.Message.getField(this,9)!=null}static fromObject(r){let a=new cc({clubId:r.clubId,type:r.type,rooms:r.rooms});return r.name!=null&&(a.name=r.name),r.icon!=null&&(a.icon=r.icon),r.creater!=null&&(a.creater=r.creater),r.createTime!=null&&(a.createTime=r.createTime),r.createrId!=null&&(a.createrId=r.createrId),a}toObject(){let r={rooms:this.rooms};return this.clubId!=null&&(r.clubId=this.clubId),this.type!=null&&(r.type=this.type),this.name!=null&&(r.name=this.name),this.icon!=null&&(r.icon=this.icon),this.creater!=null&&(r.creater=this.creater),this.createTime!=null&&(r.createTime=this.createTime),this.createrId!=null&&(r.createrId=this.createrId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),this.has_name&&this.name.length&&a.writeString(3,this.name),this.has_icon&&this.icon.length&&a.writeString(4,this.icon),this.has_creater&&this.creater.length&&a.writeString(5,this.creater),this.has_createTime&&a.writeInt64(6,this.createTime),this.rooms.length&&a.writeRepeatedString(8,this.rooms),this.has_createrId&&this.createrId.length&&a.writeString(9,this.createrId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new cc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;case 3:h.name=a.readString();break;case 4:h.icon=a.readString();break;case 5:h.creater=a.readString();break;case 6:h.createTime=a.readInt64();break;case 8:c.Message.addToRepeatedField(h,8,a.readString());break;case 9:h.createrId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return cc.deserialize(r)}};Am=new WeakMap;let g=cc;Sm.SC_GM_QUERY_CLUB=cc;let uc=class uc extends c.Message{constructor(r){super();ae(this,Mm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Mm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new uc({roleId:r.roleId})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new uc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return uc.deserialize(r)}};Mm=new WeakMap;let _=uc;Sm.CS_BAN_ROLE=uc;let pc=class pc extends c.Message{constructor(r){super();ae(this,Rm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Rm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,this.type=r.type)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(r){return new pc({roleId:r.roleId,type:r.type})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_type&&a.writeInt32(2,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new pc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return pc.deserialize(r)}};Rm=new WeakMap;let S=pc;Sm.CS_QUERY_ROLE=pc;let mc=class mc extends c.Message{constructor(r){super();ae(this,Bm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Bm)),!Array.isArray(r)&&typeof r=="object"&&"ro"in r&&r.ro!=null&&(this.ro=r.ro)}get ro(){return c.Message.getWrapperField(this,D,1)}set ro(r){c.Message.setWrapperField(this,1,r)}get has_ro(){return c.Message.getField(this,1)!=null}static fromObject(r){let a=new mc({});return r.ro!=null&&(a.ro=D.fromObject(r.ro)),a}toObject(){let r={};return this.ro!=null&&(r.ro=this.ro.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_ro&&a.writeMessage(1,this.ro,()=>this.ro.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new mc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.ro,()=>h.ro=D.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return mc.deserialize(r)}};Bm=new WeakMap;let x=mc;Sm.SC_QUERY_ROLE=mc;let hc=class hc extends c.Message{constructor(r){super();ae(this,Dm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Dm)),!Array.isArray(r)&&typeof r=="object"&&("content"in r&&r.content!=null&&(this.content=r.content),"dif"in r&&r.dif!=null&&(this.dif=r.dif),"times"in r&&r.times!=null&&(this.times=r.times))}get content(){return c.Message.getFieldWithDefault(this,1,"")}set content(r){c.Message.setField(this,1,r)}get has_content(){return c.Message.getField(this,1)!=null}get dif(){return c.Message.getFieldWithDefault(this,2,0)}set dif(r){c.Message.setField(this,2,r)}get has_dif(){return c.Message.getField(this,2)!=null}get times(){return c.Message.getFieldWithDefault(this,3,0)}set times(r){c.Message.setField(this,3,r)}get has_times(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new hc({});return r.content!=null&&(a.content=r.content),r.dif!=null&&(a.dif=r.dif),r.times!=null&&(a.times=r.times),a}toObject(){let r={};return this.content!=null&&(r.content=this.content),this.dif!=null&&(r.dif=this.dif),this.times!=null&&(r.times=this.times),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_content&&this.content.length&&a.writeString(1,this.content),this.has_dif&&a.writeInt32(2,this.dif),this.has_times&&a.writeInt32(3,this.times),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new hc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.content=a.readString();break;case 2:h.dif=a.readInt32();break;case 3:h.times=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return hc.deserialize(r)}};Dm=new WeakMap;let I=hc;Sm.CS_SEND_SYS_NOTICE=hc;let dc=class dc extends c.Message{constructor(r){super();ae(this,Om,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[4,5],oe(this,Om)),!Array.isArray(r)&&typeof r=="object"&&("sendName"in r&&r.sendName!=null&&(this.sendName=r.sendName),"title"in r&&r.title!=null&&(this.title=r.title),"content"in r&&r.content!=null&&(this.content=r.content),this.items=r.items,this.recId=r.recId)}get sendName(){return c.Message.getFieldWithDefault(this,1,"")}set sendName(r){c.Message.setField(this,1,r)}get has_sendName(){return c.Message.getField(this,1)!=null}get title(){return c.Message.getFieldWithDefault(this,2,"")}set title(r){c.Message.setField(this,2,r)}get has_title(){return c.Message.getField(this,2)!=null}get content(){return c.Message.getFieldWithDefault(this,3,"")}set content(r){c.Message.setField(this,3,r)}get has_content(){return c.Message.getField(this,3)!=null}get items(){return c.Message.getFieldWithDefault(this,4,[])}set items(r){c.Message.setField(this,4,r)}get recId(){return c.Message.getFieldWithDefault(this,5,[])}set recId(r){c.Message.setField(this,5,r)}static fromObject(r){let a=new dc({items:r.items,recId:r.recId});return r.sendName!=null&&(a.sendName=r.sendName),r.title!=null&&(a.title=r.title),r.content!=null&&(a.content=r.content),a}toObject(){let r={items:this.items,recId:this.recId};return this.sendName!=null&&(r.sendName=this.sendName),this.title!=null&&(r.title=this.title),this.content!=null&&(r.content=this.content),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_sendName&&this.sendName.length&&a.writeString(1,this.sendName),this.has_title&&this.title.length&&a.writeString(2,this.title),this.has_content&&this.content.length&&a.writeString(3,this.content),this.items.length&&a.writeRepeatedString(4,this.items),this.recId.length&&a.writeRepeatedString(5,this.recId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new dc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.sendName=a.readString();break;case 2:h.title=a.readString();break;case 3:h.content=a.readString();break;case 4:c.Message.addToRepeatedField(h,4,a.readString());break;case 5:c.Message.addToRepeatedField(h,5,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return dc.deserialize(r)}};Om=new WeakMap;let M=dc;Sm.CS_SEND_SYS_MAIL=dc;let fc=class fc extends c.Message{constructor(r){super();ae(this,Nm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Nm)),!Array.isArray(r)&&typeof r=="object"&&(this.hallId=r.hallId)}get hallId(){return c.Message.getField(this,1)}set hallId(r){c.Message.setField(this,1,r)}get has_hallId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new fc({hallId:r.hallId})}toObject(){let r={};return this.hallId!=null&&(r.hallId=this.hallId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_hallId&&this.hallId.length&&a.writeString(1,this.hallId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new fc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.hallId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return fc.deserialize(r)}};Nm=new WeakMap;let A=fc;Sm.SS_REG_HALL=fc;let gc=class gc extends c.Message{constructor(r){super();ae(this,Fm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[12,19,24,25],oe(this,Fm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,"userName"in r&&r.userName!=null&&(this.userName=r.userName),"icon"in r&&r.icon!=null&&(this.icon=r.icon),"createTime"in r&&r.createTime!=null&&(this.createTime=r.createTime),"score"in r&&r.score!=null&&(this.score=r.score),"country"in r&&r.country!=null&&(this.country=r.country),"club"in r&&r.club!=null&&(this.club=r.club),"code"in r&&r.code!=null&&(this.code=r.code),"walletAddr"in r&&r.walletAddr!=null&&(this.walletAddr=r.walletAddr),"snakeId"in r&&r.snakeId!=null&&(this.snakeId=r.snakeId),"kills"in r&&r.kills!=null&&(this.kills=r.kills),this.items=r.items,"invite"in r&&r.invite!=null&&(this.invite=r.invite),"source"in r&&r.source!=null&&(this.source=r.source),"num"in r&&r.num!=null&&(this.num=r.num),"stage"in r&&r.stage!=null&&(this.stage=r.stage),"invNum"in r&&r.invNum!=null&&(this.invNum=r.invNum),"exp"in r&&r.exp!=null&&(this.exp=r.exp),this.reward=r.reward,"ticketValue"in r&&r.ticketValue!=null&&(this.ticketValue=r.ticketValue),"lv"in r&&r.lv!=null&&(this.lv=r.lv),"ticketId"in r&&r.ticketId!=null&&(this.ticketId=r.ticketId),this.snake=r.snake,this.attr=r.attr,"recored"in r&&r.recored!=null&&(this.recored=r.recored),"maxKill"in r&&r.maxKill!=null&&(this.maxKill=r.maxKill),"maxAlive"in r&&r.maxAlive!=null&&(this.maxAlive=r.maxAlive),"skin"in r&&r.skin!=null&&(this.skin=r.skin),"ban"in r&&r.ban!=null&&(this.ban=r.ban),"roomNum"in r&&r.roomNum!=null&&(this.roomNum=r.roomNum))}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(r){c.Message.setField(this,2,r)}get has_userName(){return c.Message.getField(this,2)!=null}get icon(){return c.Message.getFieldWithDefault(this,3,"")}set icon(r){c.Message.setField(this,3,r)}get has_icon(){return c.Message.getField(this,3)!=null}get createTime(){return c.Message.getFieldWithDefault(this,4,0)}set createTime(r){c.Message.setField(this,4,r)}get has_createTime(){return c.Message.getField(this,4)!=null}get score(){return c.Message.getFieldWithDefault(this,5,0)}set score(r){c.Message.setField(this,5,r)}get has_score(){return c.Message.getField(this,5)!=null}get country(){return c.Message.getFieldWithDefault(this,6,0)}set country(r){c.Message.setField(this,6,r)}get has_country(){return c.Message.getField(this,6)!=null}get club(){return c.Message.getFieldWithDefault(this,7,"")}set club(r){c.Message.setField(this,7,r)}get has_club(){return c.Message.getField(this,7)!=null}get code(){return c.Message.getFieldWithDefault(this,8,"")}set code(r){c.Message.setField(this,8,r)}get has_code(){return c.Message.getField(this,8)!=null}get walletAddr(){return c.Message.getFieldWithDefault(this,9,"")}set walletAddr(r){c.Message.setField(this,9,r)}get has_walletAddr(){return c.Message.getField(this,9)!=null}get snakeId(){return c.Message.getFieldWithDefault(this,10,0)}set snakeId(r){c.Message.setField(this,10,r)}get has_snakeId(){return c.Message.getField(this,10)!=null}get kills(){return c.Message.getFieldWithDefault(this,11,0)}set kills(r){c.Message.setField(this,11,r)}get has_kills(){return c.Message.getField(this,11)!=null}get items(){return c.Message.getRepeatedWrapperField(this,U,12)}set items(r){c.Message.setRepeatedWrapperField(this,12,r)}get invite(){return c.Message.getFieldWithDefault(this,13,"")}set invite(r){c.Message.setField(this,13,r)}get has_invite(){return c.Message.getField(this,13)!=null}get source(){return c.Message.getFieldWithDefault(this,14,"")}set source(r){c.Message.setField(this,14,r)}get has_source(){return c.Message.getField(this,14)!=null}get num(){return c.Message.getFieldWithDefault(this,15,0)}set num(r){c.Message.setField(this,15,r)}get has_num(){return c.Message.getField(this,15)!=null}get stage(){return c.Message.getFieldWithDefault(this,16,0)}set stage(r){c.Message.setField(this,16,r)}get has_stage(){return c.Message.getField(this,16)!=null}get invNum(){return c.Message.getFieldWithDefault(this,17,0)}set invNum(r){c.Message.setField(this,17,r)}get has_invNum(){return c.Message.getField(this,17)!=null}get exp(){return c.Message.getFieldWithDefault(this,18,0)}set exp(r){c.Message.setField(this,18,r)}get has_exp(){return c.Message.getField(this,18)!=null}get reward(){return c.Message.getFieldWithDefault(this,19,[])}set reward(r){c.Message.setField(this,19,r)}get ticketValue(){return c.Message.getFieldWithDefault(this,20,0)}set ticketValue(r){c.Message.setField(this,20,r)}get has_ticketValue(){return c.Message.getField(this,20)!=null}get lv(){return c.Message.getFieldWithDefault(this,22,0)}set lv(r){c.Message.setField(this,22,r)}get has_lv(){return c.Message.getField(this,22)!=null}get ticketId(){return c.Message.getFieldWithDefault(this,23,0)}set ticketId(r){c.Message.setField(this,23,r)}get has_ticketId(){return c.Message.getField(this,23)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,W,24)}set snake(r){c.Message.setRepeatedWrapperField(this,24,r)}get attr(){return c.Message.getFieldWithDefault(this,25,[])}set attr(r){c.Message.setField(this,25,r)}get recored(){return c.Message.getFieldWithDefault(this,26,"")}set recored(r){c.Message.setField(this,26,r)}get has_recored(){return c.Message.getField(this,26)!=null}get maxKill(){return c.Message.getFieldWithDefault(this,27,0)}set maxKill(r){c.Message.setField(this,27,r)}get has_maxKill(){return c.Message.getField(this,27)!=null}get maxAlive(){return c.Message.getFieldWithDefault(this,28,0)}set maxAlive(r){c.Message.setField(this,28,r)}get has_maxAlive(){return c.Message.getField(this,28)!=null}get skin(){return c.Message.getFieldWithDefault(this,29,0)}set skin(r){c.Message.setField(this,29,r)}get has_skin(){return c.Message.getField(this,29)!=null}get ban(){return c.Message.getFieldWithDefault(this,30,!1)}set ban(r){c.Message.setField(this,30,r)}get has_ban(){return c.Message.getField(this,30)!=null}get roomNum(){return c.Message.getFieldWithDefault(this,31,0)}set roomNum(r){c.Message.setField(this,31,r)}get has_roomNum(){return c.Message.getField(this,31)!=null}static fromObject(r){let a=new gc({roleId:r.roleId,items:r.items.map(h=>U.fromObject(h)),reward:r.reward,snake:r.snake.map(h=>W.fromObject(h)),attr:r.attr});return r.userName!=null&&(a.userName=r.userName),r.icon!=null&&(a.icon=r.icon),r.createTime!=null&&(a.createTime=r.createTime),r.score!=null&&(a.score=r.score),r.country!=null&&(a.country=r.country),r.club!=null&&(a.club=r.club),r.code!=null&&(a.code=r.code),r.walletAddr!=null&&(a.walletAddr=r.walletAddr),r.snakeId!=null&&(a.snakeId=r.snakeId),r.kills!=null&&(a.kills=r.kills),r.invite!=null&&(a.invite=r.invite),r.source!=null&&(a.source=r.source),r.num!=null&&(a.num=r.num),r.stage!=null&&(a.stage=r.stage),r.invNum!=null&&(a.invNum=r.invNum),r.exp!=null&&(a.exp=r.exp),r.ticketValue!=null&&(a.ticketValue=r.ticketValue),r.lv!=null&&(a.lv=r.lv),r.ticketId!=null&&(a.ticketId=r.ticketId),r.recored!=null&&(a.recored=r.recored),r.maxKill!=null&&(a.maxKill=r.maxKill),r.maxAlive!=null&&(a.maxAlive=r.maxAlive),r.skin!=null&&(a.skin=r.skin),r.ban!=null&&(a.ban=r.ban),r.roomNum!=null&&(a.roomNum=r.roomNum),a}toObject(){let r={reward:this.reward,attr:this.attr};return this.roleId!=null&&(r.roleId=this.roleId),this.userName!=null&&(r.userName=this.userName),this.icon!=null&&(r.icon=this.icon),this.createTime!=null&&(r.createTime=this.createTime),this.score!=null&&(r.score=this.score),this.country!=null&&(r.country=this.country),this.club!=null&&(r.club=this.club),this.code!=null&&(r.code=this.code),this.walletAddr!=null&&(r.walletAddr=this.walletAddr),this.snakeId!=null&&(r.snakeId=this.snakeId),this.kills!=null&&(r.kills=this.kills),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.invite!=null&&(r.invite=this.invite),this.source!=null&&(r.source=this.source),this.num!=null&&(r.num=this.num),this.stage!=null&&(r.stage=this.stage),this.invNum!=null&&(r.invNum=this.invNum),this.exp!=null&&(r.exp=this.exp),this.ticketValue!=null&&(r.ticketValue=this.ticketValue),this.lv!=null&&(r.lv=this.lv),this.ticketId!=null&&(r.ticketId=this.ticketId),this.snake!=null&&(r.snake=this.snake.map(a=>a.toObject())),this.recored!=null&&(r.recored=this.recored),this.maxKill!=null&&(r.maxKill=this.maxKill),this.maxAlive!=null&&(r.maxAlive=this.maxAlive),this.skin!=null&&(r.skin=this.skin),this.ban!=null&&(r.ban=this.ban),this.roomNum!=null&&(r.roomNum=this.roomNum),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_icon&&this.icon.length&&a.writeString(3,this.icon),this.has_createTime&&a.writeInt64(4,this.createTime),this.has_score&&a.writeInt32(5,this.score),this.has_country&&a.writeInt32(6,this.country),this.has_club&&this.club.length&&a.writeString(7,this.club),this.has_code&&this.code.length&&a.writeString(8,this.code),this.has_walletAddr&&this.walletAddr.length&&a.writeString(9,this.walletAddr),this.has_snakeId&&a.writeInt32(10,this.snakeId),this.has_kills&&a.writeInt32(11,this.kills),this.items.length&&a.writeRepeatedMessage(12,this.items,h=>h.serialize(a)),this.has_invite&&this.invite.length&&a.writeString(13,this.invite),this.has_source&&this.source.length&&a.writeString(14,this.source),this.has_num&&a.writeInt32(15,this.num),this.has_stage&&a.writeInt32(16,this.stage),this.has_invNum&&a.writeInt32(17,this.invNum),this.has_exp&&a.writeInt32(18,this.exp),this.reward.length&&a.writeRepeatedString(19,this.reward),this.has_ticketValue&&a.writeDouble(20,this.ticketValue),this.has_lv&&a.writeInt32(22,this.lv),this.has_ticketId&&a.writeInt32(23,this.ticketId),this.snake.length&&a.writeRepeatedMessage(24,this.snake,h=>h.serialize(a)),this.attr.length&&a.writeRepeatedString(25,this.attr),this.has_recored&&this.recored.length&&a.writeString(26,this.recored),this.has_maxKill&&a.writeInt32(27,this.maxKill),this.has_maxAlive&&a.writeInt32(28,this.maxAlive),this.has_skin&&a.writeInt32(29,this.skin),this.has_ban&&a.writeBool(30,this.ban),this.has_roomNum&&a.writeInt32(31,this.roomNum),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new gc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.icon=a.readString();break;case 4:h.createTime=a.readInt64();break;case 5:h.score=a.readInt32();break;case 6:h.country=a.readInt32();break;case 7:h.club=a.readString();break;case 8:h.code=a.readString();break;case 9:h.walletAddr=a.readString();break;case 10:h.snakeId=a.readInt32();break;case 11:h.kills=a.readInt32();break;case 12:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,12,U.deserialize(a),U));break;case 13:h.invite=a.readString();break;case 14:h.source=a.readString();break;case 15:h.num=a.readInt32();break;case 16:h.stage=a.readInt32();break;case 17:h.invNum=a.readInt32();break;case 18:h.exp=a.readInt32();break;case 19:c.Message.addToRepeatedField(h,19,a.readString());break;case 20:h.ticketValue=a.readDouble();break;case 22:h.lv=a.readInt32();break;case 23:h.ticketId=a.readInt32();break;case 24:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,24,W.deserialize(a),W));break;case 25:c.Message.addToRepeatedField(h,25,a.readString());break;case 26:h.recored=a.readString();break;case 27:h.maxKill=a.readInt32();break;case 28:h.maxAlive=a.readInt32();break;case 29:h.skin=a.readInt32();break;case 30:h.ban=a.readBool();break;case 31:h.roomNum=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return gc.deserialize(r)}};Fm=new WeakMap;let D=gc;Sm.RoleObject=gc;let bc=class bc extends c.Message{constructor(r){super();ae(this,Pm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[8],oe(this,Pm)),!Array.isArray(r)&&typeof r=="object"&&("mailId"in r&&r.mailId!=null&&(this.mailId=r.mailId),"sendId"in r&&r.sendId!=null&&(this.sendId=r.sendId),"sendName"in r&&r.sendName!=null&&(this.sendName=r.sendName),"title"in r&&r.title!=null&&(this.title=r.title),"content"in r&&r.content!=null&&(this.content=r.content),"sendTime"in r&&r.sendTime!=null&&(this.sendTime=r.sendTime),"read"in r&&r.read!=null&&(this.read=r.read),this.items=r.items,"get"in r&&r.get!=null&&(this.get=r.get))}get mailId(){return c.Message.getFieldWithDefault(this,1,0)}set mailId(r){c.Message.setField(this,1,r)}get has_mailId(){return c.Message.getField(this,1)!=null}get sendId(){return c.Message.getFieldWithDefault(this,2,"")}set sendId(r){c.Message.setField(this,2,r)}get has_sendId(){return c.Message.getField(this,2)!=null}get sendName(){return c.Message.getFieldWithDefault(this,3,"")}set sendName(r){c.Message.setField(this,3,r)}get has_sendName(){return c.Message.getField(this,3)!=null}get title(){return c.Message.getFieldWithDefault(this,4,"")}set title(r){c.Message.setField(this,4,r)}get has_title(){return c.Message.getField(this,4)!=null}get content(){return c.Message.getFieldWithDefault(this,5,"")}set content(r){c.Message.setField(this,5,r)}get has_content(){return c.Message.getField(this,5)!=null}get sendTime(){return c.Message.getFieldWithDefault(this,6,0)}set sendTime(r){c.Message.setField(this,6,r)}get has_sendTime(){return c.Message.getField(this,6)!=null}get read(){return c.Message.getFieldWithDefault(this,7,!1)}set read(r){c.Message.setField(this,7,r)}get has_read(){return c.Message.getField(this,7)!=null}get items(){return c.Message.getRepeatedWrapperField(this,U,8)}set items(r){c.Message.setRepeatedWrapperField(this,8,r)}get get(){return c.Message.getFieldWithDefault(this,9,!1)}set get(r){c.Message.setField(this,9,r)}get has_get(){return c.Message.getField(this,9)!=null}static fromObject(r){let a=new bc({items:r.items.map(h=>U.fromObject(h))});return r.mailId!=null&&(a.mailId=r.mailId),r.sendId!=null&&(a.sendId=r.sendId),r.sendName!=null&&(a.sendName=r.sendName),r.title!=null&&(a.title=r.title),r.content!=null&&(a.content=r.content),r.sendTime!=null&&(a.sendTime=r.sendTime),r.read!=null&&(a.read=r.read),r.get!=null&&(a.get=r.get),a}toObject(){let r={};return this.mailId!=null&&(r.mailId=this.mailId),this.sendId!=null&&(r.sendId=this.sendId),this.sendName!=null&&(r.sendName=this.sendName),this.title!=null&&(r.title=this.title),this.content!=null&&(r.content=this.content),this.sendTime!=null&&(r.sendTime=this.sendTime),this.read!=null&&(r.read=this.read),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.get!=null&&(r.get=this.get),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),this.has_sendId&&this.sendId.length&&a.writeString(2,this.sendId),this.has_sendName&&this.sendName.length&&a.writeString(3,this.sendName),this.has_title&&this.title.length&&a.writeString(4,this.title),this.has_content&&this.content.length&&a.writeString(5,this.content),this.has_sendTime&&a.writeInt64(6,this.sendTime),this.has_read&&a.writeBool(7,this.read),this.items.length&&a.writeRepeatedMessage(8,this.items,h=>h.serialize(a)),this.has_get&&a.writeBool(9,this.get),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new bc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;case 2:h.sendId=a.readString();break;case 3:h.sendName=a.readString();break;case 4:h.title=a.readString();break;case 5:h.content=a.readString();break;case 6:h.sendTime=a.readInt64();break;case 7:h.read=a.readBool();break;case 8:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,8,U.deserialize(a),U));break;case 9:h.get=a.readBool();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return bc.deserialize(r)}};Pm=new WeakMap;let j=bc;Sm.MailObject=bc;let yc=class yc extends c.Message{constructor(r){super();ae(this,Um,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[3],oe(this,Um)),!Array.isArray(r)&&typeof r=="object"&&("id"in r&&r.id!=null&&(this.id=r.id),"unkey"in r&&r.unkey!=null&&(this.unkey=r.unkey),this.attr=r.attr,"skin"in r&&r.skin!=null&&(this.skin=r.skin),"upgrade"in r&&r.upgrade!=null&&(this.upgrade=r.upgrade))}get id(){return c.Message.getFieldWithDefault(this,1,0)}set id(r){c.Message.setField(this,1,r)}get has_id(){return c.Message.getField(this,1)!=null}get unkey(){return c.Message.getFieldWithDefault(this,2,0)}set unkey(r){c.Message.setField(this,2,r)}get has_unkey(){return c.Message.getField(this,2)!=null}get attr(){return c.Message.getFieldWithDefault(this,3,[])}set attr(r){c.Message.setField(this,3,r)}get skin(){return c.Message.getFieldWithDefault(this,4,0)}set skin(r){c.Message.setField(this,4,r)}get has_skin(){return c.Message.getField(this,4)!=null}get upgrade(){return c.Message.getFieldWithDefault(this,5,!1)}set upgrade(r){c.Message.setField(this,5,r)}get has_upgrade(){return c.Message.getField(this,5)!=null}static fromObject(r){let a=new yc({attr:r.attr});return r.id!=null&&(a.id=r.id),r.unkey!=null&&(a.unkey=r.unkey),r.skin!=null&&(a.skin=r.skin),r.upgrade!=null&&(a.upgrade=r.upgrade),a}toObject(){let r={attr:this.attr};return this.id!=null&&(r.id=this.id),this.unkey!=null&&(r.unkey=this.unkey),this.skin!=null&&(r.skin=this.skin),this.upgrade!=null&&(r.upgrade=this.upgrade),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_id&&a.writeInt32(1,this.id),this.has_unkey&&a.writeInt32(2,this.unkey),this.attr.length&&a.writeRepeatedString(3,this.attr),this.has_skin&&a.writeInt32(4,this.skin),this.has_upgrade&&a.writeBool(5,this.upgrade),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new yc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.id=a.readInt32();break;case 2:h.unkey=a.readInt32();break;case 3:c.Message.addToRepeatedField(h,3,a.readString());break;case 4:h.skin=a.readInt32();break;case 5:h.upgrade=a.readBool();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return yc.deserialize(r)}};Um=new WeakMap;let W=yc;Sm.SnakeDto=yc;let _c=class _c extends c.Message{constructor(r){super();ae(this,Hm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Hm)),!Array.isArray(r)&&typeof r=="object"&&("itemId"in r&&r.itemId!=null&&(this.itemId=r.itemId),"num"in r&&r.num!=null&&(this.num=r.num),"chainId"in r&&r.chainId!=null&&(this.chainId=r.chainId))}get itemId(){return c.Message.getFieldWithDefault(this,1,0)}set itemId(r){c.Message.setField(this,1,r)}get has_itemId(){return c.Message.getField(this,1)!=null}get num(){return c.Message.getFieldWithDefault(this,2,0)}set num(r){c.Message.setField(this,2,r)}get has_num(){return c.Message.getField(this,2)!=null}get chainId(){return c.Message.getFieldWithDefault(this,3,0)}set chainId(r){c.Message.setField(this,3,r)}get has_chainId(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new _c({});return r.itemId!=null&&(a.itemId=r.itemId),r.num!=null&&(a.num=r.num),r.chainId!=null&&(a.chainId=r.chainId),a}toObject(){let r={};return this.itemId!=null&&(r.itemId=this.itemId),this.num!=null&&(r.num=this.num),this.chainId!=null&&(r.chainId=this.chainId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_itemId&&a.writeInt32(1,this.itemId),this.has_num&&a.writeDouble(2,this.num),this.has_chainId&&a.writeInt32(3,this.chainId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new _c;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.itemId=a.readInt32();break;case 2:h.num=a.readDouble();break;case 3:h.chainId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return _c.deserialize(r)}};Hm=new WeakMap;let U=_c;Sm.ItemObject=_c;let xc=class xc extends c.Message{constructor(r){super();ae(this,zm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,zm)),!Array.isArray(r)&&typeof r=="object"&&(this.icon=r.icon,this.userName=r.userName,this.country=r.country,"walletAddr"in r&&r.walletAddr!=null&&(this.walletAddr=r.walletAddr),"invite"in r&&r.invite!=null&&(this.invite=r.invite),"source"in r&&r.source!=null&&(this.source=r.source),"randomHex"in r&&r.randomHex!=null&&(this.randomHex=r.randomHex),"time"in r&&r.time!=null&&(this.time=r.time),"r"in r&&r.r!=null&&(this.r=r.r),"s"in r&&r.s!=null&&(this.s=r.s),"v"in r&&r.v!=null&&(this.v=r.v),"clubId"in r&&r.clubId!=null&&(this.clubId=r.clubId))}get icon(){return c.Message.getField(this,1)}set icon(r){c.Message.setField(this,1,r)}get has_icon(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getField(this,2)}set userName(r){c.Message.setField(this,2,r)}get has_userName(){return c.Message.getField(this,2)!=null}get country(){return c.Message.getField(this,3)}set country(r){c.Message.setField(this,3,r)}get has_country(){return c.Message.getField(this,3)!=null}get walletAddr(){return c.Message.getFieldWithDefault(this,4,"")}set walletAddr(r){c.Message.setField(this,4,r)}get has_walletAddr(){return c.Message.getField(this,4)!=null}get invite(){return c.Message.getFieldWithDefault(this,5,"")}set invite(r){c.Message.setField(this,5,r)}get has_invite(){return c.Message.getField(this,5)!=null}get source(){return c.Message.getFieldWithDefault(this,6,"")}set source(r){c.Message.setField(this,6,r)}get has_source(){return c.Message.getField(this,6)!=null}get randomHex(){return c.Message.getFieldWithDefault(this,7,"")}set randomHex(r){c.Message.setField(this,7,r)}get has_randomHex(){return c.Message.getField(this,7)!=null}get time(){return c.Message.getFieldWithDefault(this,8,0)}set time(r){c.Message.setField(this,8,r)}get has_time(){return c.Message.getField(this,8)!=null}get r(){return c.Message.getFieldWithDefault(this,9,"")}set r(r){c.Message.setField(this,9,r)}get has_r(){return c.Message.getField(this,9)!=null}get s(){return c.Message.getFieldWithDefault(this,10,"")}set s(r){c.Message.setField(this,10,r)}get has_s(){return c.Message.getField(this,10)!=null}get v(){return c.Message.getFieldWithDefault(this,11,"")}set v(r){c.Message.setField(this,11,r)}get has_v(){return c.Message.getField(this,11)!=null}get clubId(){return c.Message.getFieldWithDefault(this,12,0)}set clubId(r){c.Message.setField(this,12,r)}get has_clubId(){return c.Message.getField(this,12)!=null}static fromObject(r){let a=new xc({icon:r.icon,userName:r.userName,country:r.country});return r.walletAddr!=null&&(a.walletAddr=r.walletAddr),r.invite!=null&&(a.invite=r.invite),r.source!=null&&(a.source=r.source),r.randomHex!=null&&(a.randomHex=r.randomHex),r.time!=null&&(a.time=r.time),r.r!=null&&(a.r=r.r),r.s!=null&&(a.s=r.s),r.v!=null&&(a.v=r.v),r.clubId!=null&&(a.clubId=r.clubId),a}toObject(){let r={};return this.icon!=null&&(r.icon=this.icon),this.userName!=null&&(r.userName=this.userName),this.country!=null&&(r.country=this.country),this.walletAddr!=null&&(r.walletAddr=this.walletAddr),this.invite!=null&&(r.invite=this.invite),this.source!=null&&(r.source=this.source),this.randomHex!=null&&(r.randomHex=this.randomHex),this.time!=null&&(r.time=this.time),this.r!=null&&(r.r=this.r),this.s!=null&&(r.s=this.s),this.v!=null&&(r.v=this.v),this.clubId!=null&&(r.clubId=this.clubId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_icon&&this.icon.length&&a.writeString(1,this.icon),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_country&&a.writeInt32(3,this.country),this.has_walletAddr&&this.walletAddr.length&&a.writeString(4,this.walletAddr),this.has_invite&&this.invite.length&&a.writeString(5,this.invite),this.has_source&&this.source.length&&a.writeString(6,this.source),this.has_randomHex&&this.randomHex.length&&a.writeString(7,this.randomHex),this.has_time&&a.writeInt64(8,this.time),this.has_r&&this.r.length&&a.writeString(9,this.r),this.has_s&&this.s.length&&a.writeString(10,this.s),this.has_v&&this.v.length&&a.writeString(11,this.v),this.has_clubId&&a.writeInt64(12,this.clubId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new xc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.icon=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.country=a.readInt32();break;case 4:h.walletAddr=a.readString();break;case 5:h.invite=a.readString();break;case 6:h.source=a.readString();break;case 7:h.randomHex=a.readString();break;case 8:h.time=a.readInt64();break;case 9:h.r=a.readString();break;case 10:h.s=a.readString();break;case 11:h.v=a.readString();break;case 12:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return xc.deserialize(r)}};zm=new WeakMap;let J=xc;Sm.CS_USER_REGISTER=xc;let vc=class vc extends c.Message{constructor(r){super();ae(this,jm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,jm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleInfo=r.roleInfo)}get roleInfo(){return c.Message.getWrapperField(this,D,1)}set roleInfo(r){c.Message.setWrapperField(this,1,r)}get has_roleInfo(){return c.Message.getField(this,1)!=null}static fromObject(r){return new vc({roleInfo:D.fromObject(r.roleInfo)})}toObject(){let r={};return this.roleInfo!=null&&(r.roleInfo=this.roleInfo.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new vc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=D.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return vc.deserialize(r)}};jm=new WeakMap;let X=vc;Sm.SC_USER_REGISTER=vc;let Ic=class Ic extends c.Message{constructor(r){super();ae(this,Gm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Gm)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,"randomHex"in r&&r.randomHex!=null&&(this.randomHex=r.randomHex),"time"in r&&r.time!=null&&(this.time=r.time),"r"in r&&r.r!=null&&(this.r=r.r),"s"in r&&r.s!=null&&(this.s=r.s),"v"in r&&r.v!=null&&(this.v=r.v))}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get randomHex(){return c.Message.getFieldWithDefault(this,2,"")}set randomHex(r){c.Message.setField(this,2,r)}get has_randomHex(){return c.Message.getField(this,2)!=null}get time(){return c.Message.getFieldWithDefault(this,3,0)}set time(r){c.Message.setField(this,3,r)}get has_time(){return c.Message.getField(this,3)!=null}get r(){return c.Message.getFieldWithDefault(this,4,"")}set r(r){c.Message.setField(this,4,r)}get has_r(){return c.Message.getField(this,4)!=null}get s(){return c.Message.getFieldWithDefault(this,5,"")}set s(r){c.Message.setField(this,5,r)}get has_s(){return c.Message.getField(this,5)!=null}get v(){return c.Message.getFieldWithDefault(this,6,"")}set v(r){c.Message.setField(this,6,r)}get has_v(){return c.Message.getField(this,6)!=null}static fromObject(r){let a=new Ic({roleId:r.roleId});return r.randomHex!=null&&(a.randomHex=r.randomHex),r.time!=null&&(a.time=r.time),r.r!=null&&(a.r=r.r),r.s!=null&&(a.s=r.s),r.v!=null&&(a.v=r.v),a}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.randomHex!=null&&(r.randomHex=this.randomHex),this.time!=null&&(r.time=this.time),this.r!=null&&(r.r=this.r),this.s!=null&&(r.s=this.s),this.v!=null&&(r.v=this.v),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_randomHex&&this.randomHex.length&&a.writeString(2,this.randomHex),this.has_time&&a.writeInt64(3,this.time),this.has_r&&this.r.length&&a.writeString(4,this.r),this.has_s&&this.s.length&&a.writeString(5,this.s),this.has_v&&this.v.length&&a.writeString(6,this.v),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ic;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.randomHex=a.readString();break;case 3:h.time=a.readInt64();break;case 4:h.r=a.readString();break;case 5:h.s=a.readString();break;case 6:h.v=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ic.deserialize(r)}};Gm=new WeakMap;let ie=Ic;Sm.CS_USER_LOGIN=Ic;let Sc=class Sc extends c.Message{constructor(r){super();ae(this,Vm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Vm)),!Array.isArray(r)&&typeof r=="object"&&("roleInfo"in r&&r.roleInfo!=null&&(this.roleInfo=r.roleInfo),"loginToken"in r&&r.loginToken!=null&&(this.loginToken=r.loginToken))}get roleInfo(){return c.Message.getWrapperField(this,D,1)}set roleInfo(r){c.Message.setWrapperField(this,1,r)}get has_roleInfo(){return c.Message.getField(this,1)!=null}get loginToken(){return c.Message.getFieldWithDefault(this,2,"")}set loginToken(r){c.Message.setField(this,2,r)}get has_loginToken(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Sc({});return r.roleInfo!=null&&(a.roleInfo=D.fromObject(r.roleInfo)),r.loginToken!=null&&(a.loginToken=r.loginToken),a}toObject(){let r={};return this.roleInfo!=null&&(r.roleInfo=this.roleInfo.toObject()),this.loginToken!=null&&(r.loginToken=this.loginToken),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),this.has_loginToken&&this.loginToken.length&&a.writeString(2,this.loginToken),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Sc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=D.deserialize(a));break;case 2:h.loginToken=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Sc.deserialize(r)}};Vm=new WeakMap;let Ie=Sc;Sm.SC_USER_LOGIN=Sc;let kc=class kc extends c.Message{constructor(r){super();ae(this,Wm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Wm)),!Array.isArray(r)&&typeof r=="object"&&("type"in r&&r.type!=null&&(this.type=r.type),"ticketId"in r&&r.ticketId!=null&&(this.ticketId=r.ticketId),"ticketValue"in r&&r.ticketValue!=null&&(this.ticketValue=r.ticketValue),"roomType"in r&&r.roomType!=null&&(this.roomType=r.roomType),"point"in r&&r.point!=null&&(this.point=r.point),"roomNo"in r&&r.roomNo!=null&&(this.roomNo=r.roomNo))}get type(){return c.Message.getFieldWithDefault(this,1,0)}set type(r){c.Message.setField(this,1,r)}get has_type(){return c.Message.getField(this,1)!=null}get ticketId(){return c.Message.getFieldWithDefault(this,2,0)}set ticketId(r){c.Message.setField(this,2,r)}get has_ticketId(){return c.Message.getField(this,2)!=null}get ticketValue(){return c.Message.getFieldWithDefault(this,3,0)}set ticketValue(r){c.Message.setField(this,3,r)}get has_ticketValue(){return c.Message.getField(this,3)!=null}get roomType(){return c.Message.getFieldWithDefault(this,4,0)}set roomType(r){c.Message.setField(this,4,r)}get has_roomType(){return c.Message.getField(this,4)!=null}get point(){return c.Message.getFieldWithDefault(this,5,"")}set point(r){c.Message.setField(this,5,r)}get has_point(){return c.Message.getField(this,5)!=null}get roomNo(){return c.Message.getFieldWithDefault(this,6,"")}set roomNo(r){c.Message.setField(this,6,r)}get has_roomNo(){return c.Message.getField(this,6)!=null}static fromObject(r){let a=new kc({});return r.type!=null&&(a.type=r.type),r.ticketId!=null&&(a.ticketId=r.ticketId),r.ticketValue!=null&&(a.ticketValue=r.ticketValue),r.roomType!=null&&(a.roomType=r.roomType),r.point!=null&&(a.point=r.point),r.roomNo!=null&&(a.roomNo=r.roomNo),a}toObject(){let r={};return this.type!=null&&(r.type=this.type),this.ticketId!=null&&(r.ticketId=this.ticketId),this.ticketValue!=null&&(r.ticketValue=this.ticketValue),this.roomType!=null&&(r.roomType=this.roomType),this.point!=null&&(r.point=this.point),this.roomNo!=null&&(r.roomNo=this.roomNo),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_ticketId&&a.writeInt32(2,this.ticketId),this.has_ticketValue&&a.writeDouble(3,this.ticketValue),this.has_roomType&&a.writeInt32(4,this.roomType),this.has_point&&this.point.length&&a.writeString(5,this.point),this.has_roomNo&&this.roomNo.length&&a.writeString(6,this.roomNo),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new kc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.ticketId=a.readInt32();break;case 3:h.ticketValue=a.readDouble();break;case 4:h.roomType=a.readInt32();break;case 5:h.point=a.readString();break;case 6:h.roomNo=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return kc.deserialize(r)}};Wm=new WeakMap;let ke=kc;Sm.CS_REQUEST_ROOM_ADDR=kc;let Ec=class Ec extends c.Message{constructor(r){super();ae(this,Km,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Km)),!Array.isArray(r)&&typeof r=="object"&&(this.addr=r.addr,"roleInfo"in r&&r.roleInfo!=null&&(this.roleInfo=r.roleInfo),"info"in r&&r.info!=null&&(this.info=r.info))}get addr(){return c.Message.getField(this,1)}set addr(r){c.Message.setField(this,1,r)}get has_addr(){return c.Message.getField(this,1)!=null}get roleInfo(){return c.Message.getWrapperField(this,D,2)}set roleInfo(r){c.Message.setWrapperField(this,2,r)}get has_roleInfo(){return c.Message.getField(this,2)!=null}get info(){return c.Message.getFieldWithDefault(this,3,"")}set info(r){c.Message.setField(this,3,r)}get has_info(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new Ec({addr:r.addr});return r.roleInfo!=null&&(a.roleInfo=D.fromObject(r.roleInfo)),r.info!=null&&(a.info=r.info),a}toObject(){let r={};return this.addr!=null&&(r.addr=this.addr),this.roleInfo!=null&&(r.roleInfo=this.roleInfo.toObject()),this.info!=null&&(r.info=this.info),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_addr&&this.addr.length&&a.writeString(1,this.addr),this.has_roleInfo&&a.writeMessage(2,this.roleInfo,()=>this.roleInfo.serialize(a)),this.has_info&&this.info.length&&a.writeString(3,this.info),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ec;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.addr=a.readString();break;case 2:a.readMessage(h.roleInfo,()=>h.roleInfo=D.deserialize(a));break;case 3:h.info=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ec.deserialize(r)}};Km=new WeakMap;let De=Ec;Sm.SC_REQUEST_ROOM_ADDR=Ec;let Lc=class Lc extends c.Message{constructor(r){super();ae(this,$m,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,$m)),!Array.isArray(r)&&typeof r=="object"&&("tag"in r&&r.tag!=null&&(this.tag=r.tag),"roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId))}get tag(){return c.Message.getFieldWithDefault(this,1,"")}set tag(r){c.Message.setField(this,1,r)}get has_tag(){return c.Message.getField(this,1)!=null}get roleId(){return c.Message.getFieldWithDefault(this,2,"")}set roleId(r){c.Message.setField(this,2,r)}get has_roleId(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Lc({});return r.tag!=null&&(a.tag=r.tag),r.roleId!=null&&(a.roleId=r.roleId),a}toObject(){let r={};return this.tag!=null&&(r.tag=this.tag),this.roleId!=null&&(r.roleId=this.roleId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_tag&&this.tag.length&&a.writeString(1,this.tag),this.has_roleId&&this.roleId.length&&a.writeString(2,this.roleId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Lc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.tag=a.readString();break;case 2:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Lc.deserialize(r)}};$m=new WeakMap;let ft=Lc;Sm.CS_ENTER_ROOM=Lc;let wc=class wc extends c.Message{constructor(r){super();ae(this,qm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,2],oe(this,qm)),!Array.isArray(r)&&typeof r=="object"&&(this.food=r.food,this.players=r.players,"roomNo"in r&&r.roomNo!=null&&(this.roomNo=r.roomNo))}get food(){return c.Message.getRepeatedWrapperField(this,ue,1)}set food(r){c.Message.setRepeatedWrapperField(this,1,r)}get players(){return c.Message.getRepeatedWrapperField(this,me,2)}set players(r){c.Message.setRepeatedWrapperField(this,2,r)}get roomNo(){return c.Message.getFieldWithDefault(this,3,"")}set roomNo(r){c.Message.setField(this,3,r)}get has_roomNo(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new wc({food:r.food.map(h=>ue.fromObject(h)),players:r.players.map(h=>me.fromObject(h))});return r.roomNo!=null&&(a.roomNo=r.roomNo),a}toObject(){let r={};return this.food!=null&&(r.food=this.food.map(a=>a.toObject())),this.players!=null&&(r.players=this.players.map(a=>a.toObject())),this.roomNo!=null&&(r.roomNo=this.roomNo),r}serialize(r){let a=r||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.players.length&&a.writeRepeatedMessage(2,this.players,h=>h.serialize(a)),this.has_roomNo&&this.roomNo.length&&a.writeString(3,this.roomNo),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new wc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,ue.deserialize(a),ue));break;case 2:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,2,me.deserialize(a),me));break;case 3:h.roomNo=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return wc.deserialize(r)}};qm=new WeakMap;let ye=wc;Sm.SC_ENTER_ROOM=wc;let Tc=class Tc extends c.Message{constructor(r){super();ae(this,Ym,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Ym)),!Array.isArray(r)&&typeof r=="object"&&("unkey"in r&&r.unkey!=null&&(this.unkey=r.unkey),"itemId"in r&&r.itemId!=null&&(this.itemId=r.itemId),"loc"in r&&r.loc!=null&&(this.loc=r.loc))}get unkey(){return c.Message.getFieldWithDefault(this,1,"")}set unkey(r){c.Message.setField(this,1,r)}get has_unkey(){return c.Message.getField(this,1)!=null}get itemId(){return c.Message.getFieldWithDefault(this,2,0)}set itemId(r){c.Message.setField(this,2,r)}get has_itemId(){return c.Message.getField(this,2)!=null}get loc(){return c.Message.getWrapperField(this,Fe,3)}set loc(r){c.Message.setWrapperField(this,3,r)}get has_loc(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new Tc({});return r.unkey!=null&&(a.unkey=r.unkey),r.itemId!=null&&(a.itemId=r.itemId),r.loc!=null&&(a.loc=Fe.fromObject(r.loc)),a}toObject(){let r={};return this.unkey!=null&&(r.unkey=this.unkey),this.itemId!=null&&(r.itemId=this.itemId),this.loc!=null&&(r.loc=this.loc.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_unkey&&this.unkey.length&&a.writeString(1,this.unkey),this.has_itemId&&a.writeInt32(2,this.itemId),this.has_loc&&a.writeMessage(3,this.loc,()=>this.loc.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Tc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readString();break;case 2:h.itemId=a.readInt32();break;case 3:a.readMessage(h.loc,()=>h.loc=Fe.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Tc.deserialize(r)}};Ym=new WeakMap;let ue=Tc;Sm.FoodObject=Tc;let Cc=class Cc extends c.Message{constructor(r){super();ae(this,Qm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[5,10,13,23],oe(this,Qm)),!Array.isArray(r)&&typeof r=="object"&&("roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"userName"in r&&r.userName!=null&&(this.userName=r.userName),"snakeId"in r&&r.snakeId!=null&&(this.snakeId=r.snakeId),"speed"in r&&r.speed!=null&&(this.speed=r.speed),this.snake=r.snake,"kills"in r&&r.kills!=null&&(this.kills=r.kills),"state"in r&&r.state!=null&&(this.state=r.state),"score"in r&&r.score!=null&&(this.score=r.score),"wdTime"in r&&r.wdTime!=null&&(this.wdTime=r.wdTime),this.eatenIds=r.eatenIds,"dieTime"in r&&r.dieTime!=null&&(this.dieTime=r.dieTime),"revive"in r&&r.revive!=null&&(this.revive=r.revive),this.food=r.food,"direction"in r&&r.direction!=null&&(this.direction=r.direction),"frame"in r&&r.frame!=null&&(this.frame=r.frame),"oprTime"in r&&r.oprTime!=null&&(this.oprTime=r.oprTime),"aimDir"in r&&r.aimDir!=null&&(this.aimDir=r.aimDir),"length"in r&&r.length!=null&&(this.length=r.length),"enterTime"in r&&r.enterTime!=null&&(this.enterTime=r.enterTime),"exp"in r&&r.exp!=null&&(this.exp=r.exp),"result"in r&&r.result!=null&&(this.result=r.result),"oprIndex"in r&&r.oprIndex!=null&&(this.oprIndex=r.oprIndex),this.attr=r.attr,"skin"in r&&r.skin!=null&&(this.skin=r.skin))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(r){c.Message.setField(this,2,r)}get has_userName(){return c.Message.getField(this,2)!=null}get snakeId(){return c.Message.getFieldWithDefault(this,3,0)}set snakeId(r){c.Message.setField(this,3,r)}get has_snakeId(){return c.Message.getField(this,3)!=null}get speed(){return c.Message.getFieldWithDefault(this,4,0)}set speed(r){c.Message.setField(this,4,r)}get has_speed(){return c.Message.getField(this,4)!=null}get snake(){return c.Message.getRepeatedWrapperField(this,R,5)}set snake(r){c.Message.setRepeatedWrapperField(this,5,r)}get kills(){return c.Message.getFieldWithDefault(this,6,0)}set kills(r){c.Message.setField(this,6,r)}get has_kills(){return c.Message.getField(this,6)!=null}get state(){return c.Message.getFieldWithDefault(this,7,!1)}set state(r){c.Message.setField(this,7,r)}get has_state(){return c.Message.getField(this,7)!=null}get score(){return c.Message.getFieldWithDefault(this,8,0)}set score(r){c.Message.setField(this,8,r)}get has_score(){return c.Message.getField(this,8)!=null}get wdTime(){return c.Message.getFieldWithDefault(this,9,0)}set wdTime(r){c.Message.setField(this,9,r)}get has_wdTime(){return c.Message.getField(this,9)!=null}get eatenIds(){return c.Message.getFieldWithDefault(this,10,[])}set eatenIds(r){c.Message.setField(this,10,r)}get dieTime(){return c.Message.getFieldWithDefault(this,11,0)}set dieTime(r){c.Message.setField(this,11,r)}get has_dieTime(){return c.Message.getField(this,11)!=null}get revive(){return c.Message.getFieldWithDefault(this,12,0)}set revive(r){c.Message.setField(this,12,r)}get has_revive(){return c.Message.getField(this,12)!=null}get food(){return c.Message.getRepeatedWrapperField(this,ue,13)}set food(r){c.Message.setRepeatedWrapperField(this,13,r)}get direction(){return c.Message.getFieldWithDefault(this,14,0)}set direction(r){c.Message.setField(this,14,r)}get has_direction(){return c.Message.getField(this,14)!=null}get frame(){return c.Message.getFieldWithDefault(this,15,0)}set frame(r){c.Message.setField(this,15,r)}get has_frame(){return c.Message.getField(this,15)!=null}get oprTime(){return c.Message.getFieldWithDefault(this,16,0)}set oprTime(r){c.Message.setField(this,16,r)}get has_oprTime(){return c.Message.getField(this,16)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,17,0)}set aimDir(r){c.Message.setField(this,17,r)}get has_aimDir(){return c.Message.getField(this,17)!=null}get length(){return c.Message.getFieldWithDefault(this,18,0)}set length(r){c.Message.setField(this,18,r)}get has_length(){return c.Message.getField(this,18)!=null}get enterTime(){return c.Message.getFieldWithDefault(this,19,0)}set enterTime(r){c.Message.setField(this,19,r)}get has_enterTime(){return c.Message.getField(this,19)!=null}get exp(){return c.Message.getFieldWithDefault(this,20,0)}set exp(r){c.Message.setField(this,20,r)}get has_exp(){return c.Message.getField(this,20)!=null}get result(){return c.Message.getWrapperField(this,l,21)}set result(r){c.Message.setWrapperField(this,21,r)}get has_result(){return c.Message.getField(this,21)!=null}get oprIndex(){return c.Message.getFieldWithDefault(this,22,0)}set oprIndex(r){c.Message.setField(this,22,r)}get has_oprIndex(){return c.Message.getField(this,22)!=null}get attr(){return c.Message.getFieldWithDefault(this,23,[])}set attr(r){c.Message.setField(this,23,r)}get skin(){return c.Message.getFieldWithDefault(this,24,0)}set skin(r){c.Message.setField(this,24,r)}get has_skin(){return c.Message.getField(this,24)!=null}static fromObject(r){let a=new Cc({snake:r.snake.map(h=>R.fromObject(h)),eatenIds:r.eatenIds,food:r.food.map(h=>ue.fromObject(h)),attr:r.attr});return r.roleId!=null&&(a.roleId=r.roleId),r.userName!=null&&(a.userName=r.userName),r.snakeId!=null&&(a.snakeId=r.snakeId),r.speed!=null&&(a.speed=r.speed),r.kills!=null&&(a.kills=r.kills),r.state!=null&&(a.state=r.state),r.score!=null&&(a.score=r.score),r.wdTime!=null&&(a.wdTime=r.wdTime),r.dieTime!=null&&(a.dieTime=r.dieTime),r.revive!=null&&(a.revive=r.revive),r.direction!=null&&(a.direction=r.direction),r.frame!=null&&(a.frame=r.frame),r.oprTime!=null&&(a.oprTime=r.oprTime),r.aimDir!=null&&(a.aimDir=r.aimDir),r.length!=null&&(a.length=r.length),r.enterTime!=null&&(a.enterTime=r.enterTime),r.exp!=null&&(a.exp=r.exp),r.result!=null&&(a.result=l.fromObject(r.result)),r.oprIndex!=null&&(a.oprIndex=r.oprIndex),r.skin!=null&&(a.skin=r.skin),a}toObject(){let r={eatenIds:this.eatenIds,attr:this.attr};return this.roleId!=null&&(r.roleId=this.roleId),this.userName!=null&&(r.userName=this.userName),this.snakeId!=null&&(r.snakeId=this.snakeId),this.speed!=null&&(r.speed=this.speed),this.snake!=null&&(r.snake=this.snake.map(a=>a.toObject())),this.kills!=null&&(r.kills=this.kills),this.state!=null&&(r.state=this.state),this.score!=null&&(r.score=this.score),this.wdTime!=null&&(r.wdTime=this.wdTime),this.dieTime!=null&&(r.dieTime=this.dieTime),this.revive!=null&&(r.revive=this.revive),this.food!=null&&(r.food=this.food.map(a=>a.toObject())),this.direction!=null&&(r.direction=this.direction),this.frame!=null&&(r.frame=this.frame),this.oprTime!=null&&(r.oprTime=this.oprTime),this.aimDir!=null&&(r.aimDir=this.aimDir),this.length!=null&&(r.length=this.length),this.enterTime!=null&&(r.enterTime=this.enterTime),this.exp!=null&&(r.exp=this.exp),this.result!=null&&(r.result=this.result.toObject()),this.oprIndex!=null&&(r.oprIndex=this.oprIndex),this.skin!=null&&(r.skin=this.skin),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_snakeId&&a.writeInt32(3,this.snakeId),this.has_speed&&a.writeFloat(4,this.speed),this.snake.length&&a.writeRepeatedMessage(5,this.snake,h=>h.serialize(a)),this.has_kills&&a.writeInt32(6,this.kills),this.has_state&&a.writeBool(7,this.state),this.has_score&&a.writeInt32(8,this.score),this.has_wdTime&&a.writeInt64(9,this.wdTime),this.eatenIds.length&&a.writeRepeatedString(10,this.eatenIds),this.has_dieTime&&a.writeInt64(11,this.dieTime),this.has_revive&&a.writeInt32(12,this.revive),this.food.length&&a.writeRepeatedMessage(13,this.food,h=>h.serialize(a)),this.has_direction&&a.writeFloat(14,this.direction),this.has_frame&&a.writeInt64(15,this.frame),this.has_oprTime&&a.writeInt64(16,this.oprTime),this.has_aimDir&&a.writeFloat(17,this.aimDir),this.has_length&&a.writeInt32(18,this.length),this.has_enterTime&&a.writeInt64(19,this.enterTime),this.has_exp&&a.writeInt32(20,this.exp),this.has_result&&a.writeMessage(21,this.result,()=>this.result.serialize(a)),this.has_oprIndex&&a.writeInt32(22,this.oprIndex),this.attr.length&&a.writeRepeatedString(23,this.attr),this.has_skin&&a.writeInt32(24,this.skin),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Cc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.snakeId=a.readInt32();break;case 4:h.speed=a.readFloat();break;case 5:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,5,R.deserialize(a),R));break;case 6:h.kills=a.readInt32();break;case 7:h.state=a.readBool();break;case 8:h.score=a.readInt32();break;case 9:h.wdTime=a.readInt64();break;case 10:c.Message.addToRepeatedField(h,10,a.readString());break;case 11:h.dieTime=a.readInt64();break;case 12:h.revive=a.readInt32();break;case 13:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,13,ue.deserialize(a),ue));break;case 14:h.direction=a.readFloat();break;case 15:h.frame=a.readInt64();break;case 16:h.oprTime=a.readInt64();break;case 17:h.aimDir=a.readFloat();break;case 18:h.length=a.readInt32();break;case 19:h.enterTime=a.readInt64();break;case 20:h.exp=a.readInt32();break;case 21:a.readMessage(h.result,()=>h.result=l.deserialize(a));break;case 22:h.oprIndex=a.readInt32();break;case 23:c.Message.addToRepeatedField(h,23,a.readString());break;case 24:h.skin=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Cc.deserialize(r)}};Qm=new WeakMap;let me=Cc;Sm.PlayerObject=Cc;let Ac=class Ac extends c.Message{constructor(r){super();ae(this,Xm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Xm)),!Array.isArray(r)&&typeof r=="object"&&"loc"in r&&r.loc!=null&&(this.loc=r.loc)}get loc(){return c.Message.getWrapperField(this,Fe,2)}set loc(r){c.Message.setWrapperField(this,2,r)}get has_loc(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Ac({});return r.loc!=null&&(a.loc=Fe.fromObject(r.loc)),a}toObject(){let r={};return this.loc!=null&&(r.loc=this.loc.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_loc&&a.writeMessage(2,this.loc,()=>this.loc.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ac;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:a.readMessage(h.loc,()=>h.loc=Fe.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ac.deserialize(r)}};Xm=new WeakMap;let R=Ac;Sm.SnakeObject=Ac;let Mc=class Mc extends c.Message{constructor(r){super();ae(this,Jm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Jm)),!Array.isArray(r)&&typeof r=="object"&&("x"in r&&r.x!=null&&(this.x=r.x),"y"in r&&r.y!=null&&(this.y=r.y))}get x(){return c.Message.getFieldWithDefault(this,1,0)}set x(r){c.Message.setField(this,1,r)}get has_x(){return c.Message.getField(this,1)!=null}get y(){return c.Message.getFieldWithDefault(this,2,0)}set y(r){c.Message.setField(this,2,r)}get has_y(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Mc({});return r.x!=null&&(a.x=r.x),r.y!=null&&(a.y=r.y),a}toObject(){let r={};return this.x!=null&&(r.x=this.x),this.y!=null&&(r.y=this.y),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_x&&a.writeDouble(1,this.x),this.has_y&&a.writeDouble(2,this.y),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Mc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.x=a.readDouble();break;case 2:h.y=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Mc.deserialize(r)}};Jm=new WeakMap;let Fe=Mc;Sm.PointObject=Mc;let Rc=class Rc extends c.Message{constructor(r){super();ae(this,Zm,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Zm)),!Array.isArray(r)&&typeof r=="object"&&("roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"opr"in r&&r.opr!=null&&(this.opr=r.opr),"value"in r&&r.value!=null&&(this.value=r.value),"head"in r&&r.head!=null&&(this.head=r.head),"frame"in r&&r.frame!=null&&(this.frame=r.frame),"curDir"in r&&r.curDir!=null&&(this.curDir=r.curDir),"aimDir"in r&&r.aimDir!=null&&(this.aimDir=r.aimDir),"speed"in r&&r.speed!=null&&(this.speed=r.speed),"oprIndex"in r&&r.oprIndex!=null&&(this.oprIndex=r.oprIndex))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get opr(){return c.Message.getFieldWithDefault(this,2,0)}set opr(r){c.Message.setField(this,2,r)}get has_opr(){return c.Message.getField(this,2)!=null}get value(){return c.Message.getFieldWithDefault(this,3,0)}set value(r){c.Message.setField(this,3,r)}get has_value(){return c.Message.getField(this,3)!=null}get head(){return c.Message.getWrapperField(this,R,4)}set head(r){c.Message.setWrapperField(this,4,r)}get has_head(){return c.Message.getField(this,4)!=null}get frame(){return c.Message.getFieldWithDefault(this,5,0)}set frame(r){c.Message.setField(this,5,r)}get has_frame(){return c.Message.getField(this,5)!=null}get curDir(){return c.Message.getFieldWithDefault(this,6,0)}set curDir(r){c.Message.setField(this,6,r)}get has_curDir(){return c.Message.getField(this,6)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,7,0)}set aimDir(r){c.Message.setField(this,7,r)}get has_aimDir(){return c.Message.getField(this,7)!=null}get speed(){return c.Message.getFieldWithDefault(this,8,0)}set speed(r){c.Message.setField(this,8,r)}get has_speed(){return c.Message.getField(this,8)!=null}get oprIndex(){return c.Message.getFieldWithDefault(this,10,0)}set oprIndex(r){c.Message.setField(this,10,r)}get has_oprIndex(){return c.Message.getField(this,10)!=null}static fromObject(r){let a=new Rc({});return r.roleId!=null&&(a.roleId=r.roleId),r.opr!=null&&(a.opr=r.opr),r.value!=null&&(a.value=r.value),r.head!=null&&(a.head=R.fromObject(r.head)),r.frame!=null&&(a.frame=r.frame),r.curDir!=null&&(a.curDir=r.curDir),r.aimDir!=null&&(a.aimDir=r.aimDir),r.speed!=null&&(a.speed=r.speed),r.oprIndex!=null&&(a.oprIndex=r.oprIndex),a}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.opr!=null&&(r.opr=this.opr),this.value!=null&&(r.value=this.value),this.head!=null&&(r.head=this.head.toObject()),this.frame!=null&&(r.frame=this.frame),this.curDir!=null&&(r.curDir=this.curDir),this.aimDir!=null&&(r.aimDir=this.aimDir),this.speed!=null&&(r.speed=this.speed),this.oprIndex!=null&&(r.oprIndex=this.oprIndex),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_opr&&a.writeInt32(2,this.opr),this.has_value&&a.writeInt32(3,this.value),this.has_head&&a.writeMessage(4,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(5,this.frame),this.has_curDir&&a.writeFloat(6,this.curDir),this.has_aimDir&&a.writeFloat(7,this.aimDir),this.has_speed&&a.writeFloat(8,this.speed),this.has_oprIndex&&a.writeInt32(10,this.oprIndex),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Rc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.opr=a.readInt32();break;case 3:h.value=a.readInt32();break;case 4:a.readMessage(h.head,()=>h.head=R.deserialize(a));break;case 5:h.frame=a.readInt64();break;case 6:h.curDir=a.readFloat();break;case 7:h.aimDir=a.readFloat();break;case 8:h.speed=a.readFloat();break;case 10:h.oprIndex=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Rc.deserialize(r)}};Zm=new WeakMap;let pe=Rc;Sm.CS_PLAYER_OPR=Rc;let Bc=class Bc extends c.Message{constructor(r){super();ae(this,eh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,eh)),!Array.isArray(r)&&typeof r=="object"&&(this.players=r.players,"frame"in r&&r.frame!=null&&(this.frame=r.frame))}get players(){return c.Message.getRepeatedWrapperField(this,me,1)}set players(r){c.Message.setRepeatedWrapperField(this,1,r)}get frame(){return c.Message.getFieldWithDefault(this,2,0)}set frame(r){c.Message.setField(this,2,r)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Bc({players:r.players.map(h=>me.fromObject(h))});return r.frame!=null&&(a.frame=r.frame),a}toObject(){let r={};return this.players!=null&&(r.players=this.players.map(a=>a.toObject())),this.frame!=null&&(r.frame=this.frame),r}serialize(r){let a=r||new c.BinaryWriter;if(this.players.length&&a.writeRepeatedMessage(1,this.players,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Bc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,1,me.deserialize(a),me));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Bc.deserialize(r)}};eh=new WeakMap;let $e=Bc;Sm.SC_PLAYER_STATE=Bc;let Dc=class Dc extends c.Message{constructor(r){super();ae(this,th,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,th)),!Array.isArray(r)&&typeof r=="object"&&(this.food=r.food,"frame"in r&&r.frame!=null&&(this.frame=r.frame))}get food(){return c.Message.getRepeatedWrapperField(this,ue,1)}set food(r){c.Message.setRepeatedWrapperField(this,1,r)}get frame(){return c.Message.getFieldWithDefault(this,2,0)}set frame(r){c.Message.setField(this,2,r)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Dc({food:r.food.map(h=>ue.fromObject(h))});return r.frame!=null&&(a.frame=r.frame),a}toObject(){let r={};return this.food!=null&&(r.food=this.food.map(a=>a.toObject())),this.frame!=null&&(r.frame=this.frame),r}serialize(r){let a=r||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Dc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,ue.deserialize(a),ue));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Dc.deserialize(r)}};th=new WeakMap;let Ct=Dc;Sm.SC_GEN_FOOD=Dc;let Oc=class Oc extends c.Message{constructor(r){super();ae(this,ih,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,ih)),!Array.isArray(r)&&typeof r=="object"&&"players"in r&&r.players!=null&&(this.players=r.players)}get players(){return c.Message.getWrapperField(this,me,2)}set players(r){c.Message.setWrapperField(this,2,r)}get has_players(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Oc({});return r.players!=null&&(a.players=me.fromObject(r.players)),a}toObject(){let r={};return this.players!=null&&(r.players=this.players.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_players&&a.writeMessage(2,this.players,()=>this.players.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Oc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:a.readMessage(h.players,()=>h.players=me.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Oc.deserialize(r)}};ih=new WeakMap;let si=Oc;Sm.SS_NOTICE_ENTER=Oc;let Nc=class Nc extends c.Message{constructor(r){super();ae(this,rh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[8,9],oe(this,rh)),!Array.isArray(r)&&typeof r=="object"&&("res"in r&&r.res!=null&&(this.res=r.res),"roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"rank"in r&&r.rank!=null&&(this.rank=r.rank),"score"in r&&r.score!=null&&(this.score=r.score),"kills"in r&&r.kills!=null&&(this.kills=r.kills),"length"in r&&r.length!=null&&(this.length=r.length),"alive"in r&&r.alive!=null&&(this.alive=r.alive),this.items=r.items,this.token=r.token)}get res(){return c.Message.getFieldWithDefault(this,1,!1)}set res(r){c.Message.setField(this,1,r)}get has_res(){return c.Message.getField(this,1)!=null}get roleId(){return c.Message.getFieldWithDefault(this,2,"")}set roleId(r){c.Message.setField(this,2,r)}get has_roleId(){return c.Message.getField(this,2)!=null}get rank(){return c.Message.getFieldWithDefault(this,3,0)}set rank(r){c.Message.setField(this,3,r)}get has_rank(){return c.Message.getField(this,3)!=null}get score(){return c.Message.getFieldWithDefault(this,4,0)}set score(r){c.Message.setField(this,4,r)}get has_score(){return c.Message.getField(this,4)!=null}get kills(){return c.Message.getFieldWithDefault(this,5,0)}set kills(r){c.Message.setField(this,5,r)}get has_kills(){return c.Message.getField(this,5)!=null}get length(){return c.Message.getFieldWithDefault(this,6,0)}set length(r){c.Message.setField(this,6,r)}get has_length(){return c.Message.getField(this,6)!=null}get alive(){return c.Message.getFieldWithDefault(this,7,0)}set alive(r){c.Message.setField(this,7,r)}get has_alive(){return c.Message.getField(this,7)!=null}get items(){return c.Message.getRepeatedWrapperField(this,U,8)}set items(r){c.Message.setRepeatedWrapperField(this,8,r)}get token(){return c.Message.getFieldWithDefault(this,9,[])}set token(r){c.Message.setField(this,9,r)}static fromObject(r){let a=new Nc({items:r.items.map(h=>U.fromObject(h)),token:r.token});return r.res!=null&&(a.res=r.res),r.roleId!=null&&(a.roleId=r.roleId),r.rank!=null&&(a.rank=r.rank),r.score!=null&&(a.score=r.score),r.kills!=null&&(a.kills=r.kills),r.length!=null&&(a.length=r.length),r.alive!=null&&(a.alive=r.alive),a}toObject(){let r={token:this.token};return this.res!=null&&(r.res=this.res),this.roleId!=null&&(r.roleId=this.roleId),this.rank!=null&&(r.rank=this.rank),this.score!=null&&(r.score=this.score),this.kills!=null&&(r.kills=this.kills),this.length!=null&&(r.length=this.length),this.alive!=null&&(r.alive=this.alive),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_res&&a.writeBool(1,this.res),this.has_roleId&&this.roleId.length&&a.writeString(2,this.roleId),this.has_rank&&a.writeInt32(3,this.rank),this.has_score&&a.writeInt32(4,this.score),this.has_kills&&a.writeInt32(5,this.kills),this.has_length&&a.writeInt32(6,this.length),this.has_alive&&a.writeInt32(7,this.alive),this.items.length&&a.writeRepeatedMessage(8,this.items,h=>h.serialize(a)),this.token.length&&a.writeRepeatedString(9,this.token),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Nc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.res=a.readBool();break;case 2:h.roleId=a.readString();break;case 3:h.rank=a.readInt32();break;case 4:h.score=a.readInt32();break;case 5:h.kills=a.readInt32();break;case 6:h.length=a.readInt32();break;case 7:h.alive=a.readInt32();break;case 8:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,8,U.deserialize(a),U));break;case 9:c.Message.addToRepeatedField(h,9,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Nc.deserialize(r)}};rh=new WeakMap;let Li=Nc;Sm.SC_BATTLE_END=Nc;let Fc=class Fc extends c.Message{constructor(r){super();ae(this,sh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,sh)),!Array.isArray(r)&&typeof r=="object"&&(this.fid=r.fid,"head"in r&&r.head!=null&&(this.head=r.head),this.roleId=r.roleId,"frame"in r&&r.frame!=null&&(this.frame=r.frame))}get fid(){return c.Message.getFieldWithDefault(this,1,[])}set fid(r){c.Message.setField(this,1,r)}get head(){return c.Message.getWrapperField(this,R,2)}set head(r){c.Message.setWrapperField(this,2,r)}get has_head(){return c.Message.getField(this,2)!=null}get roleId(){return c.Message.getField(this,3)}set roleId(r){c.Message.setField(this,3,r)}get has_roleId(){return c.Message.getField(this,3)!=null}get frame(){return c.Message.getFieldWithDefault(this,4,0)}set frame(r){c.Message.setField(this,4,r)}get has_frame(){return c.Message.getField(this,4)!=null}static fromObject(r){let a=new Fc({fid:r.fid,roleId:r.roleId});return r.head!=null&&(a.head=R.fromObject(r.head)),r.frame!=null&&(a.frame=r.frame),a}toObject(){let r={fid:this.fid};return this.head!=null&&(r.head=this.head.toObject()),this.roleId!=null&&(r.roleId=this.roleId),this.frame!=null&&(r.frame=this.frame),r}serialize(r){let a=r||new c.BinaryWriter;if(this.fid.length&&a.writeRepeatedString(1,this.fid),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_roleId&&this.roleId.length&&a.writeString(3,this.roleId),this.has_frame&&a.writeInt64(4,this.frame),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Fc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:a.readMessage(h.head,()=>h.head=R.deserialize(a));break;case 3:h.roleId=a.readString();break;case 4:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Fc.deserialize(r)}};sh=new WeakMap;let wt=Fc;Sm.CS_EAT_FOOD=Fc;let Pc=class Pc extends c.Message{constructor(r){super();ae(this,nh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,7],oe(this,nh)),!Array.isArray(r)&&typeof r=="object"&&(this.fid=r.fid,"head"in r&&r.head!=null&&(this.head=r.head),"frame"in r&&r.frame!=null&&(this.frame=r.frame),"score"in r&&r.score!=null&&(this.score=r.score),"lenght"in r&&r.lenght!=null&&(this.lenght=r.lenght),this.roleId=r.roleId,this.remain=r.remain,"curDir"in r&&r.curDir!=null&&(this.curDir=r.curDir),"aimDir"in r&&r.aimDir!=null&&(this.aimDir=r.aimDir),"speed"in r&&r.speed!=null&&(this.speed=r.speed))}get fid(){return c.Message.getFieldWithDefault(this,1,[])}set fid(r){c.Message.setField(this,1,r)}get head(){return c.Message.getWrapperField(this,R,2)}set head(r){c.Message.setWrapperField(this,2,r)}get has_head(){return c.Message.getField(this,2)!=null}get frame(){return c.Message.getFieldWithDefault(this,3,0)}set frame(r){c.Message.setField(this,3,r)}get has_frame(){return c.Message.getField(this,3)!=null}get score(){return c.Message.getFieldWithDefault(this,4,0)}set score(r){c.Message.setField(this,4,r)}get has_score(){return c.Message.getField(this,4)!=null}get lenght(){return c.Message.getFieldWithDefault(this,5,0)}set lenght(r){c.Message.setField(this,5,r)}get has_lenght(){return c.Message.getField(this,5)!=null}get roleId(){return c.Message.getField(this,6)}set roleId(r){c.Message.setField(this,6,r)}get has_roleId(){return c.Message.getField(this,6)!=null}get remain(){return c.Message.getFieldWithDefault(this,7,[])}set remain(r){c.Message.setField(this,7,r)}get curDir(){return c.Message.getFieldWithDefault(this,8,0)}set curDir(r){c.Message.setField(this,8,r)}get has_curDir(){return c.Message.getField(this,8)!=null}get aimDir(){return c.Message.getFieldWithDefault(this,9,0)}set aimDir(r){c.Message.setField(this,9,r)}get has_aimDir(){return c.Message.getField(this,9)!=null}get speed(){return c.Message.getFieldWithDefault(this,10,0)}set speed(r){c.Message.setField(this,10,r)}get has_speed(){return c.Message.getField(this,10)!=null}static fromObject(r){let a=new Pc({fid:r.fid,roleId:r.roleId,remain:r.remain});return r.head!=null&&(a.head=R.fromObject(r.head)),r.frame!=null&&(a.frame=r.frame),r.score!=null&&(a.score=r.score),r.lenght!=null&&(a.lenght=r.lenght),r.curDir!=null&&(a.curDir=r.curDir),r.aimDir!=null&&(a.aimDir=r.aimDir),r.speed!=null&&(a.speed=r.speed),a}toObject(){let r={fid:this.fid,remain:this.remain};return this.head!=null&&(r.head=this.head.toObject()),this.frame!=null&&(r.frame=this.frame),this.score!=null&&(r.score=this.score),this.lenght!=null&&(r.lenght=this.lenght),this.roleId!=null&&(r.roleId=this.roleId),this.curDir!=null&&(r.curDir=this.curDir),this.aimDir!=null&&(r.aimDir=this.aimDir),this.speed!=null&&(r.speed=this.speed),r}serialize(r){let a=r||new c.BinaryWriter;if(this.fid.length&&a.writeRepeatedString(1,this.fid),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(3,this.frame),this.has_score&&a.writeInt32(4,this.score),this.has_lenght&&a.writeInt32(5,this.lenght),this.has_roleId&&this.roleId.length&&a.writeString(6,this.roleId),this.remain.length&&a.writeRepeatedString(7,this.remain),this.has_curDir&&a.writeFloat(8,this.curDir),this.has_aimDir&&a.writeFloat(9,this.aimDir),this.has_speed&&a.writeFloat(10,this.speed),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Pc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:a.readMessage(h.head,()=>h.head=R.deserialize(a));break;case 3:h.frame=a.readInt64();break;case 4:h.score=a.readInt32();break;case 5:h.lenght=a.readInt32();break;case 6:h.roleId=a.readString();break;case 7:c.Message.addToRepeatedField(h,7,a.readString());break;case 8:h.curDir=a.readFloat();break;case 9:h.aimDir=a.readFloat();break;case 10:h.speed=a.readFloat();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Pc.deserialize(r)}};nh=new WeakMap;let or=Pc;Sm.SC_EAT_FOOD=Pc;let Uc=class Uc extends c.Message{constructor(r){super();ae(this,oh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,oh)),!Array.isArray(r)&&typeof r=="object"&&("target"in r&&r.target!=null&&(this.target=r.target),"head"in r&&r.head!=null&&(this.head=r.head),"frame"in r&&r.frame!=null&&(this.frame=r.frame),"body"in r&&r.body!=null&&(this.body=r.body),"roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"thead"in r&&r.thead!=null&&(this.thead=r.thead),"point"in r&&r.point!=null&&(this.point=r.point))}get target(){return c.Message.getFieldWithDefault(this,1,"")}set target(r){c.Message.setField(this,1,r)}get has_target(){return c.Message.getField(this,1)!=null}get head(){return c.Message.getWrapperField(this,R,2)}set head(r){c.Message.setWrapperField(this,2,r)}get has_head(){return c.Message.getField(this,2)!=null}get frame(){return c.Message.getFieldWithDefault(this,3,0)}set frame(r){c.Message.setField(this,3,r)}get has_frame(){return c.Message.getField(this,3)!=null}get body(){return c.Message.getFieldWithDefault(this,4,!1)}set body(r){c.Message.setField(this,4,r)}get has_body(){return c.Message.getField(this,4)!=null}get roleId(){return c.Message.getFieldWithDefault(this,5,"")}set roleId(r){c.Message.setField(this,5,r)}get has_roleId(){return c.Message.getField(this,5)!=null}get thead(){return c.Message.getWrapperField(this,R,6)}set thead(r){c.Message.setWrapperField(this,6,r)}get has_thead(){return c.Message.getField(this,6)!=null}get point(){return c.Message.getWrapperField(this,Fe,7)}set point(r){c.Message.setWrapperField(this,7,r)}get has_point(){return c.Message.getField(this,7)!=null}static fromObject(r){let a=new Uc({});return r.target!=null&&(a.target=r.target),r.head!=null&&(a.head=R.fromObject(r.head)),r.frame!=null&&(a.frame=r.frame),r.body!=null&&(a.body=r.body),r.roleId!=null&&(a.roleId=r.roleId),r.thead!=null&&(a.thead=R.fromObject(r.thead)),r.point!=null&&(a.point=Fe.fromObject(r.point)),a}toObject(){let r={};return this.target!=null&&(r.target=this.target),this.head!=null&&(r.head=this.head.toObject()),this.frame!=null&&(r.frame=this.frame),this.body!=null&&(r.body=this.body),this.roleId!=null&&(r.roleId=this.roleId),this.thead!=null&&(r.thead=this.thead.toObject()),this.point!=null&&(r.point=this.point.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_target&&this.target.length&&a.writeString(1,this.target),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.has_frame&&a.writeInt64(3,this.frame),this.has_body&&a.writeBool(4,this.body),this.has_roleId&&this.roleId.length&&a.writeString(5,this.roleId),this.has_thead&&a.writeMessage(6,this.thead,()=>this.thead.serialize(a)),this.has_point&&a.writeMessage(7,this.point,()=>this.point.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Uc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.target=a.readString();break;case 2:a.readMessage(h.head,()=>h.head=R.deserialize(a));break;case 3:h.frame=a.readInt64();break;case 4:h.body=a.readBool();break;case 5:h.roleId=a.readString();break;case 6:a.readMessage(h.thead,()=>h.thead=R.deserialize(a));break;case 7:a.readMessage(h.point,()=>h.point=Fe.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Uc.deserialize(r)}};oh=new WeakMap;let Xi=Uc;Sm.CS_PLAYER_COLLISION=Uc;let Hc=class Hc extends c.Message{constructor(r){super();ae(this,ah,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[4],oe(this,ah)),!Array.isArray(r)&&typeof r=="object"&&("roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"head"in r&&r.head!=null&&(this.head=r.head),this.food=r.food,"taret"in r&&r.taret!=null&&(this.taret=r.taret),"frame"in r&&r.frame!=null&&(this.frame=r.frame),"die"in r&&r.die!=null&&(this.die=r.die))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get head(){return c.Message.getWrapperField(this,R,2)}set head(r){c.Message.setWrapperField(this,2,r)}get has_head(){return c.Message.getField(this,2)!=null}get food(){return c.Message.getRepeatedWrapperField(this,ue,4)}set food(r){c.Message.setRepeatedWrapperField(this,4,r)}get taret(){return c.Message.getFieldWithDefault(this,5,"")}set taret(r){c.Message.setField(this,5,r)}get has_taret(){return c.Message.getField(this,5)!=null}get frame(){return c.Message.getFieldWithDefault(this,6,0)}set frame(r){c.Message.setField(this,6,r)}get has_frame(){return c.Message.getField(this,6)!=null}get die(){return c.Message.getFieldWithDefault(this,10,"")}set die(r){c.Message.setField(this,10,r)}get has_die(){return c.Message.getField(this,10)!=null}static fromObject(r){let a=new Hc({food:r.food.map(h=>ue.fromObject(h))});return r.roleId!=null&&(a.roleId=r.roleId),r.head!=null&&(a.head=R.fromObject(r.head)),r.taret!=null&&(a.taret=r.taret),r.frame!=null&&(a.frame=r.frame),r.die!=null&&(a.die=r.die),a}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.head!=null&&(r.head=this.head.toObject()),this.food!=null&&(r.food=this.food.map(a=>a.toObject())),this.taret!=null&&(r.taret=this.taret),this.frame!=null&&(r.frame=this.frame),this.die!=null&&(r.die=this.die),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_head&&a.writeMessage(2,this.head,()=>this.head.serialize(a)),this.food.length&&a.writeRepeatedMessage(4,this.food,h=>h.serialize(a)),this.has_taret&&this.taret.length&&a.writeString(5,this.taret),this.has_frame&&a.writeInt64(6,this.frame),this.has_die&&this.die.length&&a.writeString(10,this.die),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Hc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:a.readMessage(h.head,()=>h.head=R.deserialize(a));break;case 4:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,4,ue.deserialize(a),ue));break;case 5:h.taret=a.readString();break;case 6:h.frame=a.readInt64();break;case 10:h.die=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Hc.deserialize(r)}};ah=new WeakMap;let Ar=Hc;Sm.SC_PLAYER_COLLISION=Hc;let zc=class zc extends c.Message{constructor(r){super();ae(this,lh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,lh)),!Array.isArray(r)&&typeof r=="object"&&"time"in r&&r.time!=null&&(this.time=r.time)}get time(){return c.Message.getFieldWithDefault(this,1,0)}set time(r){c.Message.setField(this,1,r)}get has_time(){return c.Message.getField(this,1)!=null}static fromObject(r){let a=new zc({});return r.time!=null&&(a.time=r.time),a}toObject(){let r={};return this.time!=null&&(r.time=this.time),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_time&&a.writeInt64(1,this.time),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new zc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.time=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return zc.deserialize(r)}};lh=new WeakMap;let Mr=zc;Sm.SC_REQUEST_SERVER_TIME=zc;let jc=class jc extends c.Message{constructor(r){super();ae(this,ch,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,ch)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new jc({roleId:r.roleId})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new jc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return jc.deserialize(r)}};ch=new WeakMap;let $r=jc;Sm.CS_REQUEST_ROOM_DATA=jc;let Gc=class Gc extends c.Message{constructor(r){super();ae(this,uh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,2],oe(this,uh)),!Array.isArray(r)&&typeof r=="object"&&(this.food=r.food,this.players=r.players)}get food(){return c.Message.getRepeatedWrapperField(this,ue,1)}set food(r){c.Message.setRepeatedWrapperField(this,1,r)}get players(){return c.Message.getRepeatedWrapperField(this,me,2)}set players(r){c.Message.setRepeatedWrapperField(this,2,r)}static fromObject(r){return new Gc({food:r.food.map(h=>ue.fromObject(h)),players:r.players.map(h=>me.fromObject(h))})}toObject(){let r={};return this.food!=null&&(r.food=this.food.map(a=>a.toObject())),this.players!=null&&(r.players=this.players.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.food.length&&a.writeRepeatedMessage(1,this.food,h=>h.serialize(a)),this.players.length&&a.writeRepeatedMessage(2,this.players,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Gc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.food,()=>c.Message.addToRepeatedWrapperField(h,1,ue.deserialize(a),ue));break;case 2:a.readMessage(h.players,()=>c.Message.addToRepeatedWrapperField(h,2,me.deserialize(a),me));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Gc.deserialize(r)}};uh=new WeakMap;let yn=Gc;Sm.SC_REQUEST_ROOM_DATA=Gc;let Vc=class Vc extends c.Message{constructor(r){super();ae(this,ph,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,ph)),!Array.isArray(r)&&typeof r=="object"&&(this.pageNo=r.pageNo,this.pageSize=r.pageSize)}get pageNo(){return c.Message.getField(this,1)}set pageNo(r){c.Message.setField(this,1,r)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(r){c.Message.setField(this,2,r)}get has_pageSize(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Vc({pageNo:r.pageNo,pageSize:r.pageSize})}toObject(){let r={};return this.pageNo!=null&&(r.pageNo=this.pageNo),this.pageSize!=null&&(r.pageSize=this.pageSize),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Vc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Vc.deserialize(r)}};ph=new WeakMap;let qr=Vc;Sm.CS_INVITE_LIST=Vc;let Wc=class Wc extends c.Message{constructor(r){super();ae(this,mh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,mh)),!Array.isArray(r)&&typeof r=="object"&&(this.info=r.info,"inviteCount"in r&&r.inviteCount!=null&&(this.inviteCount=r.inviteCount))}get info(){return c.Message.getFieldWithDefault(this,1,[])}set info(r){c.Message.setField(this,1,r)}get inviteCount(){return c.Message.getFieldWithDefault(this,2,0)}set inviteCount(r){c.Message.setField(this,2,r)}get has_inviteCount(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Wc({info:r.info});return r.inviteCount!=null&&(a.inviteCount=r.inviteCount),a}toObject(){let r={info:this.info};return this.inviteCount!=null&&(r.inviteCount=this.inviteCount),r}serialize(r){let a=r||new c.BinaryWriter;if(this.info.length&&a.writeRepeatedString(1,this.info),this.has_inviteCount&&a.writeInt32(2,this.inviteCount),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Wc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:h.inviteCount=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Wc.deserialize(r)}};mh=new WeakMap;let br=Wc;Sm.SC_INVITE_LIST=Wc;let Kc=class Kc extends c.Message{constructor(r){super();ae(this,hh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,hh)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,"type"in r&&r.type!=null&&(this.type=r.type))}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getFieldWithDefault(this,2,0)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Kc({roleId:r.roleId});return r.type!=null&&(a.type=r.type),a}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_type&&a.writeInt32(2,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Kc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Kc.deserialize(r)}};hh=new WeakMap;let _s=Kc;Sm.CS_REQUEST_INFO=Kc;let $c=class $c extends c.Message{constructor(r){super();ae(this,dh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,dh)),!Array.isArray(r)&&typeof r=="object"&&(this.roleInfo=r.roleInfo)}get roleInfo(){return c.Message.getWrapperField(this,D,1)}set roleInfo(r){c.Message.setWrapperField(this,1,r)}get has_roleInfo(){return c.Message.getField(this,1)!=null}static fromObject(r){return new $c({roleInfo:D.fromObject(r.roleInfo)})}toObject(){let r={};return this.roleInfo!=null&&(r.roleInfo=this.roleInfo.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleInfo&&a.writeMessage(1,this.roleInfo,()=>this.roleInfo.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new $c;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>h.roleInfo=D.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return $c.deserialize(r)}};dh=new WeakMap;let Yr=$c;Sm.SC_REQUEST_INFO=$c;let qc=class qc extends c.Message{constructor(r){super();ae(this,fh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,fh)),!Array.isArray(r)&&typeof r=="object"&&(this.id=r.id,"symbolId"in r&&r.symbolId!=null&&(this.symbolId=r.symbolId),"num"in r&&r.num!=null&&(this.num=r.num))}get id(){return c.Message.getField(this,1)}set id(r){c.Message.setField(this,1,r)}get has_id(){return c.Message.getField(this,1)!=null}get symbolId(){return c.Message.getFieldWithDefault(this,2,0)}set symbolId(r){c.Message.setField(this,2,r)}get has_symbolId(){return c.Message.getField(this,2)!=null}get num(){return c.Message.getFieldWithDefault(this,3,0)}set num(r){c.Message.setField(this,3,r)}get has_num(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new qc({id:r.id});return r.symbolId!=null&&(a.symbolId=r.symbolId),r.num!=null&&(a.num=r.num),a}toObject(){let r={};return this.id!=null&&(r.id=this.id),this.symbolId!=null&&(r.symbolId=this.symbolId),this.num!=null&&(r.num=this.num),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_id&&a.writeInt32(1,this.id),this.has_symbolId&&a.writeInt32(2,this.symbolId),this.has_num&&a.writeInt32(3,this.num),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new qc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.id=a.readInt32();break;case 2:h.symbolId=a.readInt32();break;case 3:h.num=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return qc.deserialize(r)}};fh=new WeakMap;let go=qc;Sm.CS_SHOP_BUY=qc;let Yc=class Yc extends c.Message{constructor(r){super();ae(this,gh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,2],oe(this,gh)),!Array.isArray(r)&&typeof r=="object"&&(this.cost=r.cost,this.items=r.items,"snake"in r&&r.snake!=null&&(this.snake=r.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,U,1)}set cost(r){c.Message.setRepeatedWrapperField(this,1,r)}get items(){return c.Message.getRepeatedWrapperField(this,U,2)}set items(r){c.Message.setRepeatedWrapperField(this,2,r)}get snake(){return c.Message.getWrapperField(this,W,3)}set snake(r){c.Message.setWrapperField(this,3,r)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new Yc({cost:r.cost.map(h=>U.fromObject(h)),items:r.items.map(h=>U.fromObject(h))});return r.snake!=null&&(a.snake=W.fromObject(r.snake)),a}toObject(){let r={};return this.cost!=null&&(r.cost=this.cost.map(a=>a.toObject())),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.snake!=null&&(r.snake=this.snake.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Yc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,U.deserialize(a),U));break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,U.deserialize(a),U));break;case 3:a.readMessage(h.snake,()=>h.snake=W.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Yc.deserialize(r)}};gh=new WeakMap;let _a=Yc;Sm.SC_SHOP_BUY=Yc;let Qc=class Qc extends c.Message{constructor(r){super();ae(this,bh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,bh)),!Array.isArray(r)&&typeof r=="object"&&(this.msgList=r.msgList,this.frame=r.frame)}get msgList(){return c.Message.getRepeatedWrapperField(this,l,1)}set msgList(r){c.Message.setRepeatedWrapperField(this,1,r)}get frame(){return c.Message.getField(this,2)}set frame(r){c.Message.setField(this,2,r)}get has_frame(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Qc({msgList:r.msgList.map(h=>l.fromObject(h)),frame:r.frame})}toObject(){let r={};return this.msgList!=null&&(r.msgList=this.msgList.map(a=>a.toObject())),this.frame!=null&&(r.frame=this.frame),r}serialize(r){let a=r||new c.BinaryWriter;if(this.msgList.length&&a.writeRepeatedMessage(1,this.msgList,h=>h.serialize(a)),this.has_frame&&a.writeInt64(2,this.frame),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Qc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.msgList,()=>c.Message.addToRepeatedWrapperField(h,1,l.deserialize(a),l));break;case 2:h.frame=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Qc.deserialize(r)}};bh=new WeakMap;let vm=Qc;Sm.SC_PUSH=Qc;let Xc=class Xc extends c.Message{constructor(r){super();ae(this,yh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,yh)),!Array.isArray(r)&&typeof r=="object"&&(this.token=r.token)}get token(){return c.Message.getFieldWithDefault(this,1,[])}set token(r){c.Message.setField(this,1,r)}static fromObject(r){return new Xc({token:r.token})}toObject(){return{token:this.token}}serialize(r){let a=r||new c.BinaryWriter;if(this.token.length&&a.writeRepeatedString(1,this.token),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Xc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Xc.deserialize(r)}};yh=new WeakMap;let bo=Xc;Sm.SC_QUERY_TOKEN=Xc;let Jc=class Jc extends c.Message{constructor(r){super();ae(this,_h,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,_h)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new Jc({roleId:r.roleId})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Jc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Jc.deserialize(r)}};_h=new WeakMap;let tc=Jc;Sm.SC_PLAYER_OUT=Jc;let Zc=class Zc extends c.Message{constructor(r){super();ae(this,xh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,xh)),!Array.isArray(r)&&typeof r=="object"&&"symbolId"in r&&r.symbolId!=null&&(this.symbolId=r.symbolId)}get symbolId(){return c.Message.getFieldWithDefault(this,2,0)}set symbolId(r){c.Message.setField(this,2,r)}get has_symbolId(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Zc({});return r.symbolId!=null&&(a.symbolId=r.symbolId),a}toObject(){let r={};return this.symbolId!=null&&(r.symbolId=this.symbolId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(2,this.symbolId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Zc;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 2:h.symbolId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Zc.deserialize(r)}};xh=new WeakMap;let xa=Zc;Sm.CS_CHARGE=Zc;let eu=class eu extends c.Message{constructor(r){super();ae(this,vh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,vh)),!Array.isArray(r)&&typeof r=="object"&&("symbolId"in r&&r.symbolId!=null&&(this.symbolId=r.symbolId),"depositAddress"in r&&r.depositAddress!=null&&(this.depositAddress=r.depositAddress),"abi"in r&&r.abi!=null&&(this.abi=r.abi),"chainId"in r&&r.chainId!=null&&(this.chainId=r.chainId))}get symbolId(){return c.Message.getFieldWithDefault(this,1,0)}set symbolId(r){c.Message.setField(this,1,r)}get has_symbolId(){return c.Message.getField(this,1)!=null}get depositAddress(){return c.Message.getFieldWithDefault(this,2,"")}set depositAddress(r){c.Message.setField(this,2,r)}get has_depositAddress(){return c.Message.getField(this,2)!=null}get abi(){return c.Message.getFieldWithDefault(this,3,"")}set abi(r){c.Message.setField(this,3,r)}get has_abi(){return c.Message.getField(this,3)!=null}get chainId(){return c.Message.getFieldWithDefault(this,4,0)}set chainId(r){c.Message.setField(this,4,r)}get has_chainId(){return c.Message.getField(this,4)!=null}static fromObject(r){let a=new eu({});return r.symbolId!=null&&(a.symbolId=r.symbolId),r.depositAddress!=null&&(a.depositAddress=r.depositAddress),r.abi!=null&&(a.abi=r.abi),r.chainId!=null&&(a.chainId=r.chainId),a}toObject(){let r={};return this.symbolId!=null&&(r.symbolId=this.symbolId),this.depositAddress!=null&&(r.depositAddress=this.depositAddress),this.abi!=null&&(r.abi=this.abi),this.chainId!=null&&(r.chainId=this.chainId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),this.has_depositAddress&&this.depositAddress.length&&a.writeString(2,this.depositAddress),this.has_abi&&this.abi.length&&a.writeString(3,this.abi),this.has_chainId&&a.writeInt32(4,this.chainId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new eu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;case 2:h.depositAddress=a.readString();break;case 3:h.abi=a.readString();break;case 4:h.chainId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return eu.deserialize(r)}};vh=new WeakMap;let ic=eu;Sm.SC_CHARGE=eu;let tu=class tu extends c.Message{constructor(r){super();ae(this,Ih,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Ih)),!Array.isArray(r)&&typeof r=="object"&&(this.symbolId=r.symbolId,this.amount=r.amount)}get symbolId(){return c.Message.getField(this,1)}set symbolId(r){c.Message.setField(this,1,r)}get has_symbolId(){return c.Message.getField(this,1)!=null}get amount(){return c.Message.getField(this,2)}set amount(r){c.Message.setField(this,2,r)}get has_amount(){return c.Message.getField(this,2)!=null}static fromObject(r){return new tu({symbolId:r.symbolId,amount:r.amount})}toObject(){let r={};return this.symbolId!=null&&(r.symbolId=this.symbolId),this.amount!=null&&(r.amount=this.amount),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),this.has_amount&&a.writeDouble(2,this.amount),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new tu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;case 2:h.amount=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return tu.deserialize(r)}};Ih=new WeakMap;let Im=tu;Sm.CS_WITHDRAW=tu;let iu=class iu extends c.Message{constructor(r){super();ae(this,Sh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Sh)),!Array.isArray(r)&&typeof r=="object"&&"resp"in r&&r.resp!=null&&(this.resp=r.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,"")}set resp(r){c.Message.setField(this,1,r)}get has_resp(){return c.Message.getField(this,1)!=null}static fromObject(r){let a=new iu({});return r.resp!=null&&(a.resp=r.resp),a}toObject(){let r={};return this.resp!=null&&(r.resp=this.resp),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_resp&&this.resp.length&&a.writeString(1,this.resp),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new iu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.resp=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return iu.deserialize(r)}};Sh=new WeakMap;let F=iu;Sm.SC_WITHDRAW=iu;let ru=class ru extends c.Message{constructor(r){super();ae(this,kh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,kh)),!Array.isArray(r)&&typeof r=="object"&&(this.roleInfo=r.roleInfo)}get roleInfo(){return c.Message.getRepeatedWrapperField(this,D,1)}set roleInfo(r){c.Message.setRepeatedWrapperField(this,1,r)}static fromObject(r){return new ru({roleInfo:r.roleInfo.map(h=>D.fromObject(h))})}toObject(){let r={};return this.roleInfo!=null&&(r.roleInfo=this.roleInfo.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.roleInfo.length&&a.writeRepeatedMessage(1,this.roleInfo,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new ru;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.roleInfo,()=>c.Message.addToRepeatedWrapperField(h,1,D.deserialize(a),D));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return ru.deserialize(r)}};kh=new WeakMap;let k=ru;Sm.SS_UPDATE_ROLE=ru;let su=class su extends c.Message{constructor(r){super();ae(this,Eh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Eh)),!Array.isArray(r)&&typeof r=="object"&&(this.ids=r.ids)}get ids(){return c.Message.getFieldWithDefault(this,1,[])}set ids(r){c.Message.setField(this,1,r)}static fromObject(r){return new su({ids:r.ids})}toObject(){return{ids:this.ids}}serialize(r){let a=r||new c.BinaryWriter;if(this.ids.length&&a.writeRepeatedString(1,this.ids),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new su;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return su.deserialize(r)}};Eh=new WeakMap;let B=su;Sm.SS_UPDATE_CALLBACK=su;let nu=class nu extends c.Message{constructor(r){super();ae(this,Lh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,2],oe(this,Lh)),!Array.isArray(r)&&typeof r=="object"&&(this.items=r.items,this.snake=r.snake)}get items(){return c.Message.getRepeatedWrapperField(this,U,1)}set items(r){c.Message.setRepeatedWrapperField(this,1,r)}get snake(){return c.Message.getRepeatedWrapperField(this,W,2)}set snake(r){c.Message.setRepeatedWrapperField(this,2,r)}static fromObject(r){return new nu({items:r.items.map(h=>U.fromObject(h)),snake:r.snake.map(h=>W.fromObject(h))})}toObject(){let r={};return this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.snake!=null&&(r.snake=this.snake.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.items.length&&a.writeRepeatedMessage(1,this.items,h=>h.serialize(a)),this.snake.length&&a.writeRepeatedMessage(2,this.snake,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new nu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,1,U.deserialize(a),U));break;case 2:a.readMessage(h.snake,()=>c.Message.addToRepeatedWrapperField(h,2,W.deserialize(a),W));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return nu.deserialize(r)}};Lh=new WeakMap;let N=nu;Sm.SC_PACK_INFO=nu;let ou=class ou extends c.Message{constructor(r){super();ae(this,wh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,wh)),!Array.isArray(r)&&typeof r=="object"&&(this.toAddress=r.toAddress,this.symbolId=r.symbolId,this.amount=r.amount)}get toAddress(){return c.Message.getField(this,1)}set toAddress(r){c.Message.setField(this,1,r)}get has_toAddress(){return c.Message.getField(this,1)!=null}get symbolId(){return c.Message.getField(this,2)}set symbolId(r){c.Message.setField(this,2,r)}get has_symbolId(){return c.Message.getField(this,2)!=null}get amount(){return c.Message.getField(this,3)}set amount(r){c.Message.setField(this,3,r)}get has_amount(){return c.Message.getField(this,3)!=null}static fromObject(r){return new ou({toAddress:r.toAddress,symbolId:r.symbolId,amount:r.amount})}toObject(){let r={};return this.toAddress!=null&&(r.toAddress=this.toAddress),this.symbolId!=null&&(r.symbolId=this.symbolId),this.amount!=null&&(r.amount=this.amount),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_toAddress&&this.toAddress.length&&a.writeString(1,this.toAddress),this.has_symbolId&&a.writeInt32(2,this.symbolId),this.has_amount&&a.writeDouble(3,this.amount),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new ou;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.toAddress=a.readString();break;case 2:h.symbolId=a.readInt32();break;case 3:h.amount=a.readDouble();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return ou.deserialize(r)}};wh=new WeakMap;let z=ou;Sm.CS_TRANSFER=ou;let au=class au extends c.Message{constructor(r){super();ae(this,Th,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Th)),!Array.isArray(r)&&typeof r=="object"&&(this.symbolId=r.symbolId)}get symbolId(){return c.Message.getField(this,1)}set symbolId(r){c.Message.setField(this,1,r)}get has_symbolId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new au({symbolId:r.symbolId})}toObject(){let r={};return this.symbolId!=null&&(r.symbolId=this.symbolId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_symbolId&&a.writeInt32(1,this.symbolId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new au;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.symbolId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return au.deserialize(r)}};Th=new WeakMap;let C=au;Sm.CS_WITHDRAW_INFO=au;let lu=class lu extends c.Message{constructor(r){super();ae(this,Ch,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Ch)),!Array.isArray(r)&&typeof r=="object"&&"resp"in r&&r.resp!=null&&(this.resp=r.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,"")}set resp(r){c.Message.setField(this,1,r)}get has_resp(){return c.Message.getField(this,1)!=null}static fromObject(r){let a=new lu({});return r.resp!=null&&(a.resp=r.resp),a}toObject(){let r={};return this.resp!=null&&(r.resp=this.resp),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_resp&&this.resp.length&&a.writeString(1,this.resp),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new lu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.resp=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return lu.deserialize(r)}};Ch=new WeakMap;let Z=lu;Sm.SC_WITHDRAW_INFO=lu;let cu=class cu extends c.Message{constructor(r){super();ae(this,Ah,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Ah)),!Array.isArray(r)&&typeof r=="object"&&(this.resp=r.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,[])}set resp(r){c.Message.setField(this,1,r)}static fromObject(r){return new cu({resp:r.resp})}toObject(){return{resp:this.resp}}serialize(r){let a=r||new c.BinaryWriter;if(this.resp.length&&a.writeRepeatedString(1,this.resp),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new cu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return cu.deserialize(r)}};Ah=new WeakMap;let re=cu;Sm.SC_CHARGE_RECORD=cu;let uu=class uu extends c.Message{constructor(r){super();ae(this,Mh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Mh)),!Array.isArray(r)&&typeof r=="object"&&(this.resp=r.resp)}get resp(){return c.Message.getFieldWithDefault(this,1,[])}set resp(r){c.Message.setField(this,1,r)}static fromObject(r){return new uu({resp:r.resp})}toObject(){return{resp:this.resp}}serialize(r){let a=r||new c.BinaryWriter;if(this.resp.length&&a.writeRepeatedString(1,this.resp),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new uu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return uu.deserialize(r)}};Mh=new WeakMap;let ce=uu;Sm.SC_WITHDRAW_RECORD=uu;let pu=class pu extends c.Message{constructor(r){super();ae(this,Rh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Rh)),!Array.isArray(r)&&typeof r=="object"&&(this.unkey=r.unkey)}get unkey(){return c.Message.getField(this,1)}set unkey(r){c.Message.setField(this,1,r)}get has_unkey(){return c.Message.getField(this,1)!=null}static fromObject(r){return new pu({unkey:r.unkey})}toObject(){let r={};return this.unkey!=null&&(r.unkey=this.unkey),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_unkey&&a.writeInt32(1,this.unkey),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new pu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return pu.deserialize(r)}};Rh=new WeakMap;let Se=pu;Sm.CS_SNAKE_UPGRADE=pu;let mu=class mu extends c.Message{constructor(r){super();ae(this,Bh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Bh)),!Array.isArray(r)&&typeof r=="object"&&(this.cost=r.cost,"snake"in r&&r.snake!=null&&(this.snake=r.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,U,1)}set cost(r){c.Message.setRepeatedWrapperField(this,1,r)}get snake(){return c.Message.getWrapperField(this,W,3)}set snake(r){c.Message.setWrapperField(this,3,r)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new mu({cost:r.cost.map(h=>U.fromObject(h))});return r.snake!=null&&(a.snake=W.fromObject(r.snake)),a}toObject(){let r={};return this.cost!=null&&(r.cost=this.cost.map(a=>a.toObject())),this.snake!=null&&(r.snake=this.snake.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new mu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,U.deserialize(a),U));break;case 3:a.readMessage(h.snake,()=>h.snake=W.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return mu.deserialize(r)}};Bh=new WeakMap;let Ue=mu;Sm.SC_SNAKE_UPGRADE=mu;let hu=class hu extends c.Message{constructor(r){super();ae(this,Dh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Dh)),!Array.isArray(r)&&typeof r=="object"&&(this.unkey=r.unkey)}get unkey(){return c.Message.getField(this,1)}set unkey(r){c.Message.setField(this,1,r)}get has_unkey(){return c.Message.getField(this,1)!=null}static fromObject(r){return new hu({unkey:r.unkey})}toObject(){let r={};return this.unkey!=null&&(r.unkey=this.unkey),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_unkey&&a.writeInt32(1,this.unkey),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new hu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.unkey=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return hu.deserialize(r)}};Dh=new WeakMap;let xe=hu;Sm.CS_SNAKE_FIGHT=hu;let du=class du extends c.Message{constructor(r){super();ae(this,Oh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Oh)),!Array.isArray(r)&&typeof r=="object"&&(this.mailId=r.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(r){c.Message.setField(this,1,r)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new du({mailId:r.mailId})}toObject(){let r={};return this.mailId!=null&&(r.mailId=this.mailId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new du;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return du.deserialize(r)}};Oh=new WeakMap;let Ae=du;Sm.CS_MAIL_CHECK=du;let fu=class fu extends c.Message{constructor(r){super();ae(this,Nh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Nh)),!Array.isArray(r)&&typeof r=="object"&&(this.mail=r.mail)}get mail(){return c.Message.getRepeatedWrapperField(this,j,1)}set mail(r){c.Message.setRepeatedWrapperField(this,1,r)}static fromObject(r){return new fu({mail:r.mail.map(h=>j.fromObject(h))})}toObject(){let r={};return this.mail!=null&&(r.mail=this.mail.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.mail.length&&a.writeRepeatedMessage(1,this.mail,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new fu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.mail,()=>c.Message.addToRepeatedWrapperField(h,1,j.deserialize(a),j));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return fu.deserialize(r)}};Nh=new WeakMap;let st=fu;Sm.SC_MAIL_LIST=fu;let gu=class gu extends c.Message{constructor(r){super();ae(this,Fh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Fh)),!Array.isArray(r)&&typeof r=="object"&&(this.mailId=r.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(r){c.Message.setField(this,1,r)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new gu({mailId:r.mailId})}toObject(){let r={};return this.mailId!=null&&(r.mailId=this.mailId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new gu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return gu.deserialize(r)}};Fh=new WeakMap;let de=gu;Sm.CS_MAIL_GET=gu;let bu=class bu extends c.Message{constructor(r){super();ae(this,Ph,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[2],oe(this,Ph)),!Array.isArray(r)&&typeof r=="object"&&("mailId"in r&&r.mailId!=null&&(this.mailId=r.mailId),this.items=r.items,"snake"in r&&r.snake!=null&&(this.snake=r.snake))}get mailId(){return c.Message.getFieldWithDefault(this,1,0)}set mailId(r){c.Message.setField(this,1,r)}get has_mailId(){return c.Message.getField(this,1)!=null}get items(){return c.Message.getRepeatedWrapperField(this,U,2)}set items(r){c.Message.setRepeatedWrapperField(this,2,r)}get snake(){return c.Message.getWrapperField(this,W,3)}set snake(r){c.Message.setWrapperField(this,3,r)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new bu({items:r.items.map(h=>U.fromObject(h))});return r.mailId!=null&&(a.mailId=r.mailId),r.snake!=null&&(a.snake=W.fromObject(r.snake)),a}toObject(){let r={};return this.mailId!=null&&(r.mailId=this.mailId),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.snake!=null&&(r.snake=this.snake.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new bu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,U.deserialize(a),U));break;case 3:a.readMessage(h.snake,()=>h.snake=W.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return bu.deserialize(r)}};Ph=new WeakMap;let bt=bu;Sm.SC_MAIL_GET=bu;let yu=class yu extends c.Message{constructor(r){super();ae(this,Uh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Uh)),!Array.isArray(r)&&typeof r=="object"&&(this.mailId=r.mailId)}get mailId(){return c.Message.getField(this,1)}set mailId(r){c.Message.setField(this,1,r)}get has_mailId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new yu({mailId:r.mailId})}toObject(){let r={};return this.mailId!=null&&(r.mailId=this.mailId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_mailId&&a.writeInt32(1,this.mailId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new yu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.mailId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return yu.deserialize(r)}};Uh=new WeakMap;let ht=yu;Sm.CS_MAIL_DELETE=yu;let _u=class _u extends c.Message{constructor(r){super();ae(this,Hh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Hh)),!Array.isArray(r)&&typeof r=="object"&&(this.msg=r.msg)}get msg(){return c.Message.getField(this,1)}set msg(r){c.Message.setField(this,1,r)}get has_msg(){return c.Message.getField(this,1)!=null}static fromObject(r){return new _u({msg:r.msg})}toObject(){let r={};return this.msg!=null&&(r.msg=this.msg),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_msg&&this.msg.length&&a.writeString(1,this.msg),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new _u;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.msg=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return _u.deserialize(r)}};Hh=new WeakMap;let It=_u;Sm.SC_SYS_NOTICE=_u;let xu=class xu extends c.Message{constructor(r){super();ae(this,zh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,zh)),!Array.isArray(r)&&typeof r=="object"&&(this.type=r.type,this.value=r.value)}get type(){return c.Message.getField(this,1)}set type(r){c.Message.setField(this,1,r)}get has_type(){return c.Message.getField(this,1)!=null}get value(){return c.Message.getField(this,2)}set value(r){c.Message.setField(this,2,r)}get has_value(){return c.Message.getField(this,2)!=null}static fromObject(r){return new xu({type:r.type,value:r.value})}toObject(){let r={};return this.type!=null&&(r.type=this.type),this.value!=null&&(r.value=this.value),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_value&&this.value.length&&a.writeString(2,this.value),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new xu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.value=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return xu.deserialize(r)}};zh=new WeakMap;let Ut=xu;Sm.CS_CHANGE_INFO=xu;let vu=class vu extends c.Message{constructor(r){super();ae(this,jh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,jh)),!Array.isArray(r)&&typeof r=="object"&&("kills"in r&&r.kills!=null&&(this.kills=r.kills),"score"in r&&r.score!=null&&(this.score=r.score))}get kills(){return c.Message.getFieldWithDefault(this,1,0)}set kills(r){c.Message.setField(this,1,r)}get has_kills(){return c.Message.getField(this,1)!=null}get score(){return c.Message.getFieldWithDefault(this,2,0)}set score(r){c.Message.setField(this,2,r)}get has_score(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new vu({});return r.kills!=null&&(a.kills=r.kills),r.score!=null&&(a.score=r.score),a}toObject(){let r={};return this.kills!=null&&(r.kills=this.kills),this.score!=null&&(r.score=this.score),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_kills&&a.writeInt32(1,this.kills),this.has_score&&a.writeInt32(2,this.score),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new vu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.kills=a.readInt32();break;case 2:h.score=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return vu.deserialize(r)}};jh=new WeakMap;let Rr=vu;Sm.CS_AI_END=vu;let Iu=class Iu extends c.Message{constructor(r){super();ae(this,Gh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Gh)),!Array.isArray(r)&&typeof r=="object"&&(this.items=r.items)}get items(){return c.Message.getRepeatedWrapperField(this,U,1)}set items(r){c.Message.setRepeatedWrapperField(this,1,r)}static fromObject(r){return new Iu({items:r.items.map(h=>U.fromObject(h))})}toObject(){let r={};return this.items!=null&&(r.items=this.items.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.items.length&&a.writeRepeatedMessage(1,this.items,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Iu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,1,U.deserialize(a),U));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Iu.deserialize(r)}};Gh=new WeakMap;let Fi=Iu;Sm.SC_AI_END=Iu;let Su=class Su extends c.Message{constructor(r){super();ae(this,Vh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Vh)),!Array.isArray(r)&&typeof r=="object"&&(this.boxId=r.boxId)}get boxId(){return c.Message.getField(this,1)}set boxId(r){c.Message.setField(this,1,r)}get has_boxId(){return c.Message.getField(this,1)!=null}static fromObject(r){return new Su({boxId:r.boxId})}toObject(){let r={};return this.boxId!=null&&(r.boxId=this.boxId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_boxId&&a.writeInt32(1,this.boxId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Su;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.boxId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Su.deserialize(r)}};Vh=new WeakMap;let ar=Su;Sm.CS_OPEN_BOX=Su;let ku=class ku extends c.Message{constructor(r){super();ae(this,Wh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1,2],oe(this,Wh)),!Array.isArray(r)&&typeof r=="object"&&(this.cost=r.cost,this.items=r.items,"snake"in r&&r.snake!=null&&(this.snake=r.snake))}get cost(){return c.Message.getRepeatedWrapperField(this,U,1)}set cost(r){c.Message.setRepeatedWrapperField(this,1,r)}get items(){return c.Message.getRepeatedWrapperField(this,U,2)}set items(r){c.Message.setRepeatedWrapperField(this,2,r)}get snake(){return c.Message.getWrapperField(this,W,3)}set snake(r){c.Message.setWrapperField(this,3,r)}get has_snake(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new ku({cost:r.cost.map(h=>U.fromObject(h)),items:r.items.map(h=>U.fromObject(h))});return r.snake!=null&&(a.snake=W.fromObject(r.snake)),a}toObject(){let r={};return this.cost!=null&&(r.cost=this.cost.map(a=>a.toObject())),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),this.snake!=null&&(r.snake=this.snake.toObject()),r}serialize(r){let a=r||new c.BinaryWriter;if(this.cost.length&&a.writeRepeatedMessage(1,this.cost,h=>h.serialize(a)),this.items.length&&a.writeRepeatedMessage(2,this.items,h=>h.serialize(a)),this.has_snake&&a.writeMessage(3,this.snake,()=>this.snake.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new ku;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,1,U.deserialize(a),U));break;case 2:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,2,U.deserialize(a),U));break;case 3:a.readMessage(h.snake,()=>h.snake=W.deserialize(a));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return ku.deserialize(r)}};Wh=new WeakMap;let va=ku;Sm.SC_OPEN_BOX=ku;let Eu=class Eu extends c.Message{constructor(r){super();ae(this,Kh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,Kh)),!Array.isArray(r)&&typeof r=="object"&&(this.price=r.price)}get price(){return c.Message.getFieldWithDefault(this,1,[])}set price(r){c.Message.setField(this,1,r)}static fromObject(r){return new Eu({price:r.price})}toObject(){return{price:this.price}}serialize(r){let a=r||new c.BinaryWriter;if(this.price.length&&a.writeRepeatedString(1,this.price),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Eu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Eu.deserialize(r)}};Kh=new WeakMap;let yo=Eu;Sm.SC_REQUEST_PRICE=Eu;let Lu=class Lu extends c.Message{constructor(r){super();ae(this,$h,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,$h)),!Array.isArray(r)&&typeof r=="object"&&(this.type=r.type)}get type(){return c.Message.getField(this,1)}set type(r){c.Message.setField(this,1,r)}get has_type(){return c.Message.getField(this,1)!=null}static fromObject(r){return new Lu({type:r.type})}toObject(){let r={};return this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Lu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Lu.deserialize(r)}};$h=new WeakMap;let _n=Lu;Sm.CS_RANK_LIST=Lu;let wu=class wu extends c.Message{constructor(r){super();ae(this,qh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,qh)),!Array.isArray(r)&&typeof r=="object"&&(this.rank=r.rank)}get rank(){return c.Message.getRepeatedWrapperField(this,xn,1)}set rank(r){c.Message.setRepeatedWrapperField(this,1,r)}static fromObject(r){return new wu({rank:r.rank.map(h=>xn.fromObject(h))})}toObject(){let r={};return this.rank!=null&&(r.rank=this.rank.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.rank.length&&a.writeRepeatedMessage(1,this.rank,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new wu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:a.readMessage(h.rank,()=>c.Message.addToRepeatedWrapperField(h,1,xn.deserialize(a),xn));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return wu.deserialize(r)}};qh=new WeakMap;let _o=wu;Sm.SC_RANK_LIST=wu;let Tu=class Tu extends c.Message{constructor(r){super();ae(this,Yh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Yh)),!Array.isArray(r)&&typeof r=="object"&&("roleId"in r&&r.roleId!=null&&(this.roleId=r.roleId),"userName"in r&&r.userName!=null&&(this.userName=r.userName),"icon"in r&&r.icon!=null&&(this.icon=r.icon),"num"in r&&r.num!=null&&(this.num=r.num),"addr"in r&&r.addr!=null&&(this.addr=r.addr),"country"in r&&r.country!=null&&(this.country=r.country))}get roleId(){return c.Message.getFieldWithDefault(this,1,"")}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get userName(){return c.Message.getFieldWithDefault(this,2,"")}set userName(r){c.Message.setField(this,2,r)}get has_userName(){return c.Message.getField(this,2)!=null}get icon(){return c.Message.getFieldWithDefault(this,3,"")}set icon(r){c.Message.setField(this,3,r)}get has_icon(){return c.Message.getField(this,3)!=null}get num(){return c.Message.getFieldWithDefault(this,4,0)}set num(r){c.Message.setField(this,4,r)}get has_num(){return c.Message.getField(this,4)!=null}get addr(){return c.Message.getFieldWithDefault(this,5,"")}set addr(r){c.Message.setField(this,5,r)}get has_addr(){return c.Message.getField(this,5)!=null}get country(){return c.Message.getFieldWithDefault(this,6,0)}set country(r){c.Message.setField(this,6,r)}get has_country(){return c.Message.getField(this,6)!=null}static fromObject(r){let a=new Tu({});return r.roleId!=null&&(a.roleId=r.roleId),r.userName!=null&&(a.userName=r.userName),r.icon!=null&&(a.icon=r.icon),r.num!=null&&(a.num=r.num),r.addr!=null&&(a.addr=r.addr),r.country!=null&&(a.country=r.country),a}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.userName!=null&&(r.userName=this.userName),this.icon!=null&&(r.icon=this.icon),this.num!=null&&(r.num=this.num),this.addr!=null&&(r.addr=this.addr),this.country!=null&&(r.country=this.country),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_userName&&this.userName.length&&a.writeString(2,this.userName),this.has_icon&&this.icon.length&&a.writeString(3,this.icon),this.has_num&&a.writeInt64(4,this.num),this.has_addr&&this.addr.length&&a.writeString(5,this.addr),this.has_country&&a.writeInt32(6,this.country),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Tu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.userName=a.readString();break;case 3:h.icon=a.readString();break;case 4:h.num=a.readInt64();break;case 5:h.addr=a.readString();break;case 6:h.country=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Tu.deserialize(r)}};Yh=new WeakMap;let xn=Tu;Sm.RankObject=Tu;let Cu=class Cu extends c.Message{constructor(r){super();ae(this,Qh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[3],oe(this,Qh)),!Array.isArray(r)&&typeof r=="object"&&("lv"in r&&r.lv!=null&&(this.lv=r.lv),"exp"in r&&r.exp!=null&&(this.exp=r.exp),this.items=r.items)}get lv(){return c.Message.getFieldWithDefault(this,1,0)}set lv(r){c.Message.setField(this,1,r)}get has_lv(){return c.Message.getField(this,1)!=null}get exp(){return c.Message.getFieldWithDefault(this,2,0)}set exp(r){c.Message.setField(this,2,r)}get has_exp(){return c.Message.getField(this,2)!=null}get items(){return c.Message.getRepeatedWrapperField(this,U,3)}set items(r){c.Message.setRepeatedWrapperField(this,3,r)}static fromObject(r){let a=new Cu({items:r.items.map(h=>U.fromObject(h))});return r.lv!=null&&(a.lv=r.lv),r.exp!=null&&(a.exp=r.exp),a}toObject(){let r={};return this.lv!=null&&(r.lv=this.lv),this.exp!=null&&(r.exp=this.exp),this.items!=null&&(r.items=this.items.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_lv&&a.writeInt32(1,this.lv),this.has_exp&&a.writeInt32(2,this.exp),this.items.length&&a.writeRepeatedMessage(3,this.items,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Cu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.lv=a.readInt32();break;case 2:h.exp=a.readInt32();break;case 3:a.readMessage(h.items,()=>c.Message.addToRepeatedWrapperField(h,3,U.deserialize(a),U));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Cu.deserialize(r)}};Qh=new WeakMap;let FS=Cu;Sm.SC_LVUP_NOTICE=Cu;let Au=class Au extends c.Message{constructor(r){super();ae(this,Xh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Xh)),!Array.isArray(r)&&typeof r=="object"&&(this.name=r.name,this.icon=r.icon,this.type=r.type)}get name(){return c.Message.getField(this,1)}set name(r){c.Message.setField(this,1,r)}get has_name(){return c.Message.getField(this,1)!=null}get icon(){return c.Message.getField(this,2)}set icon(r){c.Message.setField(this,2,r)}get has_icon(){return c.Message.getField(this,2)!=null}get type(){return c.Message.getField(this,3)}set type(r){c.Message.setField(this,3,r)}get has_type(){return c.Message.getField(this,3)!=null}static fromObject(r){return new Au({name:r.name,icon:r.icon,type:r.type})}toObject(){let r={};return this.name!=null&&(r.name=this.name),this.icon!=null&&(r.icon=this.icon),this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_name&&this.name.length&&a.writeString(1,this.name),this.has_icon&&this.icon.length&&a.writeString(2,this.icon),this.has_type&&a.writeInt32(3,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Au;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.name=a.readString();break;case 2:h.icon=a.readString();break;case 3:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Au.deserialize(r)}};Xh=new WeakMap;let PS=Au;Sm.CS_CREATE_CLUB=Au;let Mu=class Mu extends c.Message{constructor(r){super();ae(this,Jh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Jh)),!Array.isArray(r)&&typeof r=="object"&&(this.clubId=r.clubId,this.type=r.type)}get clubId(){return c.Message.getField(this,1)}set clubId(r){c.Message.setField(this,1,r)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Mu({clubId:r.clubId,type:r.type})}toObject(){let r={};return this.clubId!=null&&(r.clubId=this.clubId),this.type!=null&&(r.type=this.type),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Mu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Mu.deserialize(r)}};Jh=new WeakMap;let US=Mu;Sm.SC_CREATE_CLUB=Mu;let Ru=class Ru extends c.Message{constructor(r){super();ae(this,Zh,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,Zh)),!Array.isArray(r)&&typeof r=="object"&&("point"in r&&r.point!=null&&(this.point=r.point),"clubId"in r&&r.clubId!=null&&(this.clubId=r.clubId))}get point(){return c.Message.getFieldWithDefault(this,1,"")}set point(r){c.Message.setField(this,1,r)}get has_point(){return c.Message.getField(this,1)!=null}get clubId(){return c.Message.getFieldWithDefault(this,2,0)}set clubId(r){c.Message.setField(this,2,r)}get has_clubId(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Ru({});return r.point!=null&&(a.point=r.point),r.clubId!=null&&(a.clubId=r.clubId),a}toObject(){let r={};return this.point!=null&&(r.point=this.point),this.clubId!=null&&(r.clubId=this.clubId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_point&&this.point.length&&a.writeString(1,this.point),this.has_clubId&&a.writeInt64(2,this.clubId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ru;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.point=a.readString();break;case 2:h.clubId=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ru.deserialize(r)}};Zh=new WeakMap;let HS=Ru;Sm.CS_CLUB_INFO=Ru;let Bu=class Bu extends c.Message{constructor(r){super();ae(this,ed,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[8,10],oe(this,ed)),!Array.isArray(r)&&typeof r=="object"&&(this.clubId=r.clubId,this.type=r.type,"name"in r&&r.name!=null&&(this.name=r.name),"icon"in r&&r.icon!=null&&(this.icon=r.icon),"creater"in r&&r.creater!=null&&(this.creater=r.creater),"createTime"in r&&r.createTime!=null&&(this.createTime=r.createTime),this.rooms=r.rooms,this.community=r.community,"createrId"in r&&r.createrId!=null&&(this.createrId=r.createrId),"myRate"in r&&r.myRate!=null&&(this.myRate=r.myRate))}get clubId(){return c.Message.getField(this,1)}set clubId(r){c.Message.setField(this,1,r)}get has_clubId(){return c.Message.getField(this,1)!=null}get type(){return c.Message.getField(this,2)}set type(r){c.Message.setField(this,2,r)}get has_type(){return c.Message.getField(this,2)!=null}get name(){return c.Message.getFieldWithDefault(this,3,"")}set name(r){c.Message.setField(this,3,r)}get has_name(){return c.Message.getField(this,3)!=null}get icon(){return c.Message.getFieldWithDefault(this,4,"")}set icon(r){c.Message.setField(this,4,r)}get has_icon(){return c.Message.getField(this,4)!=null}get creater(){return c.Message.getFieldWithDefault(this,5,"")}set creater(r){c.Message.setField(this,5,r)}get has_creater(){return c.Message.getField(this,5)!=null}get createTime(){return c.Message.getFieldWithDefault(this,6,0)}set createTime(r){c.Message.setField(this,6,r)}get has_createTime(){return c.Message.getField(this,6)!=null}get rooms(){return c.Message.getFieldWithDefault(this,8,[])}set rooms(r){c.Message.setField(this,8,r)}get community(){return c.Message.getFieldWithDefault(this,10,[])}set community(r){c.Message.setField(this,10,r)}get createrId(){return c.Message.getFieldWithDefault(this,11,"")}set createrId(r){c.Message.setField(this,11,r)}get has_createrId(){return c.Message.getField(this,11)!=null}get myRate(){return c.Message.getFieldWithDefault(this,12,0)}set myRate(r){c.Message.setField(this,12,r)}get has_myRate(){return c.Message.getField(this,12)!=null}static fromObject(r){let a=new Bu({clubId:r.clubId,type:r.type,rooms:r.rooms,community:r.community});return r.name!=null&&(a.name=r.name),r.icon!=null&&(a.icon=r.icon),r.creater!=null&&(a.creater=r.creater),r.createTime!=null&&(a.createTime=r.createTime),r.createrId!=null&&(a.createrId=r.createrId),r.myRate!=null&&(a.myRate=r.myRate),a}toObject(){let r={rooms:this.rooms,community:this.community};return this.clubId!=null&&(r.clubId=this.clubId),this.type!=null&&(r.type=this.type),this.name!=null&&(r.name=this.name),this.icon!=null&&(r.icon=this.icon),this.creater!=null&&(r.creater=this.creater),this.createTime!=null&&(r.createTime=this.createTime),this.createrId!=null&&(r.createrId=this.createrId),this.myRate!=null&&(r.myRate=this.myRate),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_clubId&&a.writeInt64(1,this.clubId),this.has_type&&a.writeInt32(2,this.type),this.has_name&&this.name.length&&a.writeString(3,this.name),this.has_icon&&this.icon.length&&a.writeString(4,this.icon),this.has_creater&&this.creater.length&&a.writeString(5,this.creater),this.has_createTime&&a.writeInt64(6,this.createTime),this.rooms.length&&a.writeRepeatedString(8,this.rooms),this.community.length&&a.writeRepeatedString(10,this.community),this.has_createrId&&this.createrId.length&&a.writeString(11,this.createrId),this.has_myRate&&a.writeFloat(12,this.myRate),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Bu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.clubId=a.readInt64();break;case 2:h.type=a.readInt32();break;case 3:h.name=a.readString();break;case 4:h.icon=a.readString();break;case 5:h.creater=a.readString();break;case 6:h.createTime=a.readInt64();break;case 8:c.Message.addToRepeatedField(h,8,a.readString());break;case 10:c.Message.addToRepeatedField(h,10,a.readString());break;case 11:h.createrId=a.readString();break;case 12:h.myRate=a.readFloat();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Bu.deserialize(r)}};ed=new WeakMap;let zS=Bu;Sm.SC_CLUB_INFO=Bu;let Du=class Du extends c.Message{constructor(r){super();ae(this,td,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,td)),!Array.isArray(r)&&typeof r=="object"&&(this.roleId=r.roleId,this.rate=r.rate)}get roleId(){return c.Message.getField(this,1)}set roleId(r){c.Message.setField(this,1,r)}get has_roleId(){return c.Message.getField(this,1)!=null}get rate(){return c.Message.getField(this,2)}set rate(r){c.Message.setField(this,2,r)}get has_rate(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Du({roleId:r.roleId,rate:r.rate})}toObject(){let r={};return this.roleId!=null&&(r.roleId=this.roleId),this.rate!=null&&(r.rate=this.rate),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roleId&&this.roleId.length&&a.writeString(1,this.roleId),this.has_rate&&a.writeFloat(2,this.rate),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Du;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roleId=a.readString();break;case 2:h.rate=a.readFloat();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Du.deserialize(r)}};td=new WeakMap;let jS=Du;Sm.CS_SET_COMMISION=Du;let Ou=class Ou extends c.Message{constructor(r){super();ae(this,id,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,id)),!Array.isArray(r)&&typeof r=="object"&&(this.type=r.type,this.value=r.value)}get type(){return c.Message.getField(this,1)}set type(r){c.Message.setField(this,1,r)}get has_type(){return c.Message.getField(this,1)!=null}get value(){return c.Message.getField(this,2)}set value(r){c.Message.setField(this,2,r)}get has_value(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Ou({type:r.type,value:r.value})}toObject(){let r={};return this.type!=null&&(r.type=this.type),this.value!=null&&(r.value=this.value),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_value&&this.value.length&&a.writeString(2,this.value),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ou;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.value=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ou.deserialize(r)}};id=new WeakMap;let GS=Ou;Sm.CS_CLUB_CHANGE_INFO=Ou;let Nu=class Nu extends c.Message{constructor(r){super();ae(this,rd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,rd)),!Array.isArray(r)&&typeof r=="object"&&(this.type=r.type,this.ticketId=r.ticketId,this.ticketValue=r.ticketValue,this.map=r.map,this.fruit=r.fruit,this.bgm=r.bgm,this.point=r.point,this.itemId=r.itemId)}get type(){return c.Message.getField(this,1)}set type(r){c.Message.setField(this,1,r)}get has_type(){return c.Message.getField(this,1)!=null}get ticketId(){return c.Message.getField(this,2)}set ticketId(r){c.Message.setField(this,2,r)}get has_ticketId(){return c.Message.getField(this,2)!=null}get ticketValue(){return c.Message.getField(this,3)}set ticketValue(r){c.Message.setField(this,3,r)}get has_ticketValue(){return c.Message.getField(this,3)!=null}get map(){return c.Message.getField(this,4)}set map(r){c.Message.setField(this,4,r)}get has_map(){return c.Message.getField(this,4)!=null}get fruit(){return c.Message.getField(this,5)}set fruit(r){c.Message.setField(this,5,r)}get has_fruit(){return c.Message.getField(this,5)!=null}get bgm(){return c.Message.getField(this,6)}set bgm(r){c.Message.setField(this,6,r)}get has_bgm(){return c.Message.getField(this,6)!=null}get point(){return c.Message.getField(this,7)}set point(r){c.Message.setField(this,7,r)}get has_point(){return c.Message.getField(this,7)!=null}get itemId(){return c.Message.getField(this,8)}set itemId(r){c.Message.setField(this,8,r)}get has_itemId(){return c.Message.getField(this,8)!=null}static fromObject(r){return new Nu({type:r.type,ticketId:r.ticketId,ticketValue:r.ticketValue,map:r.map,fruit:r.fruit,bgm:r.bgm,point:r.point,itemId:r.itemId})}toObject(){let r={};return this.type!=null&&(r.type=this.type),this.ticketId!=null&&(r.ticketId=this.ticketId),this.ticketValue!=null&&(r.ticketValue=this.ticketValue),this.map!=null&&(r.map=this.map),this.fruit!=null&&(r.fruit=this.fruit),this.bgm!=null&&(r.bgm=this.bgm),this.point!=null&&(r.point=this.point),this.itemId!=null&&(r.itemId=this.itemId),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_type&&a.writeInt32(1,this.type),this.has_ticketId&&a.writeInt32(2,this.ticketId),this.has_ticketValue&&a.writeDouble(3,this.ticketValue),this.has_map&&this.map.length&&a.writeString(4,this.map),this.has_fruit&&this.fruit.length&&a.writeString(5,this.fruit),this.has_bgm&&this.bgm.length&&a.writeString(6,this.bgm),this.has_point&&this.point.length&&a.writeString(7,this.point),this.has_itemId&&a.writeInt32(8,this.itemId),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Nu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.type=a.readInt32();break;case 2:h.ticketId=a.readInt32();break;case 3:h.ticketValue=a.readDouble();break;case 4:h.map=a.readString();break;case 5:h.fruit=a.readString();break;case 6:h.bgm=a.readString();break;case 7:h.point=a.readString();break;case 8:h.itemId=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Nu.deserialize(r)}};rd=new WeakMap;let VS=Nu;Sm.CS_CREATE_CUSTOM_ROOM=Nu;let Fu=class Fu extends c.Message{constructor(r){super();ae(this,sd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[2],oe(this,sd)),!Array.isArray(r)&&typeof r=="object"&&(this.roomNo=r.roomNo,this.cost=r.cost)}get roomNo(){return c.Message.getField(this,1)}set roomNo(r){c.Message.setField(this,1,r)}get has_roomNo(){return c.Message.getField(this,1)!=null}get cost(){return c.Message.getRepeatedWrapperField(this,U,2)}set cost(r){c.Message.setRepeatedWrapperField(this,2,r)}static fromObject(r){return new Fu({roomNo:r.roomNo,cost:r.cost.map(h=>U.fromObject(h))})}toObject(){let r={};return this.roomNo!=null&&(r.roomNo=this.roomNo),this.cost!=null&&(r.cost=this.cost.map(a=>a.toObject())),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_roomNo&&this.roomNo.length&&a.writeString(1,this.roomNo),this.cost.length&&a.writeRepeatedMessage(2,this.cost,h=>h.serialize(a)),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Fu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.roomNo=a.readString();break;case 2:a.readMessage(h.cost,()=>c.Message.addToRepeatedWrapperField(h,2,U.deserialize(a),U));break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Fu.deserialize(r)}};sd=new WeakMap;let WS=Fu;Sm.SC_CREATE_CUSTOM_ROOM=Fu;let Pu=class Pu extends c.Message{constructor(r){super();ae(this,nd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,nd)),!Array.isArray(r)&&typeof r=="object"&&(this.rooms=r.rooms,"dailyFight"in r&&r.dailyFight!=null&&(this.dailyFight=r.dailyFight),"totalFight"in r&&r.totalFight!=null&&(this.totalFight=r.totalFight))}get rooms(){return c.Message.getFieldWithDefault(this,1,[])}set rooms(r){c.Message.setField(this,1,r)}get dailyFight(){return c.Message.getFieldWithDefault(this,2,0)}set dailyFight(r){c.Message.setField(this,2,r)}get has_dailyFight(){return c.Message.getField(this,2)!=null}get totalFight(){return c.Message.getFieldWithDefault(this,3,0)}set totalFight(r){c.Message.setField(this,3,r)}get has_totalFight(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new Pu({rooms:r.rooms});return r.dailyFight!=null&&(a.dailyFight=r.dailyFight),r.totalFight!=null&&(a.totalFight=r.totalFight),a}toObject(){let r={rooms:this.rooms};return this.dailyFight!=null&&(r.dailyFight=this.dailyFight),this.totalFight!=null&&(r.totalFight=this.totalFight),r}serialize(r){let a=r||new c.BinaryWriter;if(this.rooms.length&&a.writeRepeatedString(1,this.rooms),this.has_dailyFight&&a.writeInt32(2,this.dailyFight),this.has_totalFight&&a.writeInt32(3,this.totalFight),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Pu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:h.dailyFight=a.readInt32();break;case 3:h.totalFight=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Pu.deserialize(r)}};nd=new WeakMap;let KS=Pu;Sm.SC_CLUB_ROOM=Pu;let Uu=class Uu extends c.Message{constructor(r){super();ae(this,od,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,od)),!Array.isArray(r)&&typeof r=="object"&&(this.pageNo=r.pageNo,this.pageSize=r.pageSize)}get pageNo(){return c.Message.getField(this,1)}set pageNo(r){c.Message.setField(this,1,r)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(r){c.Message.setField(this,2,r)}get has_pageSize(){return c.Message.getField(this,2)!=null}static fromObject(r){return new Uu({pageNo:r.pageNo,pageSize:r.pageSize})}toObject(){let r={};return this.pageNo!=null&&(r.pageNo=this.pageNo),this.pageSize!=null&&(r.pageSize=this.pageSize),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Uu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Uu.deserialize(r)}};od=new WeakMap;let $S=Uu;Sm.CS_REQUEST_PROFIT=Uu;let Hu=class Hu extends c.Message{constructor(r){super();ae(this,ad,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[4],oe(this,ad)),!Array.isArray(r)&&typeof r=="object"&&("profitTotal"in r&&r.profitTotal!=null&&(this.profitTotal=r.profitTotal),"profitToday"in r&&r.profitToday!=null&&(this.profitToday=r.profitToday),"total"in r&&r.total!=null&&(this.total=r.total),this.profits=r.profits)}get profitTotal(){return c.Message.getFieldWithDefault(this,1,0)}set profitTotal(r){c.Message.setField(this,1,r)}get has_profitTotal(){return c.Message.getField(this,1)!=null}get profitToday(){return c.Message.getFieldWithDefault(this,2,0)}set profitToday(r){c.Message.setField(this,2,r)}get has_profitToday(){return c.Message.getField(this,2)!=null}get total(){return c.Message.getFieldWithDefault(this,3,0)}set total(r){c.Message.setField(this,3,r)}get has_total(){return c.Message.getField(this,3)!=null}get profits(){return c.Message.getFieldWithDefault(this,4,[])}set profits(r){c.Message.setField(this,4,r)}static fromObject(r){let a=new Hu({profits:r.profits});return r.profitTotal!=null&&(a.profitTotal=r.profitTotal),r.profitToday!=null&&(a.profitToday=r.profitToday),r.total!=null&&(a.total=r.total),a}toObject(){let r={profits:this.profits};return this.profitTotal!=null&&(r.profitTotal=this.profitTotal),this.profitToday!=null&&(r.profitToday=this.profitToday),this.total!=null&&(r.total=this.total),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_profitTotal&&a.writeDouble(1,this.profitTotal),this.has_profitToday&&a.writeDouble(2,this.profitToday),this.has_total&&a.writeInt32(3,this.total),this.profits.length&&a.writeRepeatedString(4,this.profits),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Hu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.profitTotal=a.readDouble();break;case 2:h.profitToday=a.readDouble();break;case 3:h.total=a.readInt32();break;case 4:c.Message.addToRepeatedField(h,4,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Hu.deserialize(r)}};ad=new WeakMap;let qS=Hu;Sm.SC_REQUEST_PROFIT=Hu;let zu=class zu extends c.Message{constructor(r){super();ae(this,ld,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,ld)),!Array.isArray(r)&&typeof r=="object"&&(this.pageNo=r.pageNo,this.pageSize=r.pageSize)}get pageNo(){return c.Message.getField(this,1)}set pageNo(r){c.Message.setField(this,1,r)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(r){c.Message.setField(this,2,r)}get has_pageSize(){return c.Message.getField(this,2)!=null}static fromObject(r){return new zu({pageNo:r.pageNo,pageSize:r.pageSize})}toObject(){let r={};return this.pageNo!=null&&(r.pageNo=this.pageNo),this.pageSize!=null&&(r.pageSize=this.pageSize),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new zu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return zu.deserialize(r)}};ld=new WeakMap;let YS=zu;Sm.CS_TOKEN_CHANGE_RECORD=zu;let ju=class ju extends c.Message{constructor(r){super();ae(this,cd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,cd)),!Array.isArray(r)&&typeof r=="object"&&(this.records=r.records,"total"in r&&r.total!=null&&(this.total=r.total))}get records(){return c.Message.getFieldWithDefault(this,1,[])}set records(r){c.Message.setField(this,1,r)}get total(){return c.Message.getFieldWithDefault(this,2,0)}set total(r){c.Message.setField(this,2,r)}get has_total(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new ju({records:r.records});return r.total!=null&&(a.total=r.total),a}toObject(){let r={records:this.records};return this.total!=null&&(r.total=this.total),r}serialize(r){let a=r||new c.BinaryWriter;if(this.records.length&&a.writeRepeatedString(1,this.records),this.has_total&&a.writeInt32(2,this.total),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new ju;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:h.total=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return ju.deserialize(r)}};cd=new WeakMap;let QS=ju;Sm.SC_TOKEN_CHANGE_RECORD=ju;let Gu=class Gu extends c.Message{constructor(r){super();ae(this,ud,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,ud)),!Array.isArray(r)&&typeof r=="object"&&(this.pageNo=r.pageNo,this.pageSize=r.pageSize,this.clubIb=r.clubIb)}get pageNo(){return c.Message.getField(this,1)}set pageNo(r){c.Message.setField(this,1,r)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(r){c.Message.setField(this,2,r)}get has_pageSize(){return c.Message.getField(this,2)!=null}get clubIb(){return c.Message.getField(this,3)}set clubIb(r){c.Message.setField(this,3,r)}get has_clubIb(){return c.Message.getField(this,3)!=null}static fromObject(r){return new Gu({pageNo:r.pageNo,pageSize:r.pageSize,clubIb:r.clubIb})}toObject(){let r={};return this.pageNo!=null&&(r.pageNo=this.pageNo),this.pageSize!=null&&(r.pageSize=this.pageSize),this.clubIb!=null&&(r.clubIb=this.clubIb),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),this.has_clubIb&&a.writeInt64(3,this.clubIb),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Gu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;case 3:h.clubIb=a.readInt64();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Gu.deserialize(r)}};ud=new WeakMap;let XS=Gu;Sm.CS_CLUB_MEMBER=Gu;let Vu=class Vu extends c.Message{constructor(r){super();ae(this,pd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,pd)),!Array.isArray(r)&&typeof r=="object"&&(this.members=r.members,"total"in r&&r.total!=null&&(this.total=r.total))}get members(){return c.Message.getFieldWithDefault(this,1,[])}set members(r){c.Message.setField(this,1,r)}get total(){return c.Message.getFieldWithDefault(this,2,0)}set total(r){c.Message.setField(this,2,r)}get has_total(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Vu({members:r.members});return r.total!=null&&(a.total=r.total),a}toObject(){let r={members:this.members};return this.total!=null&&(r.total=this.total),r}serialize(r){let a=r||new c.BinaryWriter;if(this.members.length&&a.writeRepeatedString(1,this.members),this.has_total&&a.writeInt32(2,this.total),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Vu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;case 2:h.total=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Vu.deserialize(r)}};pd=new WeakMap;let JS=Vu;Sm.SC_CLUB_MEMBER=Vu;let Wu=class Wu extends c.Message{constructor(r){super();ae(this,md,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,md)),!Array.isArray(r)&&typeof r=="object"&&("profitRatio"in r&&r.profitRatio!=null&&(this.profitRatio=r.profitRatio),"inviteCount"in r&&r.inviteCount!=null&&(this.inviteCount=r.inviteCount))}get profitRatio(){return c.Message.getFieldWithDefault(this,1,0)}set profitRatio(r){c.Message.setField(this,1,r)}get has_profitRatio(){return c.Message.getField(this,1)!=null}get inviteCount(){return c.Message.getFieldWithDefault(this,2,0)}set inviteCount(r){c.Message.setField(this,2,r)}get has_inviteCount(){return c.Message.getField(this,2)!=null}static fromObject(r){let a=new Wu({});return r.profitRatio!=null&&(a.profitRatio=r.profitRatio),r.inviteCount!=null&&(a.inviteCount=r.inviteCount),a}toObject(){let r={};return this.profitRatio!=null&&(r.profitRatio=this.profitRatio),this.inviteCount!=null&&(r.inviteCount=this.inviteCount),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_profitRatio&&a.writeFloat(1,this.profitRatio),this.has_inviteCount&&a.writeInt32(2,this.inviteCount),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Wu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.profitRatio=a.readFloat();break;case 2:h.inviteCount=a.readInt32();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Wu.deserialize(r)}};md=new WeakMap;let ZS=Wu;Sm.SC_MY_PROFIT=Wu;let Ku=class Ku extends c.Message{constructor(r){super();ae(this,hd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,hd)),!Array.isArray(r)&&typeof r=="object"&&(this.pageNo=r.pageNo,this.pageSize=r.pageSize,"childAddress"in r&&r.childAddress!=null&&(this.childAddress=r.childAddress))}get pageNo(){return c.Message.getField(this,1)}set pageNo(r){c.Message.setField(this,1,r)}get has_pageNo(){return c.Message.getField(this,1)!=null}get pageSize(){return c.Message.getField(this,2)}set pageSize(r){c.Message.setField(this,2,r)}get has_pageSize(){return c.Message.getField(this,2)!=null}get childAddress(){return c.Message.getFieldWithDefault(this,3,"")}set childAddress(r){c.Message.setField(this,3,r)}get has_childAddress(){return c.Message.getField(this,3)!=null}static fromObject(r){let a=new Ku({pageNo:r.pageNo,pageSize:r.pageSize});return r.childAddress!=null&&(a.childAddress=r.childAddress),a}toObject(){let r={};return this.pageNo!=null&&(r.pageNo=this.pageNo),this.pageSize!=null&&(r.pageSize=this.pageSize),this.childAddress!=null&&(r.childAddress=this.childAddress),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_pageNo&&a.writeInt32(1,this.pageNo),this.has_pageSize&&a.writeInt32(2,this.pageSize),this.has_childAddress&&this.childAddress.length&&a.writeString(3,this.childAddress),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Ku;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.pageNo=a.readInt32();break;case 2:h.pageSize=a.readInt32();break;case 3:h.childAddress=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Ku.deserialize(r)}};hd=new WeakMap;let ek=Ku;Sm.CS_REQUEST_PROFIT_LIST=Ku;let $u=class $u extends c.Message{constructor(r){super();ae(this,dd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[1],oe(this,dd)),!Array.isArray(r)&&typeof r=="object"&&(this.community=r.community)}get community(){return c.Message.getFieldWithDefault(this,1,[])}set community(r){c.Message.setField(this,1,r)}static fromObject(r){return new $u({community:r.community})}toObject(){return{community:this.community}}serialize(r){let a=r||new c.BinaryWriter;if(this.community.length&&a.writeRepeatedString(1,this.community),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new $u;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:c.Message.addToRepeatedField(h,1,a.readString());break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return $u.deserialize(r)}};dd=new WeakMap;let tk=$u;Sm.SC_REQUEST_PROFIT_LIST=$u;let qu=class qu extends c.Message{constructor(r){super();ae(this,fd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,fd)),!Array.isArray(r)&&typeof r=="object"&&(this.address=r.address)}get address(){return c.Message.getField(this,1)}set address(r){c.Message.setField(this,1,r)}get has_address(){return c.Message.getField(this,1)!=null}static fromObject(r){return new qu({address:r.address})}toObject(){let r={};return this.address!=null&&(r.address=this.address),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_address&&this.address.length&&a.writeString(1,this.address),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new qu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.address=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return qu.deserialize(r)}};fd=new WeakMap;let ik=qu;Sm.CS_REQUEST_HALL_ADDR=qu;let Yu=class Yu extends c.Message{constructor(r){super();ae(this,gd,[]);c.Message.initialize(this,Array.isArray(r)?r:[],0,-1,[],oe(this,gd)),!Array.isArray(r)&&typeof r=="object"&&(this.hallAddr=r.hallAddr)}get hallAddr(){return c.Message.getField(this,1)}set hallAddr(r){c.Message.setField(this,1,r)}get has_hallAddr(){return c.Message.getField(this,1)!=null}static fromObject(r){return new Yu({hallAddr:r.hallAddr})}toObject(){let r={};return this.hallAddr!=null&&(r.hallAddr=this.hallAddr),r}serialize(r){let a=r||new c.BinaryWriter;if(this.has_hallAddr&&this.hallAddr.length&&a.writeString(1,this.hallAddr),!r)return a.getResultBuffer()}static deserialize(r){let a=r instanceof c.BinaryReader?r:new c.BinaryReader(r),h=new Yu;for(;a.nextField()&&!a.isEndGroup();)switch(a.getFieldNumber()){case 1:h.hallAddr=a.readString();break;default:a.skipField()}return h}serializeBinary(){return this.serialize()}static deserializeBinary(r){return Yu.deserialize(r)}};gd=new WeakMap;let rk=Yu;Sm.SC_REQUEST_HALL_ADDR=Yu})(t=s.socket||(s.socket={}))})(i=e.snake||(e.snake={}))})(y||(y={}))});var Us,$M=b(()=>{"use strict";Us=class{constructor(){}};Us.MONTH="months",Us.DAYS="days",Us.HOURS="hours",Us.MINUTES="minutes",Us.SECOUNDS="seconds",Us.MS="ms"});var Zt,Et,ir=b(()=>{"use strict";oi();$M();Xe();Zt=class Zt{constructor(){}static formatMM(e){if(e<=0)return"00:000";let t,s;t=e/1e3,s=e%1e3;let n="";return t<=9&&(n+="0"),n+=Math.floor(t),n+=":",s<=9?n+="00":s<=99&&(n+="0"),n+=s,n}static format(e,t=":",s=!0){if(e<=0)return s?"00:00:00":"00:00";let n,o,l,u,p;u=e/3600,l=e%3600,p=l/60,n=l%60;let m="";return s&&(u<=9&&(m+="0"),m+=Math.floor(u)+t),p<=9&&(m+="0"),m+=Math.floor(p)+t,Math.ceil(n)<=9&&(m+="0"),m+=Math.ceil(n),m}static formatWithDay(e,t=":",s=!1){if(e<=0)return"00:00";let n,o,l,u,p;o=e/86400,l=e%86400,u=l/3600,l=l%3600,p=l/60,n=l%60;let m="";return o>=1?(m=O.getLanguage(16,Math.floor(o))+" ",u<=9&&(m+="0"),s&&n%2!=0&&(t=se.getColorText(t,"#412b20")),m+=Math.floor(u)+t,p<=9&&(m+="0"),m+=Math.floor(p)):(u<=9&&(m+="0"),m=Math.floor(u)+t,p<=9&&(m+="0"),m+=Math.floor(p)+t,Math.ceil(n)<=9&&(m+="0"),m+=Math.ceil(n)),m}static formatWithSecondByMs(e){return`${e/1e3}`}static getTimeByMs(e){let t=new Date(e);return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()}static formatWithDayByMs(e,t=":",s=!1){if(e<=0)return"00:00";let n,o,l,u,p,m;l=e/864e5,u=e%864e5,p=u/36e5,u=u%36e5,m=u/6e4,u=u%6e4,o=u/1e3,n=u%1e3;let d="";return l>=1&&(d=O.getLanguage(16,Math.floor(l))+" "),p<=9&&(d+="0"),d+=Math.floor(p)+t,m<=9&&(d+="0"),d+=Math.floor(m)+t,Math.ceil(o)<=9&&(d+="0"),d+=Math.floor(o)+" ",d+=Math.ceil(n),d}static getTimeArray(e,t="HH-MM-SS"){if(e=Math.max(0,e),t.indexOf("-")==-1)return[];let s=[],n=t.split("-");for(let o of n)o=="DD"?s.push(Math.floor(e/Zt.OneDaySceond)):o=="HH"?s.push(Math.floor(e%Zt.OneDaySceond/Zt.OneHourSceond)):o=="MM"?s.push(Math.floor(e%Zt.OneHourSceond/Zt.OneMiniuteSecond)):o=="SS"&&s.push(e%Zt.OneMiniuteSecond);return s}static getServerDate(e){return new Date(e)}static formatTimeStamp(e,t="YY-MT-DD HH:MM:SS",s=!1){let n=Zt.getServerDate(e),o="";if(t.indexOf("YY")>=0&&(o=(s?n.getUTCFullYear():n.getFullYear())+"",t=t.replace("YY",o)),t.indexOf("MT")>=0){let l=(s?n.getUTCMonth():n.getMonth())+1;l>9?o=l+"":o="0"+l,t=t.replace("MT",o)}if(t.indexOf("DD")>=0){let l=s?n.getUTCDate():n.getDate();l>9?o=l+"":o="0"+l,t=t.replace("DD",o)}if(t.indexOf("HH")>=0){let l=s?n.getUTCHours():n.getHours();l>9?o=l+"":o="0"+l,t=t.replace("HH",o)}if(t.indexOf("MM")>=0){let l=s?n.getUTCMinutes():n.getMinutes();l>9?o=l+"":o="0"+l,t=t.replace("MM",o)}if(t.indexOf("SS")>=0){let l=s?n.getUTCSeconds():n.getSeconds();l>9?o=l+"":o="0"+l,t=t.replace("SS",o)}return t}static formatTimeStamps(e,t="YY-MT-DD HH:MM:SS"){let s=Zt.getServerDate(e),n=t;return n=Zt.parseTimeDetail(s,n,"YY",!1),n=Zt.parseTimeDetail(s,n,"MT",!1),n=Zt.parseTimeDetail(s,n,"DD",!1),n=Zt.parseTimeDetail(s,n,"HH",!0),n=Zt.parseTimeDetail(s,n,"MM",!0),n=Zt.parseTimeDetail(s,n,"SS",!0),n}static parseTimeDetail(e,t,s,n){if(t.indexOf(s)>=0){let o,l;s=="YY"?l=e.getFullYear():s=="MT"?l=e.getMonth()+1:s=="DD"?l=e.getDate():s=="HH"?l=e.getHours():s=="MM"?l=e.getMinutes():s=="SS"&&(l=e.getSeconds()),l>9||!n?o=l.toString():o="0"+l,t=t.replace(s,o)}return t}static getServerTimeStr(){return Zt.formatTimeStamp(Laya.timer.currTimer)}static getTimeArr(){return Zt.getServerTimeStr().split("/")}static get getDay(){let t=Zt.getServerTimeStr().split("/");return parseInt(t[2])}static parseSheetTime(e){let t="";if(e){let s=e.length;for(let n=0;n<s;n++){let o="";e[n]<10?o="0"+e[n]:o=e[n],n!==s-1&&(o=o+":"),t+=o}}return t}static dateStringToTimestamp(e,t){let[s,n,o]=e.split("-").map(Number),l=Number(t),u=new Date(s,n-1,o,l).getTime();return Number(u)}static getTimestamp(e,t,s,n,o){return new Date(e,t-1,s,n,o).getTime()}static getCurrentDayTimestamp(){let e=new Date,t=e.getHours();return e.setHours(t,0,0,0),e.getTime()}static getYearMonthDat(e,t="-"){let s=new Date(e),n=s.getFullYear(),o=s.getMonth()+1<10?"0"+(s.getMonth()+1):""+(s.getMonth()+1),l=s.getDate()<10?"0"+s.getDate():""+s.getDate();return`${n}${t}${o}${t}${l}`}static formatDayAndTime(e,t="-"){let s=new Date(e),n=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),l=String(s.getDate()).padStart(2,"0"),u=String(s.getHours()).padStart(2,"0"),p=String(s.getMinutes()).padStart(2,"0");return{date:`${n}${t}${o}${t}${l}`,time:`${u}:${p}`}}static formatTimeExpires(e){return e<60*1e3?O.getLanguage(1214,e):e<60*60*1e3?O.getLanguage(1215,Math.floor(e/6e4)):e<24*60*60*1e3?O.getLanguage(1216,Math.floor(e/36e5)):O.getLanguage(1217,Math.floor(e/(24*60*60*1e3)))}static getTimeDifference(e,t=Us.MONTH){let s=new Date,o=new Date(e*1e3).getTime()-s.getTime();if(o<0)return{months:0,days:0,hours:0,minutes:0,seconds:0,ms:0};let l=o,u=Math.floor(o/1e3),p=Math.floor(u/60),m=Math.floor(p/60),d=Math.floor(m/24),f=Math.floor(d/30);return t==="months"?(d%=30,m%=24,p%=60,u%=60,l%=1e3):t==="days"?(m%=24,p%=60,u%=60,l%=1e3,f=0):t==="hours"?(p%=60,u%=60,l%=1e3,f=0,d=0):t==="minutes"?(u%=60,l%=1e3,f=0,d=0,m=0):t==="seconds"?(l%=1e3,f=0,d=0,m=0,p=0):t==="ms"&&(f=0,d=0,m=0,p=0,u=0),{months:t==="months"?f:0,days:t==="months"||t==="days"?d:0,hours:t==="months"||t==="days"||t==="hours"?m:0,minutes:t==="months"||t==="days"||t==="hours"||t==="minutes"?p:0,seconds:t!=="ms"?u:0,ms:l}}static checkTimeValid(e){let t=Math.floor(Date.now()/1e3),s=24*60*60;return!(t-e>s)}static formatTimeAgoFromTimestamp(e){let s=new Date().getTime()-e,n=Math.floor(s/(60*1e3)),o="";if(n<60)o=O.getLanguage(17,n);else if(n<24*60){let l=Math.floor(n/60);o=O.getLanguage(15,l)}else{let l=Math.floor(n/1440);o=O.getLanguage(16,l)}return O.getLanguage(18,o)}static formatTimeAgo(e){if(e<60*1e3)return O.getLanguage(40);if(e<60*60*1e3){var t=O.getLanguage(17,Math.floor(e/6e4));return O.getLanguage(18,t)}else if(e<24*60*60*1e3){var t=O.getLanguage(15,Math.floor(e/36e5));return O.getLanguage(18,t)}else{var t=O.getLanguage(16,Math.floor(e/864e5));return O.getLanguage(18,t)}}static formatDateDDMMYYYY(e,t="/"){let s=new Date(e),n=String(s.getDate()).padStart(2,"0"),o=String(s.getMonth()+1).padStart(2,"0"),l=s.getFullYear();return`${n}${t}${o}${t}${l}`}static getRestTime(e){let t=Math.floor(Date.now()/1e3),s=e-t;if(s<=0)return"00:00:00";let n=Math.floor(s/3600);s%=3600;let o=Math.floor(s/60),l=s%60,u=n<10?`0${n}`:`${n}`,p=o<10?`0${o}`:`${o}`,m=l<10?`0${l}`:`${l}`;return`${u}:${p}:${m}`}};Zt.OneDaySceond=24*3600,Zt.OneHourSceond=3600,Zt.OneMiniuteSecond=60;Et=Zt});var zI,gt,ds=b(()=>{"use strict";zI=class i{constructor(){this._isLoading=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}get isLoading(){return this._isLoading}init(){if(!this.txtLoadingView){var e=Laya.loader.getRes("scenes/notice/TxtLoadingView.lh");this.txtLoadingView=e.create()}}showLoading(e=!1){if(console.log("showLoading..."+e),this.txtLoadingView)e?(this._isLoading=!0,this.showMaskLoading(),this.showLazyLoading(),this._isLoading=!1):(this._isLoading=!0,this.showMaskLoading(),Laya.timer.once(3e3,this,this.showLazyLoading)),this.txtLoadingView.m_txtLabel&&(this.txtLoadingView.m_txtLabel.visible=!1);else return}showLoadingByInfo(e=""){console.log("showLoadingByInfo..."+e),this._isLoading=!0,this.showMaskLoading(),this.showLazyLoading(),this.txtLoadingView.zOrder=1000001,this.txtLoadingView.m_txtLabel.text=e,this.txtLoadingView.m_txtLabel.visible=!0}showMaskLoading(){this._isLoading&&(this.txtLoadingView.backLayer.name="backLayer",this.txtLoadingView.backLayer.mouseEnabled=!0,this.txtLoadingView.backLayer.mouseThrough=!1,this.txtLoadingView.backLayer.visible=!0)}showLazyLoading(){this._isLoading&&(console.log("showLazyLoading..."),this.txtLoadingView.visible=!0,this.txtLoadingView.zOrder=1000001,Laya.stage.addChild(this.txtLoadingView),this.txtLoadingView.x=(Laya.stage.width-this.txtLoadingView.width)/2,this.txtLoadingView.y=(Laya.stage.height-this.txtLoadingView.height)/2),Laya.timer.clear(this,this.showLazyLoading)}hideLoading(){if(console.log("hideLoading..."),this._isLoading=!1,this.txtLoadingView)this.txtLoadingView.removeSelf();else return}dispose(){this.txtLoadingView&&(this.txtLoadingView.destroy(),this.txtLoadingView.removeSelf(),this.txtLoadingView=null),this.txtLoadingView.backLayer&&(this.txtLoadingView.backLayer.destroy(),this.txtLoadingView.backLayer.removeSelf(),this.txtLoadingView.backLayer=null)}},gt=zI.getInstance()});var jI,Ny,GI=b(()=>{"use strict";cn();xd();ot();lr();jI=class i{constructor(){this.account_contract=null;this.tokenId=0}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){typeof window.ethereum>"u"}async getAccountVoFromServer(){let e=await ei.requestPost("cybertron-sys-api/api/v1/account/find",{address:He.walletAddress},!1,!1);if(e){let t=new In;return Object.assign(t,e),console.log("info========"+JSON.stringify(t)),t}return e}async updateProfile(e,t,s){var n=P.playerDto.sex,o=P.playerDto;let l=await ei.requestPost("wxgame/player/changeInfo",{name:e,sex:n,icon:t,country:s});return l?(o.icon=l.icon,o.country=l.country,o.createTime=l.createTime,o.name=l.name,o.sex=l.sex,o.snakeId=l.snakeId,o.skinId=l.skinId,o.maxKill=l.maxKill,o.maxAlive=l.maxAlive,o.score=l.score,o.lv=l.lv,o.club=l.club,o):null}async getTokenId(){return this.tokenId?this.tokenId:(this.tokenId=await this.account_contract.methods.tokenOfOwnerByIndex(He.walletAddress,0).call(),this.tokenId=parseInt(this.tokenId+""),this.tokenId)}},Ny=jI.getInstance()});var Fy,VI,He,lr=b(()=>{"use strict";cn();ut();We();mx();Fy=ok(wk());fx();my();$A();pM();Rt();nt();ir();Xe();ds();Ji();GI();ni();St();VI=class i{constructor(){this.loginRequestInfo={time:0,randomHex:"",r:"",s:"",v:"",roleId:""};this.tonLoginInfo=null}get getloginRequestInfo(){return this.loginRequestInfo}static getInstance(){return i._instance||(i._instance=new i),i._instance}async init(){if(typeof window.ethereum>"u"||K.Debug==2){console.log(O.getLanguage(26));return}it.sendCustumEvent(10),this.walletClient=zl({transport:Cl(window.ethereum)});var e,t=await i._instance.walletClient.getChainId();e=this.getChain(t),e||(e=qp),this.publicClient=Kp({chain:e,transport:Np()}),this.walletClient=zl({chain:e,transport:Cl(window.ethereum)});let s=await i._instance.publicClient.getChainId();console.log("clientChainId",t,s),it.sendCustumEvent(12),this.registerProxy(),it.sendCustumEvent(17)}async registerProxy(){Ny.init()}async getWalletAddress(){if(this.walletAddress)return this.walletAddress;let[e]=await this.walletClient.requestAddresses();return e}async dappLogin(){console.log("dappLogin this.walletAddress: "+this.walletAddress),it.sendCustumEvent(13),this.walletAddress=await this.getWalletAddress(),it.sendCustumEvent(14),await this.signAndLogin()}async signAndLogin(e=!1){var t=!0;let s=new Date().getTime(),n="",o="",l="",u="";if(K.Debug!=0)t=!1;else{let d=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);if(!e&&d){d=xs.decode(d);let f=d.split("&");s=parseFloat(f[0]),n=f[1],o=f[2],l=f[3],u=f[4];let g=Et.checkTimeValid(s);d&&s&&g&&n&&o&&l&&u&&(t=!1),console.log("needSign: "+t)}}if(t){console.log("111");var p=$p().substring(0,32);n=Re(p,{size:32}),s=new Date().getTime();let f=this.walletAddress+n+s,g=new Fy.default("SHA-256","TEXT",{encoding:"UTF8"});g.update(f);let _=g.getHash("HEX");if(console.log("进入签名",1),this.walletClient)try{let S=await this.walletClient.signMessage({account:this.walletAddress,message:_});console.log("签名结束",1);let x=S.substring(2);o="0x"+x.substring(0,64),l="0x"+x.substring(64,128),u="0x"+x.substring(128,130)}catch{Me.notice(O.getLanguage(62)),Laya.timer.once(1e3,this,this.signAndLogin,[e]);return}}this.loginRequestInfo.time=s,this.loginRequestInfo.randomHex=n,this.loginRequestInfo.r=o,this.loginRequestInfo.s=l,this.loginRequestInfo.v=u,this.loginRequestInfo.roleId=this.walletAddress,it.sendCustumEvent(15);var m=xs.encode(s+"&"+n+"&"+o+"&"+l+"&"+u);localStorage.setItem("TOX-COOKIE-CODE"+i._instance.walletAddress,m),ge.connect()}async main(){let e=Kp({chain:jl,transport:Np()}),t=zl({chain:jl,transport:Cl(window.ethereum)}),[s]=await t.requestAddresses(),n=await t.signMessage({account:s,message:"Hello world!"}),o=await e.verifyMessage({address:s,message:"Hello world!",signature:n});console.log("valid: "+o);let l=await fetch("http://localhost:3000/api/login",{method:"POST",body:JSON.stringify({address:t.account.address,signature:n})})}async refreshToken(){let e,t=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);t=xs.decode(t);let s=t.split("&"),n=parseFloat(s[0]),o=s[1],l=s[2],u=s[3],p=s[4];if(n&&o&&l&&u&&p){let m={debug:K.Debug,address:this.walletAddress,time:n,randomHex:o,r:l,s:u,v:p};e=await ei.requestPost("wxgame/player/getJwt",m,!1,!1).catch(d=>{}),e&&localStorage.setItem("TOX-COOKIE"+i._instance.walletAddress,e.loginToken)}return e}async checkNickName(e){let t={name:e,address:this.walletAddress};return await ei.requestPost("wxgame/player/nameCheck",t,!1,!1).catch(n=>{gt.hideLoading(),console.log("checkResult 失败")})}waitGetAccount(){Laya.timer.loop(2e3,this,this.getAcccount)}async getAcccount(){console.log("getAcccount");var e=!0;let t=new Date().getTime(),s="",n="",o="",l="";if(K.Debug!=0)e=!1;else{let d=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);d=xs.decode(d);let f=d.split("&");t=parseFloat(f[0]),s=f[1],n=f[2],o=f[3],l=f[4],t&&s&&n&&o&&l&&(e=!1),console.log("needSign: "+e)}if(e){var u=$p().substring(0,32);s=Re(u,{size:32}),t=new Date().getTime();let f=this.walletAddress+s+t,g=new Fy.default("SHA-256","TEXT",{encoding:"UTF8"});g.update(f);let _=g.getHash("HEX");console.log("进入签名",1);let S=await this.walletClient.signMessage({account:this.walletAddress,message:_});console.log("签名结束",1);let x=S.substring(2);n="0x"+x.substring(0,64),o="0x"+x.substring(64,128),l="0x"+x.substring(128,130)}let p,m={address:this.walletAddress,time:t,randomHex:s,r:n,s:o,v:l};if(p=await ei.requestPost("wxgame/player/getAccount",m,!1,!1).catch(d=>{}),p){Laya.timer.clear(this,this.getAcccount);let d=p.playerDto;localStorage.setItem("TOX-COOKIE"+i._instance.walletAddress,p.loginToken),v.event(E.EVENT_WAIT_PLAYERINFO,d)}}async createAcccount(e,t,s,n,o){console.log("createAcccount");var l=!0;let u=new Date().getTime(),p="",m="",d="",f="";if(K.Debug!=0)l=!1;else{let x=localStorage.getItem("TOX-COOKIE-CODE"+i._instance.walletAddress);x=xs.decode(x);let I=x.split("&");u=parseFloat(I[0]),p=I[1],m=I[2],d=I[3],f=I[4],u&&p&&m&&d&&f&&(l=!1)}if(l){var g=$p().substring(0,32);p=Re(g,{size:32}),u=new Date().getTime();let I=this.walletAddress+p+u,M=new Fy.default("SHA-256","TEXT",{encoding:"UTF8"});M.update(I);let A=M.getHash("HEX");if(console.log("进入签名",1),this.walletClient){let D=await this.walletClient.signMessage({account:this.walletAddress,message:A});console.log("签名结束",1);let j=D.substring(2);m="0x"+j.substring(0,64),d="0x"+j.substring(64,128),f="0x"+j.substring(128,130)}}var _=y.snake.socket.MessageType.MSG_USER_REGISTER,S=y.snake.socket.CS_USER_REGISTER.fromObject({icon:s,userName:e,country:n,walletAddr:this.walletAddress,invite:o,time:this.loginRequestInfo.time,randomHex:this.loginRequestInfo.randomHex,r:this.loginRequestInfo.r,s:this.loginRequestInfo.s,v:this.loginRequestInfo.v});return ge.send(_,S),null}async newAllowanceAddress(e,t){let s=i._instance.walletAddress,n=e;try{if(console.log("查看是否已经授权, owner:"+s+", spender:"+n+", publicClient.chain.id:"+this.publicClient.chain.id),t==0)return!0;let o=await i._instance.publicClient.readContract({address:t,abi:ai.TOKEN_ERC20ABI,functionName:"allowance",args:[s,n]});if(o=="0"){console.log("未授权，进行授权, owner:"+s+", allowance:"+o+", walletClient.chain.id:"+this.walletClient.chain.id);let l=await i._instance.walletClient.writeContract({address:t,abi:ai.TOKEN_ERC20ABI,functionName:"approve",args:[n,"100000000000000000000000000000000000000000000000"],account:s});console.log("授权hash============"+l);let u=await i._instance.publicClient.waitForTransactionReceipt({hash:l});return console.log(`Tx with hash: ${l}`,u),u&&u.status=="success"?(console.log(`Tx successful with hash: ${l}`),!0):!1}else return console.log("已授权, owner:"+s+", allowance:"+o),!0}catch(o){if(console.log("授权错误====》",o),o instanceof Error){let l=o.message;console.log("授权错误====》",l)}}}async allowanceAddressByTokenAddress(e,t){let s=new window.web3.eth.Contract(ai.TOKEN_ERC20ABI,t);return await s.methods.allowance(this.walletAddress,e).call()=="0"&&(console.log("ERC20 allowance!"),await s.methods.approve(e,"100000000000000000000000000000000000000000000000").send({from:this.walletAddress},(o,l)=>{if(o)return gt.hideLoading(),!1})),!0}async getERC20TokenBalance(e){return window.ethereum,await new window.web3.eth.Contract(ai.TOKEN_ERC20ABI,e).methods.balanceOf(this.walletAddress).call()}async getBalance2(e,t=void 0){let s=this.walletAddress;t&&(s=t);let n;return!e||e==ai.ADDRESS0?n=await i._instance.publicClient.getBalance({address:s}):n=await this.publicClient.readContract({address:e,abi:ai.TOKEN_ERC20ABI,functionName:"balanceOf",args:[s]}),console.log("getBalance2 publicClient.chain.id:"+this.publicClient.chain.id,"代币地址",e,"余额：",n),n}async getBankBalance(e,t,s){if(s=="WBNB"){let n=await i._instance.publicClient.getBalance({address:t});if(n)return n}else{let n=this.getBalance2(e,t);if(n)return n}}async switchChain(e){var t=this.getChainName(e);let s=await i._instance.walletClient.getChainId();if(K.isInto&&Laya.Browser.onIOS&&s!==e)return Me.notice(O.getLanguage(37,t)),!1;try{console.log("switchChain id:"+e),await this.walletClient.switchChain({id:e})}catch(n){if(console.log(n),n instanceof Error){let o=n.message;console.log("切换错误====》",o)}return Me.notice(O.getLanguage(37,t)),!1}return await this.resetPublicAndWallet(e),!0}async addChain(e){console.log(e);var t=this.getChain(e);return await this.walletClient.addChain({chain:t})}getChain(e){var t=null;switch(e){case qp.id:t=qp;break;case dy.id:t=dy;break;case jl.id:t=jl;break;case Sy.id:t=Sy;break;case ky.id:t=ky;break;case fy.id:t=fy;break;case gy.id:t=gy;break;case xy.id:t=xy;break;case Iy.id:t=Iy;break;case by.id:t=by;break;case yy.id:t=yy;break}return t}getChainName(e){var t="",s=this.getChain(e);return s&&(t=s.name),t}async resetPublicAndWallet(e){console.log("resetPublicAndWallet chain:"+e);var t=this.getChain(e);await i._instance.reInitPublicClient(t),await i._instance.reInitWalletClient(t)}reInitPublicClient(e){console.log("reInitPublicClient chain:"+e),this.publicClient=Kp({chain:e,transport:Np()})}reInitWalletClient(e){console.log("reInitWalletClient chain:"+e),this.walletClient=zl({chain:e,transport:Cl(window.ethereum)})}async getAuthStatus(){let e=i._instance.walletAddress;try{return await i._instance.publicClient.readContract({address:ai.SAT_ADDRESS,abi:ai.SAT_ABI,functionName:"getAuthStatus",args:[e]})}catch(t){if(console.log("授权错误====》",t),t instanceof Error){let s=t.message;console.log("授权错误====》",s)}}}async connectTonWallet(){console.log("connectTonWallet: 开始连接TON钱包");try{if(typeof window.TonConnectUI<"u"){console.log("TonConnectUI库已加载");let e=new window.TonConnectUI.TonConnectUI({manifestUrl:"tonconnect-manifest.json"});await e.connectWallet().then(()=>{console.log("钱包连接成功"),e.onStatusChange(t=>{if(console.log("钱包信息:",t),t&&t.account){let s=t.account.address;console.log("钱包地址:",s),i.getInstance().signTonMessage(e,s)}})}).catch(t=>{console.error("连接钱包失败:",t),alert("连接钱包失败: "+t.message)})}else console.error("TonConnectUI库未加载"),alert("请确保已加载TonConnectUI库")}catch(e){console.error("电报钱包操作失败:",e),alert("电报钱包操作失败，请稍后再试")}}async signTonMessage(e,t){try{let s=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2),n={method:"ton_signMessage",params:{text:`登录验证: ${s}`}},o=await e.sendRequest(n);console.log("签名结果:",o),alert("签名成功，已完成登录验证"),this.saveTonSignatureResult(t,s,o)}catch(s){console.error("签名失败:",s),alert("签名失败: "+s.message)}}saveTonSignatureResult(e,t,s){this.tonLoginInfo={address:e,message:t,signature:s,timestamp:Date.now()},console.log("已保存TON签名信息:",this.tonLoginInfo)}getTonLoginInfo(){return this.tonLoginInfo}},He=VI.getInstance()});var qM,Oi,ei,cn=b(()=>{"use strict";oi();$l();lr();St();qM=Laya.HttpRequest,Oi=class Oi{static requestGet(e,t,s=!1){return new Promise((n,o)=>{var l=Laya.Pool.getItem("HttpRequest");l||(l=new qM),l.http.timeout=2e3,l.on(Laya.Event.COMPLETE,null,f),l.on(Laya.Event.ERROR,null,g),l.http.onreadystatechange=()=>{if(l.http.readyState===XMLHttpRequest.DONE){var S=l.http.status;S>=200&&S<400||(o(),_())}};let u=localStorage.getItem("TOX-COOKIE"+He.walletAddress),p=["Content-Type","application/json"];u&&(p=[...p,"Authorization",u]);let m;e.startsWith("http")?m=e+d(t):m=Oi.httpRoot+"/"+e+d(t),Oi.httpRoot!="https://api.phantomarena.co"&&console.log("REQUEST_GET "+m,1),l.send(m,null,"get","json",p);function d(S){if(typeof S=="string")return S;let x="";for(let I in S)x+="&"+I+"="+S[I];return x}function f(S){s?S.code==="0"?n(S.data):(ki.showErrorWord(parseInt(S.code)),o(S.code)):n(S),_()}function g(S,x){o(S),_()}function _(){l.off(Laya.Event.COMPLETE,null,f),l.off(Laya.Event.ERROR,null,g),Laya.Pool.recover("HttpRequest",l)}})}static startHeart(){Laya.stage.on(Laya.Event.BLUR,this,()=>{this.stopHeartInStage=!0,console.log("失去焦点, 停止心跳")}),Laya.stage.on(Laya.Event.FOCUS,this,()=>{this.stopHeartInStage=!1,console.log("获取焦点, 开始心跳")}),Laya.timer.loop(3e3,this,this.onHeart)}static async onHeart(){console.log("onHeart")}static requestPost(e,t,s=!1,n=!0,o=!1){let l=localStorage.getItem("TOX-COOKIE"+He.walletAddress);return s&&!l?[]:new Promise((u,p)=>{var m=Laya.Pool.getItem("HttpRequest");m||(m=new qM),m.http.timeout=1e4,m.once(Laya.Event.COMPLETE,null,g),m.once(Laya.Event.ERROR,null,_);let d=[];l&&n&&(d=[...d,"Authorization",l]);var f=Oi.seq+1;Oi.seq=f,e=="wxgame/sys/ping"?K.showHeartLog&&console.log(se.GetLogTime+" "+f+" >>> HTTP_POST "+Oi.httpRoot+"/"+e+" "+JSON.stringify(t),l):console.log(se.GetLogTime+" "+f+" >>> HTTP_POST "+Oi.httpRoot+"/"+e+" "+JSON.stringify(t),l),e.startsWith("http")?m.send(e,t,"post","json",d):m.send(Oi.httpRoot+"/"+e,t,"post","json",d);async function g(x){if(e=="wxgame/sys/ping"?K.showHeartLog&&console.log(se.GetLogTime+" "+f+" <<< hTTP_RCV data: "+JSON.stringify(x),1):console.log(se.GetLogTime+" "+f+" <<< hTTP_RCV data: "+JSON.stringify(x),1),x.errorCode==0||x.errorCode==="0")u(x);else{if(x.errorCode===18)se.titickNotEnought();else if(x.errorCode===26)se.RemError();else if(x.errorCode!==29)if(x.errorCode===30)se.alertYes(ki.get(x.errorCode));else if(x.errorCode===32)se.alertYes(ki.get(x.errorCode));else if(x.errorCode===2||x.errorCode===21)se.alertNoAll(ki.get(x.errorCode));else if(x.errorCode===5)if(K.Debug==0){localStorage.setItem("TOX-COOKIE"+He.walletAddress,"");var I=await He.refreshToken();I&&Oi.requestPost(e,t,s,n)}else localStorage.setItem("TOX-COOKIE"+He.walletAddress,""),ki.showErrorWord(parseInt(x.errorCode));else x.errorCode===17?K.Debug==0?(localStorage.setItem("TOX-COOKIE"+He.walletAddress,""),He.signAndLogin(),ki.showErrorWord(parseInt(x.errorCode))):(localStorage.setItem("TOX-COOKIE"+He.walletAddress,""),ki.showErrorWord(parseInt(x.errorCode))):x.errorCode===51?se.commTipWithYes(ki.get(x.errorCode)):o||ki.showErrorWord(parseInt(x.errorCode),x.errorParams);p(x.errorCode)}S()}function _(x,I){console.log("errorHandler data: "+x,1),o||ki.showErrorWord(500),p(x),S()}function S(){m.off(Laya.Event.COMPLETE,null,g),m.off(Laya.Event.ERROR,null,_),Laya.Pool.recover("HttpRequest",m)}})}static async pingServer(e){return new Promise(t=>{if(!e){t(9999);return}e.startsWith("@")&&(e=e.substring(1));let s=e;s.includes("?")&&(s=s.split("?")[0]);let n=()=>{let l=Date.now(),u=!1,p=new XMLHttpRequest;p.onreadystatechange=function(){if(!u&&p.readyState>=1&&p.readyState<4){let m=Date.now()-l;m>0&&(u=!0,t(m))}},p.onload=function(){if(!u){let m=Date.now()-l;u=!0,t(m>0?m:1)}},p.onerror=function(m){if(!u){let d=Date.now()-l;u=!0,t(d>0?d:500)}},p.timeout=5e3,p.ontimeout=function(){u||(u=!0,t(5e3))};try{let m=Date.now(),d=Math.floor(Math.random()*1e4),f=`${s}?_t=${m}&r=${d}`;p.open("GET",f,!0),setTimeout(()=>{try{p.send()}catch{u||(u=!0,t(9999))}},10)}catch{u||(u=!0,t(9999))}setTimeout(()=>{u||(u=!0,t(9999))},5500)};(()=>{let l=Date.now(),u=!1,p=new Image;p.onload=function(){if(!u){let g=Date.now()-l;u=!0,t(g>0?g:1)}},p.onerror=function(){if(!u){let g=Date.now()-l;u=!0,g>0?t(g):n()}},setTimeout(()=>{u||(u=!0,n())},3e3);let m=Date.now(),d=Math.floor(Math.random()*1e4),f=`${s}?_t=${m}&r=${d}&type=image`;p.src=f})()})}};Oi.httpRoot=getServer(),Oi.needHeart=!0,Oi.stopHeartInRoom=!1,Oi.stopHeartInStage=!1,Oi.lastPreContractstartRoomId=-1,Oi.lastPrecontractReadyRoomId=-1,Oi.seq=0;ei=Oi});var Ve,se,oi=b(()=>{"use strict";Qu();wi();Io();ux();$l();Xe();Ji();ot();ni();Ze();Ri();St();cn();Ve=class Ve{static getColorText(e,t="#FFFF00"){return'<font color="'+t+'">'+e+"</font>"}static getChildByName(e,t,s="name"){if(e&&e.hasOwnProperty(s)&&e[s]==t)return e;let n=e;if(n){let o=n.numChildren,l;for(let u=0;u<o;++u)if(l=n.getChildAt(u),l instanceof Laya.Sprite&&(l=Ve.getChildByName(l,t,s)),l&&l.hasOwnProperty(s)&&l[s]==t)return l}return null}static getChildByAttri(e,t){if(e&&e.hasOwnProperty(t)&&e[t])return e[t];let s=e;if(s){let n=s.numChildren,o;for(let l=0;l<n;++l)if(o=s.getChildAt(l),o instanceof Laya.Sprite){if(o=Ve.getChildByAttri(o,t),o)return o}else if(o&&o.hasOwnProperty(t)&&o[t])return o[t]}return null}static logs(e,t=0,s=!0,n=16777215){if(e=Ve.GetLogTime+" "+e,s)switch(t){case 0:n=16777215;break;case 1:n=16777215;break;case 2:n=16711680;break;case 3:n=16777215;break;case 4:n=13434777;break;case 5:n=16742399;break}}static get GetLogTime(){let e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()}static get GRAY(){return Ve._GRAY||(Ve._GRAY=new Laya.ColorFilter([.3,.59,.11,0,0,.3,.59,.11,0,0,.3,.59,.11,0,0,0,0,0,1,0])),Ve._GRAY}static get GRAY1(){if(!Ve._GRAY1){let e=[.3086,.16094,.082,0,0,.2086,.26094,.082,0,0,.1086,.36094,.082,0,0,0,0,0,1,0];Ve._GRAY1=new Laya.ColorFilter(e)}return Ve._GRAY1}static get GLOW(){return Ve._GLOW||(Ve._GLOW=new Laya.GlowFilter("#ffffff",12,0,0)),Ve._GLOW}static get YELLOWGLOW(){return Ve._YELLOWGLOW||(Ve._YELLOWGLOW=new Laya.GlowFilter("#ffff00",10,0,0)),Ve._YELLOWGLOW}static get BLUR(){if(!Ve._BLUR){let e=new Laya.BlurFilter;e.strength=5,Ve._BLUR=[e]}return Ve._BLUR}static get isParseWWhiteUser(){return Ve._isParseWWhiteUser}static get isWhiteName(){return K.isWhiteList}static itemListHandler(e,t){let s=e.dataSource,n=s[0],o=s[1],l=2,u=e.skin;u&&(u.indexOf("xinSmall")!=-1?l=1:u.indexOf("xinBig")!=-1&&(l=3));let p;l==1?p="common/common_clip/clip_xinSmall"+o+".png":l==3?p="common/common_clip/clip_xinBig"+o+".png":p="common/common_clip/clip_xinMiddle"+o+".png",e.skin=p,e.dataSource=n}static setStarList(e,t){e.renderHandler=new Laya.Handler(Ve,Ve.itemListHandler),e.dataSource=t}static get BLACK(){return Ve._BLACK||(Ve._BLACK=new Laya.ColorFilter,Ve._BLACK.setColor("#000000")),Ve._BLACK}static get YELLOW(){return Ve._YELLOW||(Ve._YELLOW=new Laya.ColorFilter,Ve._YELLOW.setColor("#ffe64b")),Ve._YELLOW}static get YELLOW1(){return Ve._YELLOW1||(Ve._YELLOW1=new Laya.ColorFilter,Ve._YELLOW1.setColor("#fee14e")),Ve._YELLOW1}static get RED1(){return Ve._RED1||(Ve._RED1=new Laya.ColorFilter,Ve._RED1.setColor("#ff4537")),Ve._RED1}static get BLUE(){return Ve._BLUE||(Ve._BLUE=new Laya.ColorFilter,Ve._BLUE.setColor("#2f72a7")),Ve._BLUE}static setColor(e="#13e2cf"){let t=new Laya.ColorFilter;return t.setColor(e),t}static heroNotEnought(e=1286){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(e),Ne.YES,null)}static popTip(e){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(e),Ne.YES,null)}static onGetHero(e=-1){je.setCurrentScene(he.M_SCENE_SHOP,[1,e])}static popToMain(){var e="A network error occurred. Please check your connection and try again.";Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(e),Ne.YES,Laya.Handler.create(this,this.setToMainScene))}static setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}static isFightHero(e){return P.playerDto.fightHeroPk==e||e==P.playerDto.newFightHeroPk}static titickNotEnought(e=-1){var t=2,s=$.getSheetDataByMultiKey($.m_dicShopMulDic,[t,e]);if(s)Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(1060),Ne.CANCEL,Laya.Handler.create(this,this.onGetTitck,[e]));else{var n=$.m_dicItems.get(e);n?Me.notice(O.getLanguage(42,O.getLanguage(n.name))):ki.showErrorWord(18)}}static RemError(){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(35),Ne.YES,null)}static alertYes(e){Mi.AlertByType(Ne.BASEALERTVIEW,e,Ne.YES,null)}static TransactionErrorTip(){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(41),Ne.YES,null)}static alertNoAll(e){Mi.AlertByType(Ne.BASEALERTVIEW,e,Ne.NO_ALL)}static onGetTitck(e=-1){je.setCurrentScene(he.M_SCENE_SHOP,[2,e])}static moneyNotEnought(e=tt.TYPE_TOX){var t=$.m_dicItems.get(e),s=O.getLanguage(t.name);Me.notice(O.getLanguage(36,s))}static onGetMoney(e){je.setCurrentScene(he.M_SCENE_ASSET,[1,e])}static openSquidGame(){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(6056),Ne.CANCEL,Laya.Handler.create(this,this.onOpenSquidGame))}static onOpenSquidGame(){window.location.href="https://squidgamefi.io/?invitationCode=2oi"}static onOpenSwapView(){window.open("https://swap.phantomarena.ai","_blank")}static otherLogin(){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(32),Ne.YES,Laya.Handler.create(this,it.reload))}static netError(){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(44),Ne.YES,Laya.Handler.create(this,it.reload))}static popMatchErrorToMain(){if(!this.hasPopMatchErrorToMain){var e="A network error occurred. Please check your connection and try again.";Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(e),Ne.YES,Laya.Handler.create(this,this.clickPopMatchErrorToMain))}}static clickPopMatchErrorToMain(){this.setToMainScene(),this.hasPopMatchErrorToMain=!1}static commTipWithYes(e){Mi.AlertByType(Ne.BASEALERTVIEW,e,Ne.YES)}static shakeSprs(e,t=2,s=4,n=32){if(Ve.isShake)return;Ve.isShake=!0;let o=e.length,l=[];for(let d=0;d<o;d++){let f=e[d];l.push([f.x,f.y])}let u=[0,0],p=0,m=function(){u[p%2]=p++%4<2?0:s,p>t*4+1&&(Laya.timer.clear(Laya.stage,m),p=0,Ve.isShake=!1);for(let d=0;d<o;d++){let f=e[d];f.x=u[0]+l[d][0],f.y=u[1]+l[d][1]}};Laya.timer.loop(n,Laya.stage,m)}static shake(e,t=2,s=4,n=32){if(Ve.isShake)return;Ve.isShake=!0;let o=new Laya.Point(e.x,e.y),l=[0,0],u=0,p=function(){l[u%2]=u++%4<2?0:s,u>t*4+1&&(Laya.timer.clear(Laya.stage,p),u=0,Ve.isShake=!1),e.x=l[0]+o.x,e.y=l[1]+o.y};Laya.timer.loop(n,Laya.stage,p)}static async getNpcNames(e=1){var t=O.getLanTypeById(P.m_strLanguage);t.indexOf("-")!=-1&&(t=t.split("-")[0]);var s=`https://wss-room-sg.queengame.io/get-names?lang=${t}&count=${e}`,n=await ei.requestGet(s);return console.log("getNpcNames: ",n),n}};Ve._isParseWWhiteUser=!1,Ve.isWWhiteUser=!1,Ve.hasPopMatchErrorToMain=!1,Ve.isShake=!1;se=Ve});var rt,lm=b(()=>{"use strict";rt=class extends Laya.Event{constructor(){super()}};rt.EVENT_GLOBAL_ERROR_CODE="EVENT_GLOBAL_ERROR_CODE",rt.EVENT_HALL_SOCKET_OPEN="EVENT_HALL_SOCKET_OPEN",rt.EVENT_HALL_SOCKET_ERROR="EVENT_HALL_SOCKET_ERROR",rt.EVENT_HALL_SOCKET_CLOSE="EVENT_HALL_SOCKET_CLOSE",rt.EVENT_HALL_STOP_HEART="EVENT_HALL_STOP_HEART",rt.EVENT_HALL_SHOW_TIP_DELAY="EVENT_HALL_SHOW_TIP_DELAY",rt.EVENT_ROOM_SOCKET_OPEN="EVENT_ROOM_SOCKET_OPEN",rt.EVENT_ROOM_SOCKET_ERROR="EVENT_ROOM_SOCKET_ERROR",rt.EVENT_ROOM_SOCKET_CLOSE="EVENT_ROOM_SOCKET_CLOSE",rt.EVENT_ROOM_STOP_HEART="EVENT_ROOM_STOP_HEART",rt.EVENT_ROOM_SHOW_TIP_DELAY="EVENT_ROOM_SHOW_TIP_DELAY",rt.EVENT_ROOM_HEART_BEAT="EVENT_ROOM_HEART_BEAT"});var w,qt=b(()=>{"use strict";w=class{};w.FindView="FindView",w.FindEndView="FindEndView",w.FindAskDialog="FindAskDialog",w.FindRankUpDialog="FindRankUpDialog",w.QuickTipDialog="QuickTipDialog",w.QuickEndView="QuickEndView",w.QuickShareView="QuickShareView",w.QuickOperatorDialog="QuickOperatorDialog",w.MainView="MainView",w.RoleDialog="RoleDialog",w.RemGetDialog="RemGetDialog",w.QuickRechargeDialog="QuickRechargeDialog",w.CreateNameDialog="CreateNameDialog",w.DailyTaskDialog="DailyTaskDialog",w.ActivityTaskDialog="ActivityTaskDialog",w.ShareDialog="ShareDialog",w.InvitationCenterDialog="InvitationCenterDialog",w.DailyTaskDrawDialog="DailyTaskDrawDialog",w.GuideView="GuideView",w.GuideDialogView="GuideDialogView",w.ShareView="ShareView",w.MainTopView="MainTopView",w.GetMoreDialog="GetMoreDialog",w.ShopView="ShopView",w.ItemGetDialog="ItemGetDialog",w.EquipStarUpDialog="EquipStarUpDialog",w.RewardGetDialog="RewardGetDialog",w.AssetNewView="AssetNewView",w.GetTitleDialog="GetTitleDialog",w.NewFunUnLockDialog="NewFunUnLockDialog",w.DialogView="DialogView",w.MallView="MallView",w.MallCardView="MallCardView",w.MallBuyDialog="MallBuyDialog",w.FittingUiView="FittingUiView",w.TaskDialog="TaskDialog",w.CommentDialog="CommentDialog",w.PotraitChangDialog="PotraitChangDialog",w.ClothespressView="ClothespressView",w.ItemSellDialog="ItemSellDialog",w.ItemInfoDialog="ItemInfoDialog",w.OnlineAward="OnlineAward",w.MaillView="MailView",w.MailSendView="MailSendView",w.GameSettingDialog="GameSettingDialog",w.GamesettingSoundView="GamesettingSoundView",w.GameSettingLanguageDialog="GameSettingLanguageDialog",w.GameSettingVersionDialog="GameSettingVersionDialog",w.FriendMainView="FriendMainView",w.FriendSearchView="FriendSearchView",w.FriendGetRewardDialog="FriendGetRewardDialog",w.FriendRewardDialog="FriendRewardDialog",w.PreLoadingView="PreLoadingView",w.RechargeDialog="RechargeDialog",w.WalletChooseHeroDialog="WalletChooseHeroDialog",w.EmployInfoDialog="EmployInfoDialog",w.WalletChoosePropsDialog="WalletChoosePropsDialog",w.FirstRechargeDialog="FirstRechargeDialog",w.FirstWeekRechargeView="FirstWeekRechargeView",w.ClientErrView="ClientErrView",w.RoleUpgradeView="RoleUpgradeView",w.ActiveRechargeView="ActiveRechargeView",w.SmallSaleView="SmallSaleView",w.RechargeSelectDialog="RechargeSelectDialog",w.FBLikeView="FBLikeView",w.TurnSuitPreView="TurnSuitPreView",w.SlotMachineView="SlotMachineView",w.SlotMachineRewardPreDialog="SlotMachineRewardPreDialog",w.SlotMachineResultDialog="SlotMachineResultDialog",w.GashaponView="GashaponView",w.GashaponRewardView="GashaponRewardView",w.ActivityRankRewardView="ActivityRankRewardView",w.AddRechargeView="AddRechargeView",w.CupMatchStartDialog="CupMatchStartDialog",w.CupMatchEndDialog="CupMatchEndDialog",w.CreateLoginView="CreateLoginView",w.SelectHeadDialog="SelectHeadDialog",w.RoleInfoDialog="RoleInfoDialog",w.SelectHeroDialog="SelectHeroDialog",w.CreateSubWalletDialog="CreateSubWalletDialog",w.WalletDialog="WalletDialog",w.WalletTransferDialog="WalletTransferDialog",w.CardPayView="CardPayView",w.SwapView="SwapView",w.GamesettingView="GamesettingView",w.GameSettingGameAccountView="GameSettingGameAccountView",w.NoticeDialog="NoticeDialog",w.HelpDialog="HelpDialog",w.ImgDialog="ImgDialog",w.ChampDetailDialog="ChampDetailDialog",w.ChampRecordDialog="ChampRecordDialog",w.GuildInfoDialog="GuildInfoDialog",w.CreateUnionDialog="CreateUnionDialog",w.UnionInfoView="UnionInfoView",w.UnionEarningView="UnionEarningView",w.UnionRevenueDetailDialog="UnionRevenueDetailDialog",w.UnionSetRevenueDialog="UnionSetRevenueDialog",w.UnionBattleRecordDialog="UnionBattleRecordDialog",w.UnionRevenueRecordDialog="UnionRevenueRecordDialog",w.LoadDialog="LoadDialog",w.ChangeHeadDialog="ChangeHeadDialog",w.CreateRoomDialog="CreateRoomDialog",w.CreateRentalDialog="CreateRentalDialog",w.MyLeasedDialog="MyLeasedDialog",w.MyRentedDialog="MyRentedDialog",w.MyRentalBuyDialog="MyRentalBuyDialog",w.BuyTicketDialog="BuyTicketDialog",w.EnterRoomView="EnterRoomView",w.MatchEndRankView="MatchEndRankView",w.MatchEndTeamRankView="MatchEndTeamRankView",w.MatchReadyView="MatchReadyView",w.MatchEndView="MatchEndView",w.MatchEndRewardTokensDialog="MatchEndRewardTokensDialog",w.HeroGetDialog="HeroGetDialog",w.InputPwdDialog="InputPwdDialog",w.RoomInfoDialog="RoomInfoDialog",w.MailDialog="MailDialog",w.TeamCreateShareDialog="TeamCreateShareDialog",w.TeamShareDialog="TeamShareDialog",w.TeamJoinUsingDialog="TeamJoinUsingDialog",w.MyTeamDialog="MyTeamDialog",w.TeamInfoDialog="TeamInfoDialog",w.MyFriendDialog="MyFriendDialog",w.BuyPropDialog="BuyPropDialog",w.UnionAttrView="UnionAttrView",w.UnionAttrLvUpDialog="UnionAttrLvUpDialog",w.UnionAttributeDetailsDialog="UnionAttributeDetailsDialog",w.NoServerView="NoServerView",w.UnionMemberMoreDialog="UnionMemberMoreDialog",w.HeroUpgradeDialog="HeroUpgradeDialog",w.HeroDetailDialog="HeroDetailDialog",w.SkillTipDialog="SkillTipDialog",w.TransferRecordDialog="TransferRecordDialog",w.JoinRoomDialog="JoinRoomDialog",w.SnakeUpgradeDialog="SnakeUpgradeDialog",w.SnakeUpgradeSuccessDialog="SnakeUpgradeSuccessDialog",w.PlayerUpgradeSuccessDialog="PlayerUpgradeSuccessDialog",w.Knapsack="Knapsack",w.KnapsackTipDialog="KnapsackTipDialog",w.HeroFormationDialog="HeroFormationDialog",w.SignInDialog="SignInDialog",w.InviteRewardDialog="InviteRewardDialog",w.ChallengLoseDialog="ChallengLoseDialog",w.ChallengWinDialog="ChallengWinDialog",w.ChallengBossDialog="ChallengBossDialog",w.ThirbleDropDialog="ThirbleDropDialog",w.LevelDropDialog="LevelDropDialog",w.UseCardDialog="UseCardDialog",w.ArenaView="ArenaView",w.MyBookingView="MyBookingView",w.ArenaLoseDialog="ArenaLoseDialog",w.ArenaBattleDialog="ArenaBattleDialog",w.ArenaWinDialog="ArenaWinDialog",w.ArenaWarNotesView="ArenaWarNotesView",w.ArenaRuleDialog="ArenaRuleDialog",w.EquipSelectDialog="EquipSelectDialog",w.EquipDetailDialog="EquipDetailDialog",w.HireDetailDialog="HireDetailDialog",w.ProxyDetailDialog="ProxyDetailDialog",w.WithDrawRecordDialog="WithDrawRecordDialog",w.NodeRevenueRecordDialog="NodeRevenueRecordDialog",w.RentalRecordDialog="RentalRecordDialog",w.PrivateChatDialog="PrivateChatDialog",w.AirdropRecordDialog="AirdropRecordDialog",w.ActivityInfoDialog="ActivityInfoDialog",w.CharacterStarDialog="CharacterStarDialog",w.LastDrawDialog="LastDrawDialog",w.IgoPageView="IgoPageView",w.IgoJoinDialog="IgoJoinDialog",w.IgoRecordDialog="IgoRecordDialog",w.PveChoosePropsDialog="PveChoosePropsDialog",w.ReferralDialog="ReferralDialog",w.ReferralL2Dialog="ReferralL2Dialog",w.TotalBattlesDialog="TotalBattlesDialog",w.DepositDialog="DepositDialog",w.WithdrawDialog="WithdrawDialog",w.CreateClubDialog="CreateClubDialog",w.CreateClubRoomDialog="CreateClubRoomDialog",w.SettingRateDialog="SettingRateDialog",w.ChangeClubHeadDialog="ChangeClubHeadDialog",w.JoinClubRoomDialog="JoinClubRoomDialog"});var _e,Pt=b(()=>{"use strict";St();ot();nt();oi();_e=class i{static encodeMessage(e,t,s){var n=i.createHeadMessage(e,s),o=i.createMessageBase(n,t),l=o.serializeBinary(),u=l.length,p=new Uint8Array([(u&4278190080)>>>24,(u&16711680)>>>16,(u&65280)>>>8,(u&255)>>>0]),m=new Uint8Array(p.byteLength+l.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(l),p.byteLength),m}static decodeMessage(e,t){var s=new DataView(e,t+0,t+4).getInt32(0,!1),n=t+4+s,o=e.slice(t+4,t+4+s),l=y.snake.socket.CMsgBase.deserializeBinary(o);return[l,n]}static createHeadMessage(e,t,s,n){t||(s=!0),!n&&P.playerDto&&(n=P.playerDto.pid);var o=y.snake.socket.CMsgHead.fromObject({msgtype:e,msgcode:1,roleId:n});return o}static createMessageBase(e,t){var s=y.snake.socket.CMsgBase.fromObject({msghead:e,msgbody:t});return s}static getMsgBody(e,t=null){var s=null,n=e.msghead.msgtype,o=e.msghead.msgcode;return t||(t=Laya.ClassUtils.getClass(n+"")),t?(s=t.deserializeBinary(e.msgbody).toObject(),K.Debug==2&&console.log(se.GetLogTime,"[DataUtil]  ------<<<<<<<< RECV CMD:"+n+", CODE:",o+", DATA:",s)):console.warn(se.GetLogTime,"[DataUtil]  ------<<<<<<<< RECV CMD:"+n+", CODE:",o+", className解析失败!"),s}}});var Hs,WI=b(()=>{"use strict";Hs=class{}});var oa,KI=b(()=>{"use strict";oa=class{}});var $i,$I,qe,rr=b(()=>{"use strict";et();$i=class $i{constructor(){this._m_bPlayMusic=!0;this._m_bPlayeSound=!0;this._musicVolume=1;this._soundVolume=1;this.soundName_bg="bgm";this.soundName_hit="hit.mp3";this.soundName_snakeBuy="snakeBuy.mp3";this.soundName_snakeUpdate="snakeUpdate.mp3";this.soundName_win="result_win.mp3";this.soundName_fail="result_fail.mp3";this.soundName_kill_1="kill_1.mp3";this.soundName_kill_2="kill_2.mp3";this.soundName_kill_3="kill_3.mp3";this.soundName_kill_4="kill_4.mp3";this.soundName_kill_5="kill_5.mp3";this.soundName_eat_food_1="eat_food1.mp3";this.soundName_eat_food_2="eat_food2.mp3";this.soundName_eat_food_3="eat_food3.mp3";this.soundName_kill_die="kill_die.mp3";this.soundName32="ui32.ogg"}static getInstance(){return $i._instance||($i._instance=new $i),$i._instance}get m_bPlayMusic(){return this._m_bPlayMusic}set m_bPlayMusic(e){this._m_bPlayMusic=e,e?this.m_strMusicURL!=null&&this.playMusicByURL(this.m_strMusicURL):this.musicChannel&&this.musicChannel.stop()}getMusicVolume(){return this._musicVolume}setMusicVolume(e){this._musicVolume=e,Laya.SoundManager.setMusicVolume(e),this.saveMusicVolume()}getSoundVolume(){return this._soundVolume}setSoundVolume(e){this._soundVolume=e,Laya.SoundManager.setSoundVolume(e),this.saveSoundVolume()}saveMusicVolume(){Laya.LocalStorage.setItem($i.COOKIE_CF_MUSIC,this._musicVolume.toString())}saveSoundVolume(){Laya.LocalStorage.setItem($i.COOKIE_CF_SOUND,this._soundVolume.toString())}loadVolumeSettings(){let e=Laya.LocalStorage.getItem($i.COOKIE_CF_MUSIC);e!=null&&e!==""&&(this._musicVolume=parseFloat(e),Laya.SoundManager.setMusicVolume(this._musicVolume));let t=Laya.LocalStorage.getItem($i.COOKIE_CF_SOUND);t!=null&&t!==""&&(this._soundVolume=parseFloat(t),Laya.SoundManager.setSoundVolume(this._soundVolume))}init(){this.loadVolumeSettings();let e=Laya.LocalStorage.getItem($i.COOKIE_CF_MUSIC);e!=null&&e!=""&&(this.m_bPlayMusic=parseFloat(e)>0);let t=Laya.LocalStorage.getItem($i.COOKIE_CF_SOUND);t!=null&&t!=""&&(this.m_bPlayeSound=parseFloat(t)>0),this.switchMusic(this.m_bPlayMusic),this.switchSound(this.m_bPlayeSound)}get m_bPlayeSound(){return this._m_bPlayeSound}set m_bPlayeSound(e){this._m_bPlayeSound=e}playMusicByURL(e){this.m_bPlayMusic&&(this.m_strMusicURL,this.m_strMusicURL==e&&this.musicChannel,this.m_strMusicURL=e,Laya.SoundManager.stopMusic(),this.musicChannel=Laya.SoundManager.playMusic(e,0,new Laya.Handler(this,this.onComplete)))}playMusicByName(e,t=".ogg"){let s=te.getSoundURL(e,t);this.playMusicByURL(s)}playSound(e,t=1){this.m_bPlayeSound&&Laya.SoundManager.playSound(e,t,new Laya.Handler(this,this.onComplete))}playSoundByName(e,t=1){let s=te.getSoundURLogg(e);this.playSound(s,t)}stopSoundByName(e){let t=te.getSoundURLogg(e);Laya.SoundManager.stopSound(t)}switchMusic(e){let t=e?this._musicVolume:0;Laya.SoundManager.setMusicVolume(t),$i.getInstance().m_bPlayMusic=e}switchSound(e){let t=e?this._soundVolume:0;Laya.SoundManager.setSoundVolume(t),$i.getInstance().m_bPlayeSound=e}onComplete(){}};$i.COOKIE_CF_MUSIC="COOKIE_CF_MUSIC",$i.COOKIE_CF_SOUND="COOKIE_CF_SOUND";$I=$i,qe=$I.getInstance()});var Q,fi=b(()=>{"use strict";Q=class{};Q.GameConfig={debug:!1,version:"1.0.0",frameRate:"30",defaultVolume:.7,skills:{speedUp:{duration:5,cooldown:10},shield:{duration:3,cooldown:15},magnet:{duration:8,cooldown:20},invisible:{duration:4,cooldown:25}}},Q.uiZOrder={common:1e3,hint:2e3,loading:2001},Q.closeType={cancel:1,close:2,ok:3,keyback:4},Q.JoystickMODE={FIXED:1,MOVED:2},Q.JoystickEventType={JET_TOUCH_BEGIN:1,JET_TOUCH_MOVE:2,JET_TOUCH_END:3},Q.JoystickSize={JoyStickBg:80,JoyStickHandleBg:40},Q.snakeType={SELF:1,OTHERS:2},Q.roomType={1:{1:{1:2,2:3,3:4},2:5,3:6},2:7,3:1,4:8},Q.snakeSpeedRate={default:1,speedUp:2},Q.mapSize={offsetDistance:150,width:64+1280*3+64,height:60+720*4+60,offsetX:64,offsetY:60,movableWidth:3904,movableHeight:2880,defaultMapRes:{width:1280,height:720,resPath:"res/snake/manual/game/img_back.png"}},Q.collision={quadTree:{maxObjects:10,maxLevels:5},snake:{headRadius:18,bodyRadius:14},food:{radius:25,maxRadius:25}},Q.food={size:50,initCount:200,maxCount:300,spawnInterval:1e3},Q.res={snakeRingImg:"res/match2/img_ring.png"},Q.snake={defaultSpeed:6,defaultRotateSpeed:500,defaultLen:20,intervalBoneToDrawSkin:4,defaultRotation:270,defaultRadio:35/2,defaultMoveInterval:.033,defaultInvincibleTime:3,defaultShineInterval:.1,skinFlag:{head:1,body:2},initCount:20,maxCount:20,spawnInterval:1e3,aiMinLen:5,aiMaxLen:80,aiPrefix:"AI",battleCd:10*60*1e3,skinIds:[101,102,103,104,105]},Q.SYNC_CONFIG={MAX_ALLOWED_ERROR:50,CORRECTION_TIME:300,SYNC_INTERVAL:100,PREDICTION_MULTIPLIER:1.2},Q.invincibleRing={margin:2,minScale:.5}});var Dt,aa=b(()=>{"use strict";Dt=class{static clamp(e,t,s){return Math.max(t,Math.min(s,e))}static lerp(e,t,s){return e+(t-e)*s}static angleToRadian(e){return e*Math.PI/180}static radianToAngle(e){return e*180/Math.PI}static randomRange(e,t){return e+Math.random()*(t-e)}static randomInt(e,t){return Math.floor(this.randomRange(e,t+1))}static getDistance(e,t){let s=e.x-t.x,n=e.y-t.y;return Math.sqrt(s*s+n*n)}static getVecDistance(e,t){let s=e.x-t.x,n=e.y-t.y;return Math.sqrt(s*s+n*n)}static distance(e,t,s,n){let o=e-s,l=t-n;return Math.sqrt(o*o+l*l)}static getAngle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}};Dt.PI2=Math.PI*2});var sO,nO,cm,YM=b(()=>{"use strict";sO=20,nO=8,cm=class i{constructor(e,t=0,s){this.bounds=e;this.level=t;this.objects=[];this.nodes=[];this.root=s||this}insert(e){if(this.nodes.length>0){let t=this.getIndex(e);if(t!==void 0&&t!==-1){this.nodes[t].insert(e);return}}this.objects.push(e),this.shouldSplit()&&this.splitAndRedistribute()}retrieve(e){let t=new Set,s=this.getIndexes(e);if(this.nodes.length>0)for(let n of s)n===-1?this.nodes.forEach(o=>{o.retrieve(e).forEach(l=>t.add(l))}):this.nodes[n]?.retrieve(e).forEach(o=>t.add(o));return this.objects.forEach(n=>{n!==e&&t.add(n)}),Array.from(t)}refresh(){let e=[];for(let t=this.objects.length-1;t>=0;t--){let s=this.objects[t];this.isInBounds(s)||(e.push(s),this.objects.splice(t,1))}e.forEach(t=>this.root.insert(t)),this.nodes.forEach(t=>t.refresh())}remove(e){let t=this.objects.indexOf(e);if(t>-1)return this.objects.splice(t,1),!0;if(this.nodes.length>0){for(let s of this.nodes)if(s.remove(e))return!0}return!1}isInBounds(e){return i.checkBounds(this.bounds,e.getBoundingBox())}shouldSplit(){return this.nodes.length===0&&this.objects.length>sO&&this.level<nO}splitAndRedistribute(){this.split();for(let e=this.objects.length-1;e>=0;e--){let t=this.objects[e],s=this.getIndex(t);s!==void 0&&s!==-1&&(this.nodes[s].insert(t),this.objects.splice(e,1))}}split(){if(this.nodes.length>0)return;let e=this.bounds.x,t=this.bounds.y,s=this.bounds.width/2,n=this.bounds.height/2;this.nodes=[new i(new Laya.Rectangle(e+s,t+n,s,n),this.level+1,this.root),new i(new Laya.Rectangle(e,t+n,s,n),this.level+1,this.root),new i(new Laya.Rectangle(e,t,s,n),this.level+1,this.root),new i(new Laya.Rectangle(e+s,t,s,n),this.level+1,this.root)]}getIndex(e){let t=e.getBoundingBox();if(!i.checkBounds(this.bounds,t))return;let s=this.bounds.x+this.bounds.width/2,n=this.bounds.y+this.bounds.height/2,o=t.y<n,l=t.y+t.height>n,u=t.x<s,p=t.x+t.width>s;return u&&p||o&&l?-1:t.x>=s?t.y>=n?0:3:t.y>=n?1:2}getIndexes(e){let t=e.getBoundingBox(),s=this.bounds.x+this.bounds.width/2,n=this.bounds.y+this.bounds.height/2,o=t.y<n,l=t.y+t.height>n,u=t.x<s,p=t.x+t.width>s,m=[];return u&&o&&m.push(2),p&&o&&m.push(3),u&&l&&m.push(1),p&&l&&m.push(0),u&&p&&(o?(m.push(2),m.push(3)):l&&(m.push(1),m.push(0))),o&&l&&(u?(m.push(2),m.push(1)):p&&(m.push(3),m.push(0))),m.length===4&&m.push(-1),m}static checkBounds(e,t){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}raycast(e,t,s){if(!this.intersectsRay(e,t))return!1;for(let n of this.objects)if(s(n)&&this.checkRayCollision(e,t,n.getBoundingBox()))return!0;return this.nodes.some(n=>n.raycast(e,t,s))}intersectsRay(e,t){return i.rayIntersectsAABB(e.x,e.y,t.x-e.x,t.y-e.y,this.bounds)}checkRayCollision(e,t,s){return i.rayIntersectsAABB(e.x,e.y,t.x-e.x,t.y-e.y,s)}static rayIntersectsAABB(e,t,s,n,o){if(e>=o.x&&e<=o.x+o.width&&t>=o.y&&t<=o.y+o.height)return!0;let l=0,u=1;if(Math.abs(s)>1e-6){let p=(o.x-e)/s,m=(o.x+o.width-e)/s;l=Math.max(l,Math.min(p,m)),u=Math.min(u,Math.max(p,m))}else if(e<o.x||e>o.x+o.width)return!1;if(Math.abs(n)>1e-6){let p=(o.y-t)/n,m=(o.y+o.height-t)/n;l=Math.max(l,Math.min(p,m)),u=Math.min(u,Math.max(p,m))}else if(t<o.y||t>o.y+o.height)return!1;return u>=l&&l<=1&&u>=0}clear(){this.objects=[],this.nodes.forEach(e=>e.clear()),this.nodes=[]}drawDebug(e){this.bounds.width<3e3&&(e.drawRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height,this.level%2===0?"#ff0000":"#00ff00",this.level%2===0?"#ff0000":"#00ff00",this.level),e.fillText(`L: ${this.level}`,this.bounds.x+this.bounds.width/2,this.bounds.y+this.bounds.height/2,"16px Arial","#ffffff","center")),this.objects.forEach(t=>{let s=t.getBoundingBox();e.drawRect(s.x,s.y,s.width,s.height,this.level%2===0?"#0000ff":"#00ff00",this.level%2===0?"#ff0000":"#00ff00",this.level),e.fillText(`L: ${this.level}`,s.x+s.width/2,s.y+s.height/2,"14px Arial","#ffffff","center")}),this.nodes.forEach(t=>t.drawDebug(e))}}});var la,Wr,ql=b(()=>{"use strict";fi();YM();la=class la{static getInstance(e=null){return la.instance||(e||(e=new Laya.Rectangle(0,0,Q.mapSize.width,Q.mapSize.height)),la.instance=new la(e)),la.instance}constructor(e){this.quadTree=new cm(e)}addSnake(e){e.forEach(t=>{this.quadTree.insert(t)})}addBodySkin(e){this.quadTree.insert(e)}removeSnake(e){e.forEach(t=>{this.quadTree.remove(t)})}removeBodySkin(e){this.quadTree.remove(e)}refresh(){this.quadTree.refresh()}drawDebug(e){this.quadTree.drawDebug(e)}retrieve(e){return this.quadTree.retrieve(e)}raycast(e,t,s){return this.quadTree.raycast(e,t,s)}getAllCollidables(){return this._getAllFromQuadTree(this.quadTree)}_getAllFromQuadTree(e){let t=[...e.objects];return e.nodes.forEach(s=>{t=t.concat(this._getAllFromQuadTree(s))}),t}};la.instance=null;Wr=la});var Te,zs=b(()=>{"use strict";Te=class{};Te.matchType=0,Te.MATCH_TYPE_PVP=1,Te.MATCH_TYPE_PVE=3,Te.arenaType=0,Te.ARENA_TYPE_PVP=1,Te.ARENA_TYPE_JULEBU=2,Te.ARENA_TYPE_PVE=3,Te.ARENA_TYPE_TEAM=4,Te.ROOM_TYPE_AI=1,Te.ROOM_TYPE_SHEQU=2,Te.ROOM_TYPE_VIP=3,Te.ROOM_TYPE_JINGYING=4,Te.ROOM_TYPE_JULEBU=5,Te.ROOM_TYPE_CUSTOM=6,Te.ROOM_TYPE_MATCH=7,Te.ACTION_CREATE=1,Te.ACTION_JOIN=2,Te.ACTION_SIGNUP=3,Te.ACTION_WATCH=4,Te.ACTION_CREATE_BOOKING=5,Te.ACTION_JOIN_BOOKING=6,Te.STATE_WAIT=0,Te.STATE_SIGNUP=2,Te.STATE_GROUPED=3,Te.STATE_START=10,Te.CAMERA_IDLE=0,Te.CAMERA_FOLLOW_ME=1,Te.CAMERA_MAP_CLICK=2,Te.CAMERA_DIRECT_OPERATE=3,Te.CAMERA_FOLLOW_OTHER=4,Te.MATCHEND_REWARD=1,Te.MATCHEND_QUAN=2,Te.MATCHEND_DIEJIA=3,Te.PREDICT_TYPE_ROLLBACK=1,Te.PREDICT_TYPE_NO_ROLLBACK=2});var Py,QM=b(()=>{"use strict";Py=class extends Laya.Image{}});var oO,fs,Uy=b(()=>{"use strict";et();QM();({regClass:oO}=Laya),fs=class extends Py{set dataSource(t){this.roomPlayerDto=t,this.roomPlayerDto&&(this.skin=te.getSnakeBodyIcon(this.roomPlayerDto.skin))}setRotation(t){this.rotation=t}setScale(t){let s=this.width,n=this.height,o=t*2/s,l=t*2/n;this.scaleX=o,this.scaleY=l}setAlpha(t){this.alpha=t}setGray(t){this.gray=t}getRadio(){return this.width*this.scaleX/2}onDisable(){this.setGray(!1),this.setAlpha(1),this.scale(1,1),Laya.Pool.recover(fs.POOL_NAME,this)}};fs.POOL_NAME="MatchSnakeBodySpr",fs=H([oO("Aeyt_emSSaCC6Np5nR_evQ")],fs)});var gs,bs,um=b(()=>{"use strict";gs=class gs{constructor(){}static trim(e,t=null){t||(t=[" ","\r",`
`,"	",String.fromCharCode(65279)]);var s,n,o;for(s=e,o=t.length,n=0;n<o;n++)s=gs.getReplace(s,t[n],"");return s}static getReplace(e,t,s){if(!e)return"";var n;return n=e.replace(new RegExp(t,"g"),s),n}static isEmpty(e){return e.length<1?!0:gs.emptyStrDic.hasOwnProperty(e)}static trimLeft(e){var t;t=0;var s;for(s=e.length;gs.isEmpty(e.charAt(t))&&t<s;)t++;return t<s?e.substr(t):""}static trimRight(e){var t;for(t=e.length-1;gs.isEmpty(e.charAt(t))&&t>=0;)t--;var s;return s=e.substring(0,t),t>=0?e.substring(0,t+1):""}static trimSide(e){var t;return t=gs.trimLeft(e),t=gs.trimRight(t),t}static shortStr(e,t){return e.length>t?e.substr(0,t)+"...":e}static shortHeroStr(e,t=10){return gs.abbreviateString(e,t)}static abbreviateString(e,t=11){if(e.length<=t)return e;{let s=Math.floor((t-3)/2);return e.slice(0,s)+"..."+e.slice(-s)}}static caseInsensitiveSearchWithRegex(e,t){return new RegExp(t,"i").test(e)}static formatWalletAddress(e){let n="...";return e.length<=12+10?e:`${e.substring(0,12)}${n}${e.substring(e.length-10)}`}};gs.ANONYMOUS_NAME="***",gs.emptyStrDic={" ":!0,"\r":!0,"\n":!0,"	":!0};bs=gs});var Hy,XM=b(()=>{"use strict";Hy=class extends Laya.Sprite{}});var aO,ys,zy=b(()=>{"use strict";oi();um();XM();et();St();({regClass:aO}=Laya),ys=class extends Hy{constructor(){super();this.isMe=!1;this.inGround=!1;this.speedRate=1;this.moveSpeed=10;this._speed=10;this.biasSpeed=0;this._roleDirection=-1;this.lastX=0}get speed(){return this._speed}set speed(t){this._speed=t,this.biasSpeed=Math.round(this.speed*Math.sin(45*Math.PI/180))}get roleDirection(){return this._roleDirection}set roleDirection(t){t!==-4&&(this._roleDirection=t)}set dataSource(t){this.roomPlayerDto=t,this.roomPlayerDto&&(this.heroSk.skin=te.getSnakeHeadIcon(this.roomPlayerDto.skin),this.tf_name.text=bs.abbreviateString(this.roomPlayerDto.userName))}set x(t){super.x=t}get x(){return super.x}set visible(t){super.visible=t,this.smallHeroImg&&(this.smallHeroImg.visible=t)}get visible(){return super.visible}set alpha(t){super.alpha=t,this.smallHeroImg&&(this.smallHeroImg.alpha=t)}onAwake(){}showDamageLabelDetailDelay(t,s,n){Laya.timer.once(s,this,this.showDamageLabelDetail,[t,n],!1)}showDamageLabelDetail(t,s){var n=Laya.Pool.getItemByCreateFun("damageNumber",te.damageNumPrefab.create,te.damageNumPrefab);n.init(t,s),this.addChild(n)}setRotation(t){this.heroSk.rotation=t}setScale(t){let s=this.heroSk.width,n=this.heroSk.height,o=t*2/s,l=t*2/n;this.heroSk.scaleX=o,this.heroSk.scaleY=l}setAlpha(t){this.heroSk.alpha=t}setGray(t){this.heroSk.gray=t}getRadio(){return this.heroSk.width*this.heroSk.scaleX/2}onDisable(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this.smallHeroImg=null,this.setGray(!1),this.setAlpha(1),this.scale(1,1),Laya.Pool.recover(ys.POOL_NAME,this)}setClientScore(t){this.tf_pos.text=`${t}`}setServerPosLog(t,s,n,o,l){K.Debug==2&&console.log(se.GetLogTime+` ${this.roomPlayerDto.roleId} S：(${s.loc.x}, ${s.loc.y}, ${n}, dir：${o}, aimDir：${l}, ${t})`)}showLogInHead(t){this.tf_server_pos.text=`${t}`}destroy(t){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this.smallHeroImg=null,this.owner=null,this.roomPlayerDto=null,super.destroy(t)}};ys.POOL_NAME="MatchSnakeSpr",ys=H([aO("tWPXV-AGQQ2kGHES5HnI0w")],ys)});var ca,qI,sr,ua=b(()=>{"use strict";fi();un();ca=class ca{get gameMap(){return this._gameMap}set gameMap(e){this._gameMap=e}static getInstance(){return ca._instance||(ca._instance=new ca),ca._instance}constructor(){}init(){}destroy(){this._gameMap=null,this.img_smallMap=null}move(e){if(!e)return;let t=Q.mapSize,s=Laya.stage.width,n=Laya.stage.height;var o=0,l=0;e.x>s/2&&e.x<t.width-.5*s?o=-(e.x-s/2):e.x<=s/2?o=0:e.x>=t.width-.5*s&&(o=-(t.width-s)),e.y>n/2&&e.y<t.height-.5*n?l=-(e.y-n/2):e.y<=n/2?l=0:e.y>=t.height-.5*n&&(l=-(t.height-n));var u=vt.distancePoint(o,l,this.gameMap.x,this.gameMap.y);u<200&&(o=vt.lerp(this.gameMap.x,o,.3),l=vt.lerp(this.gameMap.y,l,.3)),this.gameMap.pos(o,l)}};ca._instance=null;qI=ca,sr=qI.getInstance()});var pn,fr,pm=b(()=>{"use strict";fi();Uy();zy();nt();aa();un();Qr();ua();Ni();et();St();pn=class pn{constructor(e,t,s,n,o){this.alpha=.3;this.lastX=0;this.lastY=0;this._manualVisible=!0;this.updateData(e,t,s,n,o)}getCollisionPoint(){var e=new y.snake.socket.PointObject;return e.x=this.logicPos.x,e.y=this.logicPos.y,e}getThead(){var e=new y.snake.socket.SnakeObject,t=new y.snake.socket.PointObject,s=this.owner.getCollisionHeadPosition();return t.x=s.x,t.y=s.y,e.loc=t,e}updateData(e,t,s,n,o){if(this.pos=new lt(pn.INIT_POS,pn.INIT_POS),this.logicPos=new lt(pn.INIT_POS,pn.INIT_POS),this.tag=n,this.owner=o,this.owner.isLogicSnake?this.alpha=1:this.alpha=.3,e===Q.snake.skinFlag.head){let l=Laya.Pool.getItemByCreateFun(ys.POOL_NAME,te.roleAniPrefab.create,te.roleAniPrefab);l.owner=this,this.node=l,l.dataSource=n,this.owner.isLogicSnake||(this.smallHeroImg=new Laya.Image,this.updateSmallHeroImg(),sr.img_smallMap.addChild(this.smallHeroImg))}else{let l=Laya.Pool.getItemByCreateFun(fs.POOL_NAME,te.matchSnakeBodyPrefab.create,te.matchSnakeBodyPrefab);this.node=l,l.dataSource=n}this.skinFlag=e,this.node.tag=n,this.owner.isLogicSnake||t.addChild(this.node)}reset(e,t,s,n,o){this.updateData(e,t,s,n,o)}resetForPool(){this.destroy()}destroy(){ne.getInstance().removeBodySkin(this),this.node&&(Laya.Tween.clearAll(this.node),this.node.removeSelf()),this.smallHeroImg&&this.smallHeroImg.removeSelf(),this.pos=null,this.logicPos=null,this.node=null,this.owner=null,this.tag=null}updateSmallHeroImg(){if(this.smallHeroImg)if(this.owner.isSelf){this.smallHeroImg.skin="res/match2/img_dian1.png";var e=15,t=15;this.smallHeroImg.size(e,t),this.smallHeroImg.pivot(e/2,t/2)}else if(this.owner.tag.roleId==ne.getInstance().kingId){this.smallHeroImg.skin="res/match2/img_phb_icon2.png";var s=21,n=19;this.smallHeroImg.size(s,n),this.smallHeroImg.pivot(s/2,n/2)}else{this.smallHeroImg.skin="res/match2/img_dian2.png";var o=4,l=4;this.smallHeroImg.size(o,l),this.smallHeroImg.pivot(o/2,l/2)}}setPosition(e){if(this.smallHeroImg){var t=vt.fromBigToSmall(e.x,e.y),s=t[0],n=t[1];this.smallHeroImg.pos(s,n)}var o,l;if(this.pos.x!=pn.INIT_POS||this.pos.y!=pn.INIT_POS)if(this.isHead){var u=vt.distancePoint(e.x,e.y,this.node.x,this.node.y);o=vt.lerp(this.node.x,e.x,this.alpha),l=vt.lerp(this.node.y,e.y,this.alpha)}else o=vt.lerp(this.node.x,e.x,this.alpha),l=vt.lerp(this.node.y,e.y,this.alpha);else o=e.x,l=e.y;this.node.pos(o,l),this.pos.x=o,this.pos.y=l,this.logicPos.x=e.x,this.logicPos.y=e.y,K.Debug==2&&this.skinFlag===Q.snake.skinFlag.head&&this.owner.isLogicSnake,this.updateFinalVisibility()}getPosition(){return this.pos}getLoogicPosition(){return this.logicPos}gotoDiePos(){return;if(this.smallHeroImg){var e,t,s;this.smallHeroImg.pos(t,s)}}setRotation(e){this.node.setRotation(e)}setLocalZOrder(e){this.node.zOrder=e}updateAlpha(e,t){let s=t==1?1:.75;this.node.setAlpha(s)}updateScale(e,t){let s=e*(1+.1*t);this.setScale(s)}setScale(e){this.node.setScale(e)}getRadio(){return this.node.getRadio()}setGray(e){this.node.setGray(e)}isVisible(){return this.node.visible}getBoundingBox(){let e;return this.isHead?e=this.owner.suctionRadius:e=this.getRadio(),this.owner.isLogicSnake?new Laya.Rectangle(this.logicPos.x-e,this.logicPos.y-e,e*2,e*2):new Laya.Rectangle(this.pos.x-e,this.pos.y-e,e*2,e*2)}getSkinFlag(){return this.skinFlag}checkCollision(e,t,s,n){let o=n?this.getLoogicPosition():this.getPosition();return Dt.distance(o.x,o.y,e,t)<s+this.getRadio()}get isHead(){return this.skinFlag===Q.snake.skinFlag.head}setServerPosLog(e,t,s,n,o){this.skinFlag===Q.snake.skinFlag.head&&this.node.setServerPosLog(e,t,s,n,o)}showLogInHead(e){this.skinFlag===Q.snake.skinFlag.head&&this.node.showLogInHead(e)}setClientScore(e){this.skinFlag===Q.snake.skinFlag.head&&this.node.setClientScore(e)}setVisible(e){this._manualVisible=e,this.updateFinalVisibility(),this.smallHeroImg&&(this.smallHeroImg.visible=e)}updateFinalVisibility(){let e=this.checkInScreen(),t=this._manualVisible&&e;this.node.visible=t}checkInScreen(){let e=sr.gameMap;if(!e)return!1;let t=-e.x,s=-e.y,n=this.pos.x-t,o=this.pos.y-s,l=Laya.stage.width,u=Laya.stage.height,p=this.isHead?this.owner.suctionRadius:this.getRadio()*this.node.scaleX,m=p*1.5;return n+p+m>0&&n-p-m<l&&o+p+m>0&&o-p-m<u}};pn.INIT_POS=-1e6;fr=pn});var pa,YI=b(()=>{"use strict";nt();fi();mm();kr();Sr();Ni();pm();Qr();Er();St();Ze();oi();pa=class{static checkCollisions(e,t,s,n){var o=!1;if(e.getIsSend(o))return;let l=Q.mapSize;if(e&&e.tag){let I=e.getHeadCollisionBounds(o);if(I&&(I.x<l.offsetX||I.x+I.width>l.width-l.offsetX||I.y<l.offsetY||I.y+I.height>l.height-l.offsetY)){e.isAlive(o)&&(e.readyDie(),e.setIsSend(!0,o));return}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;{let D=Lt.getAllFoods();var u=[],p=0;if(D.forEach(j=>{if(!j.getHaveEaten(n)&&e.checkFoodCollision(j,o)){K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST 显示蛇 吃 foodId：",j.foodObject.unkey,"currentFrame:"+ve.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+n),j.beEattenByPlayerSnake(e,o,n),u.push(j.foodObject.unkey);var W=j.getScore();p+=W}}),u&&u.length>0){var m=new y.snake.socket.SC_EAT_FOOD;m.fid=u,m.score=p;var d=e.getScore(o)+p,f=e.getSkinLength(o),g=e.tag.snakeId,_=ne.getInstance().countSnakeLen(g,f,d,e.intervalBoneToDrawSkin(o));m.lenght=_,m.roleId=e.tag.roleId,m.score=d,m.remain=[],ne.getInstance().eatFoodAndAddScore(m,o),K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST 显示蛇 吃到了食物","roleId:"+e.tag.roleId,"foodIds:["+u+"], totalScore:"+d,"newLen:"+_,"currentFrame:"+ve.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+n)}}}let M=ne.getInstance().getBodySkinsWithOutOne(e,o);for(let A of M)if(A.owner.owner!==e&&e.checkBodyCollision(A,o))if(!e.isInvincible(o)&&!A.owner.owner.isInvincible(o)){if(e.isAlive(o)&&A.owner.owner.isAlive(o)&&!e.isViewReadyDie&&!A.owner.owner.isViewReadyDie){var S=!1,x=!A.isHead;if((x||e.len(o)<A.owner.owner.len(o)||e.len(o)==A.owner.owner.len(o)&&e.tag.enterTime>=e.tag.enterTime)&&(S=!0),S){e.readyDie(),e.setIsSend(!0,o);return}}}else console.log(e.tag.roleId+" 或者 "+A.owner.tag.roleId+" 处于无敌状态！")}}static checkCollisionsWithConfirm(e,t,s,n){var o=!0;if(e.getIsSend(o)||!n)return;let l=Q.mapSize;if(e&&e.tag){let U=e.getHeadCollisionBounds(o);if(U&&(U.x<l.offsetX||U.x+U.width>l.width-l.offsetX||U.y<l.offsetY||U.y+U.height>l.height-l.offsetY)){if(e.isAlive(o)){e.sendDie();var u=e.getToServerHead(o),p=y.snake.socket.MessageType.MSG_PLAYER_COLLISION,m=y.snake.socket.CS_PLAYER_COLLISION.fromObject({roleId:e.tag.roleId,head:u,frame:ve.getClientRuningFrame(o),body:!1});ze.sendData(p,m),e.setIsSend(!0,o)}return}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;if(n){let ie=Lt.getAllFoods();var d=[],f=0;if(ie.forEach(Ie=>{if(!Ie.getHaveEaten(n)&&e.checkFoodCollision(Ie,o)){K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST 逻辑蛇 确认帧 吃 foodId：",Ie.foodObject.unkey,"currentFrame:"+ve.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+n),Ie.beEattenByPlayerSnake(e,o,n),d.push(Ie.foodObject.unkey);var ke=Ie.getScore();f+=ke}}),d&&d.length>0){var g=new y.snake.socket.SC_EAT_FOOD;g.fid=d,g.score=f;var _=e.getScore(o)+f,S=e.getSkinLength(o),x=e.tag.snakeId,I=ne.getInstance().countSnakeLen(x,S,_,e.intervalBoneToDrawSkin(o));g.lenght=I,g.roleId=e.tag.roleId,g.score=_,g.remain=[],ne.getInstance().eatFoodAndAddScore(g,o),K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST SEND 112 逻辑蛇 确认帧 吃到了食物","roleId:"+e.tag.roleId,"foodIds:["+d+"], totalScore:"+_,"newLen:"+I,"currentFrame:"+ve.getClientRuningFrame(o),"isLogicSnake:"+o,"hasConfirmed:"+n);var M=e.tag.roleId,u=e.getToServerHead(o),p=y.snake.socket.MessageType.MSG_EAT_FOOD,A=y.snake.socket.CS_EAT_FOOD.fromObject({roleId:M,fid:d,head:u,frame:ve.getClientRuningFrame(o)});ze.sendData(p,A)}}}if(!n)return;let J=ne.getInstance().getBodySkinsWithOutOne(e,o);for(let X of J)if(X.owner.owner!==e&&e.checkBodyCollision(X,o))if(!e.isInvincible(o)&&!X.owner.owner.isInvincible(o)){if(e.isAlive(o)&&X.owner.owner.isAlive(o)&&!e.isLogicReadyDie&&!X.owner.owner.isLogicReadyDie){var D=!1,j=!X.isHead;if((j||e.len(o)<X.owner.owner.len(o)||e.len(o)==X.owner.owner.len(o)&&e.tag.enterTime>=e.tag.enterTime)&&(D=!0),D){e.sendDie();var j=!X.isHead,W=X.owner.tag.roleId,u=e.getToServerHead(o),p=y.snake.socket.MessageType.MSG_PLAYER_COLLISION,m=y.snake.socket.CS_PLAYER_COLLISION.fromObject({roleId:e.tag.roleId,target:W,head:u,frame:ve.getClientRuningFrame(o),body:j,point:X.getCollisionPoint(),thead:X.getThead()});ze.sendData(p,m),console.warn(se.GetLogTime+"Snake DIE CMD:113 发送了 玩家 "+m.roleId+" 碰撞 数据",m),e.setIsSend(!0,o);return}}}else console.log(e.tag.roleId+" 或者 "+X.owner.tag.roleId+" 处于无敌状态！")}}static checkCollisionsWithPve(e,t,s,n){var o=!1;let l=Q.mapSize;if(e&&e.tag){K.Debug==2&&console.log("碰撞检测",e.tag.roleId);let U=e.getHeadCollisionBounds(o);if(U){var u=l.offsetX,p=l.offsetY;if(e.isAi&&(u+=50,p+=50),U.x<u||U.x+U.width>l.width-u||U.y<p||U.y+U.height>l.height-p){if(e.isAlive(o))if(e.isAi){var m=lt.create(l.width/2,l.height/2);e.goTargetPos(m)}else e.pveDie();return}}if(e.isAlive(o)&&!e.getIsStop(o)){if(!e.getHeadCollisionBounds(o))return;if(n){let ie=s.retrieve(e.getHead(o)).filter(Ie=>Ie instanceof js);var d=[],f=[],g=0;if(ie.forEach(Ie=>{if(f.push(Ie.foodObject.unkey),!Ie.getHaveEaten(n)&&e.checkFoodCollision(Ie,o)){Ie.beEattenByPlayerSnake(e,o,n),d.push(Ie.foodObject.unkey);var ke=Ie.getScore();g+=ke}}),d&&d.length>0){var _=new y.snake.socket.SC_EAT_FOOD;_.fid=d,_.score=g;var S=e.getScore(o)+g,x=e.getSkinLength(o),I=e.tag.snakeId,M=ne.getInstance().countSnakeLen(I,x,S,e.intervalBoneToDrawSkin(o));_.lenght=M,_.roleId=e.tag.roleId,_.score=S,_.remain=[],ne.getInstance().eatFoodAndAddScore(_,o)}}}let J=s.retrieve(e.getHead(o)).filter(X=>X instanceof fr);for(let X of J)if(X.owner.owner!==e&&e.checkBodyCollision(X,o))if(!e.isInvincible(o)&&!X.owner.owner.isInvincible(o)){if(e.isAlive(o)&&X.owner.owner.isAlive(o)&&!e.isViewReadyDie&&!X.owner.owner.isViewReadyDie){var A=!1,D=!X.isHead;if((D||e.len(o)<X.owner.owner.len(o)||e.len(o)==X.owner.owner.len(o)&&e.tag.enterTime>=X.owner.tag.enterTime)&&(A=!0),A){e.pveDie();var j=X.owner.owner,W=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[j.tag.snakeId,j.getSkinLength(!1)]),g=Math.ceil(W.consumePoints/3),_=new y.snake.socket.SC_EAT_FOOD;_.fid=[],_.score=g;var S=j.getScore(o)+g,x=j.getSkinLength(o),I=j.tag.snakeId,M=ne.getInstance().countSnakeLen(I,x,S,j.intervalBoneToDrawSkin(o));_.lenght=M,_.roleId=j.tag.roleId,_.score=S,_.remain=[],ne.getInstance().eatFoodAndAddScore(_,o);break}}}else console.log(e.tag.roleId+" 或者 "+X.owner.tag.roleId+" 处于无敌状态！")}}}});var jy,JM=b(()=>{"use strict";fi();St();aa();un();Qr();ql();mm();pm();jy=class{constructor(e){this.state="searching";this.target=null;this.dangerDistance=100;this.viewDistance=300;this.ATTACK_OFFSET=30;this.PREDICT_FACTOR=.8;this.SAFE_ANGLE=45;this.DANGER_CHECK_DIST=150;this.snake=e,this.collision=Wr.getInstance(null)}update(){if(!this.snake.isAlive(!1))return;if(this.checkImmediateDanger()){this.escapeBehavior(null);return}let e=this.findNearestFood(),t=this.findNearestThreat();switch(this.updateState(e,t),K.Debug==2&&this.snake.showLogInHead(this.state,!1),this.state){case"searching":this.searchBehavior(e);break;case"pursuing":this.pursueBehavior();break;case"escaping":this.escapeBehavior(t);break;case"attacking":let s=this.findNearestAttackTarget();this.attackBehavior(s);break}}checkImmediateDanger(){let e=this.snake.getCollisionHeadPosition(!1);return this.collision.retrieve(this.snake.getHead(!1)).filter(s=>s instanceof fr&&s.owner.owner!==this.snake&&Dt.getVecDistance(e,s.getPosition())<this.snake.getRadio(!1)*3).length>0}updateState(e,t){let s=this.findNearestAttackTarget(),n=!1;t&&this.isInDangerRange(t)?this.state="escaping":n?(this.state="attacking",this.target=null):e?this.state="pursuing":this.state="searching"}isPathSafe(e){let t=this.predictTargetPosition(e);return!this.collision.raycast(this.snake.getCollisionHeadPosition(!1),t,s=>s instanceof fr&&s.owner.owner!==this.snake)}isInAttackRange(e){return Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),e.getCollisionHeadPosition(!1))<this.viewDistance}findNearestFood(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof js),s=null,n=this.viewDistance,o=this.snake.getCollisionHeadPosition(!1);for(let l of t){let u=Dt.distance(o.x,o.y,l.getPosition().x,l.getPosition().y);u<n&&(n=u,s=l)}return s}findNearestThreat(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof fr&&l.getSkinFlag()===Q.snake.skinFlag.head).map(l=>l.owner.owner).filter(l=>l!==this.snake&&l.isAlive(!1)&&l.getLength(!1)>=this.snake.getLength(!1)),s=null,n=this.viewDistance,o=this.snake.getCollisionHeadPosition(!1);for(let l of t){let u=Dt.distance(o.x,o.y,l.getCollisionHeadPosition(!1).x,l.getCollisionHeadPosition(!1).y);u<n&&(n=u,s=l)}return s}findNearestAttackTarget(){let e=this.snake.getHead(!1),t=this.collision.retrieve(e).filter(l=>l instanceof fr&&l.getSkinFlag()===Q.snake.skinFlag.head).map(l=>l.owner.owner).filter(l=>l!==this.snake&&l.isAlive(!1)&&!l.isInvincible(!1)&&l.getLength(!1)<this.snake.getLength(!1)),s=null,n=this.viewDistance,o=this.snake.getCollisionHeadPosition(!1);for(let l of t){let u=Dt.distance(o.x,o.y,l.getCollisionHeadPosition(!1).x,l.getCollisionHeadPosition(!1).y);u<n&&(n=u,s=l)}return s}attackBehavior(e){if(!e||!e.isAlive(!1)){this.state="searching";return}let t=this.predictTargetPosition(e),s=this.calculateInterceptPosition(t,e),n=this.getSafeDirection(s);this.goAttackTargetPos(n),Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),e.getCollisionHeadPosition(!1))>this.viewDistance&&(this.state="searching")}predictTargetPosition(e){let t=e.getCollisionHeadPosition(!1),s=e.getSpeed(!1)*e.getSpeedRate(!1),n=vt.getAngleToVec(e.getCurDir()),o=Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),t),l=Math.min(2.5,o*this.PREDICT_FACTOR/s);return new lt(t.x+n.x*s*l,t.y+n.y*s*l)}calculateInterceptPosition(e,t){let s=vt.getAngleToVec(t.getCurDir()),n=new lt(-s.y,s.x),o=Math.random()>.5?this.ATTACK_OFFSET:-this.ATTACK_OFFSET;return new lt(e.x+n.x*o,e.y+n.y*o)}getSafeDirection(e){let t=this.getDirectionToTarget(e),s=this.detectFrontalObstacles(t);return s.length===0?t:this.findAlternativeDirection(t,s)||t}detectFrontalObstacles(e){let t=this.snake.getCollisionHeadPosition(!1);return this.collision.retrieve(this.snake.getHead(!1)).filter(s=>{if(s instanceof fr&&s.owner.owner!==this.snake){let n=s.getPosition().sub(t),o=e.getRotationTo(n);return Math.abs(o)<this.SAFE_ANGLE&&n.length()<this.DANGER_CHECK_DIST}return!1})}findAlternativeDirection(e,t){let s=[-45,45];for(let n of s){e.rotate(n);let o=e.normalize();if(!t.some(u=>{let p=u.getPosition().sub(this.snake.getCollisionHeadPosition(!1));return o.getRotationTo(p)<this.SAFE_ANGLE}))return o}return null}goAttackTargetPos(e){this.target=e;let s=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(s,!1)}searchBehavior(e){e?(this.target=e.getPosition(),this.state="pursuing"):(!this.target||Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),this.target)<50)&&(this.target=new lt(Dt.randomRange(0,Q.mapSize.width),Dt.randomRange(0,Q.mapSize.height)))}goTargetPos(e){this.target=e;var s=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(s,!1),this.state="pursuing"}pursueBehavior(){if(this.target){if(Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),this.target)<this.snake.getRadio(!1)*8)return;var e=this.getDirectionToTarget(this.target).getRotation();this.snake.rotate(e,!1)}}escapeBehavior(e){if(e){let s=this.getDirectionToTarget(e.getCollisionHeadPosition(!1));s.x*=-1,s.y*=-1;var t=s.getRotation();this.snake.rotate(t,!1)}else{let n=this.snake.getCurDir()+180;n=vt.normalizeAngle(n),this.snake.rotate(n,!1)}}getDirectionToTarget(e){let t=this.snake.getCollisionHeadPosition(!1),s=e.x-t.x,n=e.y-t.y,o=new lt(s,n);if(Math.abs(o.getRotation()-this.snake.getCurDir())<5){var u=this.snake.getCurDir(),p=vt.getAngleToVec(u);return p}if(o.length()<.1){var u=this.snake.getCurDir(),p=vt.getAngleToVec(u);return p}return o.normalize(),o}isInDangerRange(e){return Dt.getVecDistance(this.snake.getCollisionHeadPosition(!1),e.getCollisionHeadPosition(!1))<this.dangerDistance}destroy(){this.snake=null,this.collision=null,this.target=null}}});var Lr,hm=b(()=>{"use strict";mm();pm();Lr=class i extends Laya.Sprite{constructor(){super(...arguments);this.collidables=[];this.isVisible=!1}static getInstance(){return i._instance||(i._instance=new i,i._instance.zOrder=9999,i._instance.mouseEnabled=!1),i._instance}toggleVisible(){this.isVisible=!this.isVisible,console.log("DebugLayer.toggleVisible",this.isVisible),this.graphics.clear()}updateCollidables(t){this.collidables=t}clearDraw(){this.graphics.clear(),this.graphics.alpha(.5)}draw(){this.isVisible&&(this.graphics.clear(),this.graphics.alpha(.5),this.collidables.forEach(t=>{t instanceof fr?this.drawSnakeBody(t):t instanceof js&&this.drawFood(t)}))}drawSnakeBody(t){let s=t.getPosition(),n=t.getRadio();this.graphics.drawCircle(s.x,s.y,n,"#FF0000",2,.5)}drawFood(t){let s=t.getBoundingBox();this.graphics.drawRect(s.x,s.y,s.width,s.height,"#00FF00",2,.5)}}});var ma,QI,lo,XI=b(()=>{"use strict";ql();hm();kr();Ni();ha();St();ua();ma=class ma{static getInstance(){return ma.instance||(ma.instance=new ma),ma.instance}init(e){if(!e)throw new Error("gameLayer Must Be Not Null");ne.getInstance().init(),Lt.init();let t=ne.getInstance().container,s=Lt.container,n=new Laya.Sprite;e.addChild(s),e.addChild(t),e.addChild(n),n.addChild(Lr.getInstance()),Lt.init()}createData(){ne.getInstance().createSnakes(),Lt.createFoodsByData()}startGame(){wr.start()}clearTimer(){}endTimer(){wr.end()}update(e,t,s){if(ne.getInstance().updateSnakes(Laya.timer.delta,t,s,!0),!t&&(sr.move(ne.getInstance().getSelfSnakePos(t)),K.needDraw)){let n=Lr.getInstance();n&&(n.clearDraw(),Wr.getInstance(null).drawDebug(n.graphics))}}clear(){this.clearTimer()}};ma.instance=null;QI=ma,lo=QI.getInstance()});var JI,wr,ha=b(()=>{"use strict";Ni();kr();fi();gi();Rt();nt();XI();JI=class i{constructor(){this._frameInterval=33;this._currentFrame=0;this.isStart=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.stop(),this._currentFrame=0}start(){Laya.timer.loop(this._frameInterval,this,this.update)}stop(){Laya.timer.clear(this,this.update)}end(){this.stop(),this.isStart=!1}update(){this._currentFrame++,this.executeFrame(this._currentFrame)}executeFrame(e,t=!0){ne.getInstance().selfSnake&&ne.getInstance().selfSnake.tag==null||(lo.update(e,!1,t),Lt.update(Laya.timer.delta),ne.getInstance().update(Laya.timer.delta))}get currentFrame(){return this._currentFrame}sendAiEnter(){var e=y.snake.socket.MessageType.MSG_AI_ENTER;ge.send(e,null)}sendAiEnd(e,t){var s=y.snake.socket.MessageType.MSG_AI_END,n=y.snake.socket.CS_AI_END.fromObject({kills:e,score:t});ge.send(s,n)}onPveEnd(){var e=new y.snake.socket.SC_BATTLE_END,t=ne.getInstance().selfSnake;e.res=!1,e.roleId=t.tag.roleId,e.score=t.viewSnake.score,e.kills=t.tag.kills,e.length=t.viewSnake.getSkinLength(),e.alive=Q.snake.battleCd/1e3-Ce.matchCoolDownTime,e.rank=t.rankNum,e.items=[],console.log("onPveEnd",e),Ce.onAiSetMatchEnd(e)}},wr=JI.getInstance()});var Yl,ZM=b(()=>{"use strict";un();oi();nt();fi();Qr();Sr();Ni();ot();Er();Ze();St();aa();Yl=class{constructor(e,t,s,n){this.clientFrame=1;this.serverFrame=1;this.dFrame=0;this.oprIndex=-1;this.serverHeadPoss=[];this.ringCenter=new lt;this.baseRingSize=100;this.isSend=!1;this.isStop=!1;this.lastRingUpdate=0;this.isOutSide=!1;this.lastX=0;this.lastY=0;this.lastFrame=0;this.lastSendFrame=-1;this.lastDir=-1;this.lastSendDir=-1;this.isLogicSnake=e,this.pnl=t,this.owner=n,this.bodySkinPool=ne.getInstance().getBodySkinPool(),this.updateData(s),this.showLogInHead(e+"")}updateData(e){if(this.skins)for(let t=0;t<this.skins.length;t++){let s=this.skins[t];s&&this.bodySkinPool.returnBodySkin(s)}this.skins=[],this._initData(e),this._initSnake(),this._updateSkinRadio()}_initData(e){this.snakeItem=$.m_dicSnakes.get(e.snakeId),this.radio=this.snakeItem.bodyRadius,this.collisionHeadRadius=this.snakeItem.collisionHeadRadius,this.suctionRadius=this.snakeItem.suctionRadius,this.speed=this.snakeItem.baseSpeed,this.maxLength=this.snakeItem.maxLength,this.maxBoneLength=this.maxLength*this.snakeItem.intervalBoneToDrawSkin,this.tag=e||null,this.score=e.score,this.speedRate=e.speed;var t=e.direction;this.dir=t,this.lastDir=t;var s=e.aimDir;this.aimDir=s,this.rotateSpeed=Q.snake.defaultRotateSpeed;let n=e.attr;for(let S=0;S<n.length;S++)if(n[S]){let x=n[S].split(","),I=x[0],M=x[1];if(I=="1"){var o=parseInt(M),l=e.length;console.log("ATTR: 计算长度：后端len: "+l+", newLen: "+o)}else if(I=="2"){var u=parseInt(M);this.maxLength=u,this.maxBoneLength=this.maxLength*this.snakeItem.intervalBoneToDrawSkin,console.log("ATTR: 计算最大长度：maxLen: "+this.maxLength+", maxLength: "+u)}else if(I=="3"){var p=parseInt(M),m=p/100*this.speed;this.speed+=m,console.log("ATTR: 计算速度：speed: "+this.speed+", addSpeed: "+m)}else if(I!="4"){if(I=="5"){var d=parseInt(M),f=d/100*this.suctionRadius;this.suctionRadius+=f,this.suctionRadius=Math.floor(this.suctionRadius),console.log("ATTR: 计算吸食半径：suctionRadius: "+this.suctionRadius+", addSuctionRadius: "+f)}}}this.boneLength=e.snake.length,this.intervalBoneToDrawSkin=this.snakeItem.intervalBoneToDrawSkin,this.skins=[],this.bones=[],this.alive=!0;var g=e.wdTime-e.oprTime;this.defaultInvincibleTime=Date.now()+g,this.isInvincible=g>0;let _=Math.random()+.5;_=_>1?_-.5:_;for(let S=0;S<this.boneLength;S++){let x=e.snake[S].loc,I=lt.create(x.x,x.y);this.bones[S]=I}this.isLogicSnake||this.bodyRing||(this.bodyRing=new Laya.Image,this.bodyRing.skin=Q.res.snakeRingImg,this.bodyRing.width=this.bodyRing.height=this.baseRingSize,this.bodyRing.anchorX=this.bodyRing.anchorY=.5,this.bodyRing.visible=!1,this.pnl.addChild(this.bodyRing))}_updateBodyRing(){if(this.lastRingUpdate=Date.now(),!!this.isInvincible&&this.bodyRing){var e=this.getHeadPosition();this.bodyRing.pos(e.x,e.y)}}_initSnake(){console.log(se.GetLogTime,"初始化蛇的皮肤","isLogicSnake: "+this.isLogicSnake);let e=this.getSkinLength();for(let t=0;t<e;t++){t===0?this.skins[t]=this.bodySkinPool.getBodySkin(Q.snake.skinFlag.head,this.color,this.tag,this):this.skins[t]=this.bodySkinPool.getBodySkin(Q.snake.skinFlag.body,this.color,this.tag,this);let s=t*this.intervalBoneToDrawSkin;if(this.bones[s]){this.skins[t].setPosition(this.bones[s]),ne.getInstance().addBodySkin(this.skins[t]),this.skins[t].setLocalZOrder(-(t+1));let n;s+1<this.bones.length?n=this.bones[s+1]:s-1>=0?n=this.bones[s-1]:n=this.bones[s];let o=this.bones[s].getRotationTo(n),l=Q.snake.defaultRotation-o;this.skins[t].setRotation(l),this.skins[t].setVisible(!0)}else console.error("_initSnake error",e,t),this.skins[t].setVisible(!1)}}move(e,t,s){if(this.alive){if(this.isLogicSnake){if(!t&&this.getIsStop())return}else if(this.getIsStop())return;if(K.Debug==2){var n=se.GetLogTime+" C 坐标: ======== "+this.tag.roleId+" frame: "+(ve.getClientRuningFrame(!0)-1)+", logicPos: "+this.bones[0].x+", "+this.bones[0].y+",  pos: "+this.getHeadPosition().x+", "+this.getHeadPosition().y+",  dir: "+this.dir+", aimDir: "+this.aimDir+", hasConfirmed: "+t+", isLogicSnake: "+this.isLogicSnake;console.debug(n),K.Debug==2&&!this.isOutSide&&this.isLogicSnake&&t&&!this.owner.isLogicReadyDie&&ve.checkClientAndServerFrame(ve.clientRuningFrame,this.tag.roleId,this.bones[0])}if(this.tempBones=null,s)for(let S=0;S<this.speedRate;S++){let x=this.aimDir-this.dir,I=this.rotateSpeed*Q.snake.defaultMoveInterval;if(Math.abs(x)<I)this.dir=this.aimDir;else{x=(x+360)%360,x>180&&(x-=360);var o=Math.abs(x)<I?x:I*(x>0?1:-1);this.dir+=o,this.dir>=360&&(this.dir-=360),this.dir<0&&(this.dir+=360)}let M=vt.getAngleToVec(this.dir);K.Debug==3&&console.log(se.GetLogTime,this.tag.roleId+", isLogicSnake: "+this.isLogicSnake+", hasConfirmed: "+t+": ======= LOC BEFORE ==== "+ve.getClientRuningFrame(!0)+" 当前方向：",this.dir,"向量：",M.x,M.y,"bones[0]：",this.bones[0].x,this.bones[0].y,"speed："+this.speed+", speedRate: "+this.speedRate,"needMove: "+s);var l=this.bones[0].add(M.mul(this.speed)),u=10,p=Q.mapSize;if(l.x<p.offsetX-u||l.x>p.width-p.offsetX+u||l.y<p.offsetY-u||l.y>p.height-p.offsetY+u){this.isOutSide=!0;return}this.bones[0].assign(l);var m=10;K.Debug==2&&!this.isLogicSnake&&this.lastX!=0&&this.lastY!=0&&this.lastFrame!=0&&(this.dir==180&&(this.lastX-l.x<=0||Math.abs(this.lastX-l.x)>m)||this.dir==0&&(this.lastX-l.x>=0||Math.abs(this.lastX-l.x)>m)||this.dir==270&&(this.lastY-l.y<=0||Math.abs(this.lastY-l.y)>m)||this.dir==90&&(this.lastY-l.y>=0||Math.abs(this.lastY-l.y)>m))&&console.error(se.GetLogTime,this.tag.roleId+", isLogicSnake: "+this.isLogicSnake+", hasConfirmed: "+t+": ======= LOC AFTER =====1 "+ve.getClientRuningFrame(!0)+" clientLoc1: 0",l.x,l.y,"lastX: "+this.lastX,"lastY: "+this.lastY,"lastFrame: "+this.lastFrame,"needMove: "+s),this.lastX=l.x,this.lastY=l.y,this.lastFrame=ve.getClientRuningFrame(!0),K.Debug==2&&console.log(se.GetLogTime,this.tag.roleId+", isLogicSnake: "+this.isLogicSnake+", hasConfirmed: "+t+": ======= LOC AFTER =====1 "+ve.getClientRuningFrame(!0)+" clientLoc1: 0",l.x,l.y,"needMove: "+s);for(let A=1;A<this.bones.length;A++){let D=this.bones[A-1],j=this.bones[A],W=.6,U=j.add(D.sub(j).mul(W));this.bones[A].x=U.x,this.bones[A].y=U.y}S===this.speedRate-1&&(this._processGrowth(),this._moveBody(),this._updateSkinRadio())}else{var l=this.bones[0];if(!this.isLogicSnake&&this.lastX!=0&&this.lastY!=0&&this.lastFrame!=0){let x=vt.getAngleToVec(this.dir);var d=this.speed*this.speedRate,f,g=Dt.distance(l.x,l.y,this.lastX,this.lastY),_;if(g==0?(_=d>>1,f=this.bones[0].add(x.mul(_))):g>d&&(_=(g-d)/2,_=-_,f=this.bones[0].add(x.mul(_))),f){K.Debug==2&&console.log(se.GetLogTime,this.tag.roleId+", isLogicSnake: "+this.isLogicSnake+", hasConfirmed: "+t+": ======= LOC AFTER =====2 "+ve.getClientRuningFrame(!0)+" clientLoc1: 0",l.x,l.y,"lastX: "+this.lastX,"lastY: "+this.lastY,"lastFrame: "+this.lastFrame,"needMove: "+s),this.tempBones=[],this.tempBones.push(f);for(let I=1;I<this.bones.length;I++){let M=this.bones[I].add(x.mul(_));this.tempBones.push(M)}}}this.lastX=l.x,this.lastY=l.y,this.lastFrame=ve.getClientRuningFrame(!0),K.Debug==2&&console.log(se.GetLogTime,this.tag.roleId+", isLogicSnake: "+this.isLogicSnake+", hasConfirmed: "+t+": ======= LOC AFTER =====2 "+ve.getClientRuningFrame(!0)+" clientLoc1: 0",l.x,l.y,"needMove: "+s),this._processGrowth(),this._moveBody(),this._updateSkinRadio()}this.isInvincible&&(this.bodyRing&&(this.bodyRing.visible||(this.bodyRing.visible=!0),this._updateBodyRing()),Date.now()>this.defaultInvincibleTime&&(this.isInvincible=!1,this.bodyRing&&(this.bodyRing.visible=!1)))}}getCurDir(){return this.dir}getAimDir(){return this.aimDir}rorateReadySend(){this.isSelf&&this.lastSendFrame!=ve.currentFrame&&(this.rotateSend(),this.lastSendFrame=ve.currentFrame)}showServerPos(e,t,s,n,o){this.getHead().setServerPosLog(e,t,s,n,o)}showLogInHead(e){this.getHead()&&this.getHead().showLogInHead(e)}setClientScore(e){this.getHead()&&this.getHead().setClientScore(e)}setLength(e){this.boneLength=e}setScore(e){this.score=e}_processGrowth(){var e=this.boneLength,t=this.bones.length;if(!(e==t&&e>=this.maxBoneLength)){if(e>t){let d=this.bones[this.bones.length-1];var s;this.tempBones&&(s=this.tempBones[this.tempBones.length-1]);for(var n,o=t+1;o<=e;o++)n=lt.create(d.x,d.y),this.bones.push(n),s&&this.tempBones.push(lt.create(s.x,s.y))}else e<t&&this.bones.splice(e);var l=this.getSkinLength(),u=this.skins.length;if(l>u)for(var p=u+1;p<=l;p++){let d=(p-1)*this.intervalBoneToDrawSkin,f=this.bodySkinPool.getBodySkin(Q.snake.skinFlag.body,this.color,this.tag,this);f.setPosition(this.bones[d]),ne.getInstance().addBodySkin(f),f.setLocalZOrder(-(p+1));let g=this.bones[d],_=this.bones[d].getRotationTo(g);f.setRotation(Q.snake.defaultRotation-_),this.skins.push(f)}else if(l<u){for(var p=l+1;p<=u;p++){var m=this.skins[p-1];this.bodySkinPool.returnBodySkin(m)}this.skins.splice(l)}this._updateSkinRadio()}}_moveBody(){let e=this.getSkinLength();for(let t=0;t<e;t++){let s=t*this.intervalBoneToDrawSkin;if(this.skins[t])if(this.bones[s]){this.tempBones?this.skins[t].setPosition(this.tempBones[s]):this.skins[t].setPosition(this.bones[s]);let n;s+1<this.bones.length?n=this.bones[s+1]:s-1>=0?n=this.bones[s-1]:n=this.bones[s];let o=this.bones[s].getRotationTo(n);this.skins[t].setRotation(Q.snake.defaultRotation-o),this.skins[t].setVisible(!0)}else this.skins[t].setVisible(!1)}}_updateSkinRadio(){let e=this.getSkinLength();for(let t=0;t<e;t++)this.skins[t]&&this.skins[t].updateAlpha(this.radio,this.speedRate)}showAddScore(e){this.isSelf&&this.getHead().node.showDamageLabelDetailDelay(e,100,!1)}get isSelf(){return this.tag&&this.tag.roleId==P.playerDto.pid}getHeadCollisionBounds(){let e=this.collisionHeadRadius,t=this.getCollisionHeadPosition();return t?new Laya.Rectangle(t.x-e,t.y-e,e*2,e*2):null}checkBodyCollision(e){let t=this.getCollisionHeadPosition();return t?e.checkCollision(t.x,t.y,this.collisionHeadRadius,this.isLogicSnake):!1}checkFoodCollision(e){let t=this.getCollisionHeadPosition();return t?e.checkCollision(t.x,t.y,this.suctionRadius):!1}rotateControl(e,t=!1){this.lastDir!=e&&(this.lastDir=e)}rotateSend(){if(ve.clientRuningFrame!=ve.startFrame){var e=P.playerDto.pid,t=this.getToServerHead(),s=y.snake.socket.MessageType.MSG_PLAYER_OPR,n=y.snake.socket.CS_PLAYER_OPR.fromObject({roleId:e,opr:1,value:this.lastDir,head:t,frame:ve.getClientCurrentFrame(),curDir:this.getCurDir(),aimDir:this.getAimDir()});ze.sendData(s,n),this.lastDir!=-1&&this.lastSendDir!=this.lastDir&&(n.frame=ve.getPredictFrameHalf(),ve.frameNetQueue.addLocalOperation(n),this.lastSendDir=this.lastDir)}}rotate(e,t=!1){this.aimDir=e}updateSpeedRate(e){this.speedRate=e}getCollisionHeadPosition(){return this.getHead()?this.isLogicSnake?this.getHead().getLoogicPosition():this.getHead().getPosition():null}getHeadPosition(){return this.getHead()?this.getHead().getPosition():null}gotoDiePos(){if(this.skins)for(let e=0;e<this.skins.length;e++){let t=this.skins[e];t&&t.gotoDiePos()}}getHead(){return this.skins?this.skins[0]:null}getSpeed(){return this.speed}getSpeedRate(){return this.speedRate}getIsSend(){return this.isSend}setIsSend(e){this.isSend=e}getIsStop(){return this.isStop}setIsStop(e){this.isStop=e}getToServerHead(){var e=new y.snake.socket.SnakeObject,t=new y.snake.socket.PointObject;return t.x=this.bones[0].x,t.y=this.bones[0].y,e.loc=t,e}updateHead106(e,t,s,n,o){if(this.isAlive()&&n){if(this.oprIndex!=-1&&o!=this.oprIndex+1){var l=this.tag.roleId,u="检测到106 操作序号异常（"+l+"），保留控制台日志。"+se.GetLogTime+" "+l+" 当前序号："+this.oprIndex+" 收到序号："+o+", C: ("+this.bones[0].x+", "+this.bones[0].y+"), "+this.clientFrame+" S:("+t.loc.x+", "+t.loc.y+"), "+e+", hasConfirmed: "+n;console.error(u),K.Debug==2&&o-this.oprIndex>1&&se.alertYes(u);return}this.oprIndex=o}}shine(e){let t=this.skins.length;for(let s=0;s<t;s++)this.skins[s].setVisible(!this.skins[s].isVisible())}show(){let e=this.skins.length;for(let t=0;t<e;t++)this.skins[t].setVisible(!0)}getSkins(){return this.skins}getRadio(){return this.radio}setAlive(e){this.alive=e}setGray(e){for(let t=0;t<this.skins.length;t++)this.skins[t].setGray(e)}isAlive(){return this.alive}getLength(){return this.boneLength}getScore(){return this.score}getSkinLength(){return Math.floor(this.boneLength/this.intervalBoneToDrawSkin)}recordBones(){var e=[];for(let t=0;t<this.bones.length;t++){let s=this.bones[t];e.push(s.clone())}return e}getState(){return{dir:this.dir,aimDir:this.aimDir,bones:this.recordBones(),speedRate:this.speedRate,oprIndex:this.oprIndex,alive:this.isAlive()}}restoreState(e){K.Debug>2&&console.log("============= restoreState: ","roleId:"+this.tag.roleId,"lastOprIndex:"+this.oprIndex,"oprIndex:"+e.oprIndex,"lastLen:"+this.boneLength,"confirmLen:"+e.len,"lastScore:"+this.score,"confirmScore:"+e.score,"lastBoneLen:"+this.bones.length,"confirmBoneLen:"+e.bones.length,"isLogicSnake:"+this.isLogicSnake),this.dir=e.dir,this.aimDir=e.aimDir,this.bones=this.deepCopyBones(e.bones),this.speedRate=e.speedRate,this.oprIndex=e.oprIndex}deepCopyBones(e){var t=[];for(let s=0;s<e.length;s++){let n=e[s];t.push(n.clone())}return t}getDoublePointsProbability(){return this.snakeItem.doublePointsProbability}adjustVisualState(e){this.dir=e.dir,this.aimDir=e.aimDir,this.bones=this.deepCopyBones(e.bones),this.speedRate=e.speedRate,this.oprIndex=e.oprIndex,this.boneLength=e.boneLength,this.score=e.score}destroy(){Laya.timer.clearAll(this),this.isSelf&&(ne.getInstance().skinLen=this.getSkinLength(),ne.getInstance().kills=this.tag.kills),this.skins.forEach(e=>this.bodySkinPool.returnBodySkin(e)),this.skins=[],this.bodyRing&&this.bodyRing.removeSelf(),this.bodyRing=null,this.snakeItem=null,this.tag=null,this.owner=null}}});var da,ZI=b(()=>{"use strict";ZM();rr();Ni();ot();gi();zs();ha();Sr();oi();St();ir();da=class{constructor(e,t){this.isViewReadyDie=!1;this.isLogicReadyDie=!1;this.isStartShineed=!1;this.isShineed=!1;this.isConfirmDied=!1;this.dieRuningFrame=0;this.logicDieRuningFrame=0;this.logicDieTime=0;this.viewSnake=new Yl(!1,e,t,this),Ce.matchDto.matchType!=Te.MATCH_TYPE_PVE&&(this.logicSnake=new Yl(!0,e,t,this)),this.tag=t}updateData(e){this.logicSnake.updateData(e),this.viewSnake.updateData(e),this.tag=e}getCurDir(){return this.viewSnake.dir}getAimDir(){return this.viewSnake.aimDir}getHead(e){return e?this.logicSnake.getHead():this.viewSnake.getHead()}showLogInHead(e,t){t?this.logicSnake.showLogInHead(e):this.viewSnake.showLogInHead(e)}setClientScore(e,t){t?this.logicSnake.setClientScore(e):this.viewSnake.setClientScore(e)}get isSelf(){return this.tag&&this.tag.roleId==P.playerDto.pid}move(e,t,s,n){if(t){if(s){if(this.dieRuningFrame!=0&&this.isViewReadyDie&&ve.clientRuningFrame>this.dieRuningFrame+10&&!this.isLogicReadyDie&&this.isAlive(!0)){var o=se.GetLogTime+" Snake DIE "+this.tag.roleId+" ==== 死亡恢复: clientRuningFrame: "+ve.clientRuningFrame+", dieRuningFrame: "+this.dieRuningFrame;console.warn(o),this.relive(),this.dieRuningFrame=0}var l=Laya.Browser.now();if(this.logicDieTime!=0&&this.isLogicReadyDie&&l>this.logicDieTime+8e3&&this.isAlive(!0)){var o=se.GetLogTime+" Snake DIE "+this.tag.roleId+" ==== 死亡异常: now: "+Et.getTimeByMs(l)+", logicDieTime: "+Et.getTimeByMs(this.logicDieTime)+", clientRuningFrame: "+ve.clientRuningFrame+", logicDieRuningFrame: "+this.logicDieRuningFrame;console.warn(o),K.vType==0&&se.alertYes(o)}}this.logicSnake.move(e,s,n)}else this.viewSnake.move(e,s,n),this.updateOther()}setLength(e,t){t?this.logicSnake.setLength(e):this.viewSnake.setLength(e)}setScore(e,t){t?this.logicSnake.setScore(e):this.viewSnake.setScore(e)}showAddScore(e,t){t?this.logicSnake.showAddScore(e):this.viewSnake.showAddScore(e)}rotateControl(e,t=!1){this.viewSnake&&this.viewSnake.rotateControl(e,t)}rotateSend(){this.viewSnake.rotateSend()}rotate(e,t){t?this.logicSnake.rotate(e):this.viewSnake.rotate(e)}updateSpeedRate(e,t){t?this.logicSnake.updateSpeedRate(e):this.viewSnake.updateSpeedRate(e)}getToServerHead(e){return e?this.logicSnake.getToServerHead():this.viewSnake.getToServerHead()}getSpeed(e){return e?this.logicSnake.getSpeed():this.viewSnake.getSpeed()}getSpeedRate(e){return e?this.logicSnake.getSpeedRate():this.viewSnake.getSpeedRate()}getHeadPosition(e){return e?this.logicSnake.getHeadPosition():this.viewSnake.getHeadPosition()}getCollisionHeadPosition(e){return e?this.logicSnake.getCollisionHeadPosition():this.viewSnake.getCollisionHeadPosition()}addKill(e){if(this.tag&&(this.tag.kills+=e),this.isSelf){var t=this.tag.kills>5?5:this.tag.kills;let s=`soundName_kill_${t}`;qe[s]?qe.playSoundByName(qe[s]):console.warn(`音效 ${s} 不存在`),this.getHead(!1).node.showDamageLabelDetailDelay(e,100,!0)}}sendDie(){this.isLogicReadyDie=!0;var e=Laya.Browser.now();console.warn(`Snake DIE ${this.tag.roleId} `,"sendDie now: "+e,this.logicDieTime,"clientRuningFrame: "+ve.clientRuningFrame,this.logicDieRuningFrame,this.getHeadPosition(!1)),this.logicDieTime=e,this.logicDieRuningFrame=ve.clientRuningFrame,this.setIsStop(!0,!0)}readyDie(){console.warn(se.GetLogTime+` Snake DIE ${this.tag.roleId} `,this.isStartShineed,"readyDie "+ve.clientRuningFrame,this.dieRuningFrame),!this.isStartShineed&&(this.dieRuningFrame=ve.clientRuningFrame+1,this.isStartShineed=!0,this.isViewReadyDie=!0,this.isShineed=!1,this.setIsStop(!0,!1),this.viewSnake.gotoDiePos(),this.startShine())}startShine(){console.log(`Snake ${this.tag.roleId} `,"startShine"),Laya.timer.clear(this,this.shine),Laya.timer.frameLoop(5,this,this.shine),Laya.timer.once(2e3,this,this.haveShined)}shine(e){this.viewSnake.shine(e),this.logicSnake&&this.logicSnake.shine(e)}haveShined(){console.log(`Snake ${this.tag.roleId} `,"haveShined"),this.isStartShineed=!1,this.isShineed=!0,this.stopShine(),this.isConfirmDied&&this.die()}stopShine(){console.log(`Snake ${this.tag.roleId} `,"stopShine"),this.viewSnake.show(),this.logicSnake&&this.logicSnake.show(),Laya.timer.clear(this,this.shine)}relive(){console.log(`Snake ${this.tag.roleId} `,"relive","this.isConfirmReadyDie: "+this.isLogicReadyDie),this.setIsStop(!1,!1),this.isViewReadyDie=!1,this.setIsSend(!1,!1),this.stopShine()}confirmDie(){console.log(`Snake ${this.tag.roleId} `,"confirmDie","this.isShineed: "+this.isShineed),this.stopShine(),this.die()}die(){console.log(`Snake ${this.tag.roleId} has died.`),this.viewSnake.setAlive(!1),this.logicSnake&&this.logicSnake.setAlive(!1),this.isSelf?(this.viewSnake.setGray(!0),this.logicSnake&&this.logicSnake.setGray(!0),qe.playSoundByName(qe.soundName_kill_die),Laya.timer.once(1e3,this,this.goMatchEnd)):ne.getInstance().removeSnake(this.tag.roleId)}goMatchEnd(){Ce.matchDto.matchType==Te.MATCH_TYPE_PVE?wr.onPveEnd():(ne.getInstance().removeSnake(this.tag.roleId),Ce.onMockMatchEnd())}isAlive(e){return e?this.logicSnake.isAlive():this.viewSnake.isAlive()}getSkinLength(e){return e?this.logicSnake.getSkinLength():this.viewSnake.getSkinLength()}getScore(e){return e?this.logicSnake.getScore():this.viewSnake.getScore()}getHeadCollisionBounds(e){return e?this.logicSnake.getHeadCollisionBounds():this.viewSnake.getHeadCollisionBounds()}isInvincible(e){return e?this.logicSnake.isInvincible:this.viewSnake.isInvincible}len(e){return e?this.logicSnake.boneLength:this.viewSnake.boneLength}intervalBoneToDrawSkin(e){return e?this.logicSnake.intervalBoneToDrawSkin:this.viewSnake.intervalBoneToDrawSkin}getSkins(e){return e?this.logicSnake.getSkins():this.viewSnake.getSkins()}getLength(e){return e?this.logicSnake.getLength():this.viewSnake.getLength()}getRadio(e){return e?this.logicSnake.getRadio():this.viewSnake.getRadio()}checkFoodCollision(e,t){return t?this.logicSnake.checkFoodCollision(e):this.viewSnake.checkFoodCollision(e)}getIsSend(e){return e?this.logicSnake.getIsSend():this.viewSnake.getIsSend()}setIsSend(e,t){t?this.logicSnake.setIsSend(e):this.viewSnake.setIsSend(e)}getIsStop(e){return this.tag?e?this.logicSnake.getIsStop():this.viewSnake.getIsStop():!0}setIsStop(e,t){t?this.logicSnake.setIsStop(e):this.viewSnake.setIsStop(e)}checkBodyCollision(e,t){return t?this.logicSnake.checkBodyCollision(e):this.viewSnake.checkBodyCollision(e)}updateOther(){}destroy(){console.log(`Snake ${this.tag.roleId} has been destroyed.`),Laya.timer.clearAll(this),this.viewSnake.destroy(),this.logicSnake&&this.logicSnake.destroy(),this.viewSnake=null,this.logicSnake=null,this.tag=null}}});var dm,e2=b(()=>{"use strict";kr();fi();JM();ha();ZI();dm=class extends da{constructor(t,s){super(t,s);this.isAi=!1;this.tag.roleId&&this.tag.roleId.startsWith(Q.snake.aiPrefix)&&(this.aiController=new jy(this),this.isAi=!0)}pveDie(){this.isSelf?(this.isConfirmDied=!0,this.readyDie()):(this.toFood(),this.die())}toFood(){var t=this.getSkins(!1);for(let s=4;s<t.length;s+=5){let n=t[s],o=(Math.random()-.5)*20,l=(Math.random()-.5)*20,u=n.getPosition().x+o,p=n.getPosition().y+l;Lt.addFoodByPosWithDie(u,p)}}goMatchEnd(){wr.onPveEnd()}updateOther(){this.aiController&&this.aiController.update()}goTargetPos(t){this.aiController&&this.aiController.goTargetPos(t)}destroy(){super.destroy(),this.aiController&&(this.aiController.destroy(),this.aiController=null)}}});var Gy,t2=b(()=>{"use strict";pm();Gy=class{constructor(e){this.pool=[];this.pnl=e}getBodySkin(e,t,s,n){if(this.pool.length>0){let o=this.pool.pop();return o.reset(e,this.pnl,t,s,n),o}else return new fr(e,this.pnl,t,s,n)}returnBodySkin(e){e.resetForPool(),this.pool.push(e)}clear(){this.pool.forEach(e=>e.destroy()),this.pool=[]}}});var Vy,Wy,eS=b(()=>{"use strict";Pi();fi();ql();t2();ot();gi();Ze();kr();Vy=class{constructor(){this.selfSnake=null;this.isControl=!1}init(){this.container||(this.container=new Laya.Sprite),this.matchHeroSprDic=new Pe(!0),this.selfSnake=null,this.collision=Wr.getInstance(null),this.bodySkinPool=new Gy(this.container)}updateSnake(e,t){return console.log("updateSnake: "+t.roleId,P.playerDto.pid),e.updateData(t),P.playerDto.pid==t.roleId&&(this.selfSnake=e),e}addBodySkin(e){this.collision.addBodySkin(e)}removeBodySkin(e){this.collision.removeBodySkin(e)}updateSnakes(e,t,s,n){this.moveSnakes(e,t,s,n),this.collision.refresh(),this.checkAllSnakeCollision(t,s)}getSnake(e){return this.matchHeroSprDic.get(e)}removeSnake(e){var t=this.matchHeroSprDic.get(e);t?(t.destroy(),this.matchHeroSprDic.remove(e)):console.log("removeSnake error: "+e)}removeAllSnakes(){var e=this.matchHeroSprDic.getValues();for(let t of e)t.destroy();this.matchHeroSprDic=new Pe(!0)}moveSnakes(e,t,s,n){var o=this.matchHeroSprDic.getValues();for(let l of o)l.isAlive(t)&&l.move(e,t,s,n)}getSelfSnakePos(e){return this.selfSnake?this.selfSnake.getHeadPosition(e):null}createSnakes(){this.matchHeroSprDic=new Pe(!0);let e=Ce.matchDto.members.length;for(var t=0;t<e;t++)var s=Ce.matchDto.members[t],n=this.createSnake(s)}newAddSnake(e){var t=this.matchHeroSprDic.get(e.roleId);t?this.updateSnake(t,e):t=this.createSnake(e)}restoreSnakes(){this.removeAllSnakes(),this.matchHeroSprDic=new Pe(!0);let e=Ce.matchDto.members.length;for(var t=0;t<e;t++){var s=Ce.matchDto.members[t];try{var n=this.createSnake(s)}catch(o){console.warn(o)}}}getBodySkinsWithOutOne(e,t){var s=[],n=this.matchHeroSprDic.getValues();for(let l of n){var o=l;o.tag&&e.tag.roleId!=o.tag.roleId&&(s=s.concat(o.getSkins(t)))}return s}getBodySkinPool(){return this.bodySkinPool}showLogInHead(e,t){this.selfSnake&&this.selfSnake.tag&&this.selfSnake.showLogInHead(e,t)}countSnakeLen(e,t,s,n){var o=t+1,l=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[e,t+1]);return l&&s>=l.accumulatePoints?this.countSnakeLen(e,o,s,n):t*n}getRoleById(e){return this.matchHeroSprDic?this.matchHeroSprDic.get(e):null}setMyHeroDirection(e){this.selfSnake&&(e!=-4?(this.rorate(Q.snakeType.SELF,e),this.isControl=!0):this.isControl=!1)}eatFoodAndAddScore(e,t){var s=e.fid,n=e.score,o=e.lenght,l=e.roleId,u=this.getRoleById(l);u&&(u.setLength(o,t),Lt.eateFoodIds(u,s,n,t),u.setScore(n,t))}clear(){this.removeAllSnakes(),this.container.removeSelf(),this.container=null,this.selfSnake=null,this.matchHeroSprDic=null,this.bodySkinPool.clear(),this.collision=null}};Vy._instance=null;Wy=Vy});var Ky,i2=b(()=>{"use strict";nt();Ky=class extends y.snake.socket.ItemObject{}});var tS,Gs,Ql=b(()=>{"use strict";Xl();qt();ut();We();co();tS=class i{constructor(){this._isPop=!1;v.on(E.EVENT_CHECK_REMAIN,this,this.onCheckRemain)}static getInstance(){return i._instance||(i._instance=new i),i._instance}get model(){return ti}get isPop(){return this._isPop}startShow(){console.log("startShow");var e=this.model.hasRemain();!this._isPop&&e&&(this._isPop=!0,e instanceof nr?v.event(E.EVENT_OPEN_MODULE,w.ItemGetDialog):v.event(E.EVENT_OPEN_MODULE,w.HeroGetDialog))}onCheckRemain(e){if(e==w.ItemGetDialog||e==w.HeroGetDialog){var t=this.model.hasRemain();t?t instanceof nr?v.event(E.EVENT_OPEN_MODULE,w.ItemGetDialog):v.event(E.EVENT_OPEN_MODULE,w.HeroGetDialog):this._isPop=!1}}},Gs=tS.getInstance()});var $y,r2=b(()=>{"use strict";Pi();i2();ut();We();Xl();co();Ql();Ze();$y=class{constructor(){this.m_dicItemList=new Pe,this.m_dicTypeList=new Pe,this.m_dicSubTypeList=new Pe,this.m_dicBackList=new Pe}initData(e){this.m_dicItemList=new Pe,this.m_dicTypeList=new Pe,this.m_dicSubTypeList=new Pe,this.m_dicBackList=new Pe;let t;for(let n=0;n<e.length;n++){t=new nr;var s=e[n];t.id=s.itemId,s.pk&&(t.m_iPk=s.pk),t.num=s.num,t.num>0&&this.pushItem(t)}console.log("@@@@@@@@@@@@@@@@@@-----------------------------------------PackageData: ")}getCountById(e,t=!0){return $.m_dicItems.get(e)==null?0:this.getItemCountById(e,t)}pushItem(e){this.m_dicItemList.set(e.id,e),this.m_dicTypeList.get(e.type)==null&&this.m_dicTypeList.set(e.type,new Pe),this.m_dicSubTypeList.get(e.subType)==null&&this.m_dicSubTypeList.set(e.subType,new Pe),this.m_dicBackList.get(e.backType)==null&&this.m_dicBackList.set(e.backType,new Pe),this.m_dicTypeList.get(e.type).set(e.id,e),this.m_dicSubTypeList.get(e.subType).set(e.id,e),this.m_dicBackList.get(e.backType).set(e.id,e)}removeItem(e){this.m_dicItemList.remove(e.id),this.m_dicTypeList.get(e.type).remove(e.id),this.m_dicSubTypeList.get(e.subType).remove(e.id),this.m_dicBackList.get(e.backType).remove(e.id)}updateData(e,t=!1,s=!0){console.log("updateData: ",e,t,s);let n=[],o=!1,l;for(let u=0;u<e.length;u++){e[u]instanceof Array?(l=new Ky,l.itemId=e[u][0],l.num=e[u][1]):l=e[u];let p=this.m_dicItemList.get(l.itemId);p==null&&(p=new nr(l.itemId),this.pushItem(p),p.m_bNew=!0),t?p.num=l.num:(p.newAddCnt=l.num,p.num=p.num+l.num),n.push(p.id),p.num<=0&&this.removeItem(p),p.newAddCnt>0&&ti.needPop&&s&&(ti.addItem(p),o=!0)}o&&ti.needPop&&ti.autoPop&&Gs.startShow(),n.length>0&&v.event(E.PACKAGE_UPDATE_ITEM,[n])}getItemById(e){return this.m_dicItemList.get(e)}getItemsBySubType(e){let t=this.m_dicSubTypeList.get(e);return t==null&&(t=[]),t}getListByType(e){let t=[];return this.m_dicTypeList.get(e)&&(t=this.m_dicTypeList.get(e).values.slice()),t.sort(this.sortOnQa),t}getBackByType(e){let t=[];return this.m_dicBackList.get(e)&&(t=this.m_dicBackList.get(e).values.slice()),t.sort(this.sortOnQa),t}getListBySubType(e){let t=[];return this.m_dicSubTypeList.get(e)&&(t=this.m_dicSubTypeList.get(e).values.slice()),t.sort(this.sortOnQa),t}sortOnQa(e,t){let s=e.itemItem.sort,n=t.itemItem.sort;return s<n?-1:s>n?1:0}sortOnExpTime(e,t){let s=e.expTime,n=t.expTime;return s<n?1:s>n?-1:0}getItemCountById(e,t=!0){let s=this.getItemById(e);return s?s.num:0}}});var fm,s2=b(()=>{"use strict";Xe();Ze();fm=class i{constructor(e=0){this._m_iLevel=0;this.isShopEntry=!1;this.m_bIsSetId=!1;e!=0&&(this.id=e)}get m_iLevel(){return this._m_iLevel>0?this._m_iLevel:1}set m_iLevel(e){this._m_iLevel=e||0}set snakeName(e){this._snakeName=e}get snakeName(){return this._snakeName?this._snakeName:O.getLanguage(this.snakeItem.name)}get id(){return this._m_iId}set id(e){this._m_iId=e,this.m_bIsSetId||(this.m_bIsSetId=!0,this.m_iOriginalId=e),this.setConfigData()}setConfigData(){if(this.id!=0&&(this.snakeItem=$.m_dicSnakes.get(this.id.toString()),!this.snakeItem)){console.log("[          <snakes> find out id:"+this.id+"             ]");return}}copy(){let e=new i(this.id);return e.m_iLevel=this.m_iLevel,e}compareName(){return O.getLanguage(this.snakeItem.name)}compareLevel(){return parseFloat(this.m_iLevel+"")}compareId(){return parseInt(this.id+"")}}});var qy,n2=b(()=>{"use strict";ut();We();co();Ql();Pi();s2();qy=class{constructor(){this.m_dicSnakeList=new Pe}initData(e){this.m_dicSnakeList=new Pe;let t;for(let n=0;n<e.length;n++){t=new fm;var s=e[n];t.id=s.id,t.unkey=s.unkey,t.attr=s.attr,t.skin=s.skin,t.upgrade=s.upgrade,t&&this.pushSnake(t)}console.log("@@@@@@@@@@@@@@@@@@-----------------------------------------SnakePackageData: ")}getCountById(e,t=!0){return this.getSnakeCountById(e,t)}pushSnake(e){this.m_dicSnakeList.set(e.unkey,e)}removeSnake(e){this.m_dicSnakeList.remove(e.unkey)}updateData(e,t=!1,s=!0){console.log("updateData: ",e,t,s);let n=[],o=!1,l;for(let u=0;u<e.length;u++){l=e[u];let p=this.m_dicSnakeList.get(l.unkey);p==null&&(p=new fm(l.id),p.unkey=l.unkey,this.pushSnake(p)),p.attr=l.attr,p.skin=l.skin,p.upgrade=l.upgrade,n.push(p.unkey),ti.needPop&&s&&(ti.addSnakeItem(p),o=!0)}o&&ti.needPop&&ti.autoPop&&Gs.startShow(),n.length>0&&v.event(E.PACKAGE_UPDATE_ITEM,[n])}getSnakeById(e){return this.m_dicSnakeList.get(e)}getSnakeCountById(e,t=!0){return this.getSnakeById(e)?1:0}}});var iS,Ei,mn=b(()=>{"use strict";r2();We();ut();n2();iS=class i{constructor(){this.m_packageData=new $y,this.m_snakePackageData=new qy}static getInstance(){return i._instance||(i._instance=new i),i._instance}initKnapsackData(e){this.m_packageData.initData(e),v.event(E.EVENT_ITEM_UPDATE)}updateKnapsackItems(e){this.m_packageData.updateData(e)}getAllKnapsackItems(){return this.m_packageData.m_dicItemList?this.m_packageData.m_dicItemList.values:[]}getKnapsackItemById(e){return this.m_packageData.m_dicItemList?this.m_packageData.getItemById(e):null}getKnapsackItemCount(e){return this.m_packageData.getCountById(e)}hasKnapsackItem(e){return this.getKnapsackItemCount(e)>0}initSnakeData(e){this.m_snakePackageData.initData(e),v.event(E.EVENT_SNAKE_UPDATE)}updateSnakeItems(e){this.m_snakePackageData.updateData(e)}getAllSnakeItems(){return this.m_snakePackageData.m_dicSnakeList?this.m_snakePackageData.m_dicSnakeList.values:[]}getSnakeItemById(e){return this.m_snakePackageData.m_dicSnakeList?this.m_snakePackageData.getSnakeById(e):null}getSnakeItemCount(e){return this.m_snakePackageData.getCountById(e)}hasSnakeItem(e){return this.getSnakeItemCount(e)>0}isSnakeItemEnough(e,t){return this.getSnakeItemCount(e)>=t}},Ei=iS.getInstance()});var fa,rS,o2,a2=b(()=>{"use strict";nt();fi();Qr();YI();ot();aa();Ze();e2();oi();eS();mn();fa=class fa extends Wy{constructor(){super(...arguments);this.spawnTimer=0;this.snakeUnKey=0}static getInstance(){return fa._instance||(fa._instance=new fa),fa._instance}createSnake(t){if(this.container==null){console.log(t.roleId+" 无法添加 container is null");return}let s=new dm(this.container,t);if(this.matchHeroSprDic.get(t.roleId))throw new Error(t.roleId+" 被重复添加！");return this.matchHeroSprDic.set(t.roleId,s),console.log("createSnake: "+t.roleId,P.playerDto.pid),P.playerDto.pid==t.roleId&&(this.selfSnake=s),s}rorate(t,s){t===Q.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.rotate(s,!1)}updateSpeedRate(t,s){t===Q.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.updateSpeedRate(s,!1)}checkAllSnakeCollision(t,s){var n=this.matchHeroSprDic.getValues();for(let l of n){var o=l;o&&o.tag&&pa.checkCollisionsWithPve(o,null,this.collision,s)}}async spawnSnakes(){var t=[],s=Q.snake.initCount-1,n=await se.getNpcNames(s);for(let u=1;u<=s;u++){var o=n[u-1],l=this.spawnRandomPlayerObject(o,!1,!1);t.push(l)}return t}spawnRandomPlayerObject(t,s=!0,n=!1){let o=Q.mapSize.width,l=Q.mapSize.height;var u=Q.mapSize.offsetDistance,p=Dt.randomRange(u,o-u),m=Dt.randomRange(u,l-u);let d=p,f=o-p,g=m,_=l-m,S=Math.min(d,f,g,_);console.debug("spawnRandomPlayerObject playerName: ",t+", leftDist: ",d+", rightDist: ",f+", topDist: ",g+", bottomDist: ",_+", minDist: ",S);let x;S===d?g<_?x=Math.random()*45:g>_?x=Math.random()*45+315:x=Math.random()*90-45:S===f?g<_?x=135+Math.random()*45:g>_?x=180+Math.random()*45:x=180+Math.random()*90-45:S===g?d<f?x=45+Math.random()*45:d>f?x=90+Math.random()*45:x=90+Math.random()*90-45:d<f?x=270+Math.random()*45:d>f?x=225+Math.random()*45:x=270+Math.random()*90-45,x=(x+360)%360,x=Math.floor(x);var I=this.getPlayerObjectByPos(t,p,m,x,s,n);return I}playerLen(){var t=this.matchHeroSprDic.size;return t}async spawnSnake(){if(!(this.playerLen()>=Q.snake.maxCount)){var t=await se.getNpcNames(1),s=t[0],n=this.spawnRandomPlayerObject(s,!0,!1);this.createSnake(n)}}update(t){this.spawnTimer+=t,this.spawnTimer>=Q.snake.spawnInterval&&(this.spawnTimer=0,this.spawnSnake())}getPlayerObjectByPos(t,s,n,o,l=!0,u=!1){console.debug("getPlayerObjectByPos: ",t," born: ( "+s,n+" ), dir: "+o);var p=new lt(s,n),m="",d,f=0,g=0,_=new y.snake.socket.PlayerObject;_.aimDir=_.direction=o,_.speed=1,_.state=!0;var S;if(_.enterTime=Laya.timer.currTimer,_.oprTime=Laya.timer.currTimer,l?_.wdTime=Laya.timer.currTimer+3e3:_.wdTime=Laya.timer.currTimer,u){var x=P.playerDto,I=x.snakeId,M=Ei.getSnakeItemById(I);f=M.id,g=x.skinId,S=M.snakeItem.initLength,m=x.name,d=x.pid,_.roleId=d+"";var A=M.attr;_.attr=A;for(let pe=0;pe<A.length;pe++)if(A[pe]){let $e=A[pe].split(","),Ct=$e[0],si=$e[1];if(Ct=="1"){var D=parseInt(si),j=S;S=D,console.log("ATTR: 计算长度：后端len: "+j+", newLen: "+D)}}}else{this.snakeUnKey+=1,d=this.snakeUnKey;var W=$.m_dicSnakes.keys.length,U=Math.floor(Math.random()*W);f=$.m_dicSnakes.keys[U];var J=Q.snake.skinIds.length,X=Math.floor(Math.random()*J);g=Q.snake.skinIds[X],S=Dt.randomInt(Q.snake.aiMinLen,Q.snake.aiMaxLen),_.roleId=Q.snake.aiPrefix+d,m=t}var ie=$.m_dicSnakes.get(f);_.userName=m,_.snakeId=f,_.skin=g;var Ie=ie.baseSpeed;_.length=S*ie.intervalBoneToDrawSkin;var ke=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[f,S]);_.score=ke.accumulatePoints,_.kills=0;var De=[],ft=_.direction*Math.PI/180;let ye=lt.create(Math.cos(ft),-Math.sin(ft));for(let pe=0;pe<_.length;pe++){let $e;if(pe===0)$e=p||lt.create(0,0);else{var ue=De[pe-1],me=lt.create(ue.loc.x,ue.loc.y);let Ct=.6;$e=me.add(ye.mul(Ie*Ct))}var R=new y.snake.socket.SnakeObject,Fe=new y.snake.socket.PointObject;if($e.x<Q.mapSize.offsetX+ie.bodyRadius||$e.x>Q.mapSize.width-(Q.mapSize.offsetX+ie.bodyRadius)||$e.y<Q.mapSize.offsetY+ie.bodyRadius||$e.y>Q.mapSize.height-(Q.mapSize.offsetY+ie.bodyRadius)){_.length=pe,S=Math.floor(_.length/ie.intervalBoneToDrawSkin);var ke=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[f,S]);_.score=ke.accumulatePoints;continue}Fe.x=$e.x,Fe.y=$e.y,console.debug("bone: ",pe," pos: ",$e),R.loc=Fe,De[pe]=R}return _.snake=De,_}calculateMaxLength(t,s,n,o,l,u,p){let m=Q.mapSize.offsetX+u,d=Q.mapSize.width-Q.mapSize.offsetX-u,f=Q.mapSize.offsetY+u,g=Q.mapSize.height-Q.mapSize.offsetY-u,_=n*Math.PI/180,S=Math.cos(_),x=Math.sin(_),I=-S,M=-x;function A(Ie,ke,De,ft){return Ie===0?null:Ie>0?(ft-ke)/Ie:(De-ke)/Ie}let D=A(I,t,m,d),j=A(M,s,f,g),W=[];if(D!==null&&D>0&&W.push(D),j!==null&&j>0&&W.push(j),W.length===0)return 0;let U=Math.min(...W),J=o*l,X=Math.floor(U/J);return Math.floor(X/p)}};fa._instance=null;rS=fa,o2=rS});var gm,l2=b(()=>{"use strict";gi();ZI();Ni();Sr();gm=class extends da{constructor(t,s){super(t,s);this.lastSendFrame=-1}rorateReadySend(){this.isSelf&&this.viewSnake&&this.lastSendFrame!=ve.currentFrame&&(this.rotateSend(),this.lastSendFrame=ve.currentFrame)}rotateSend(){this.viewSnake.rotateSend()}goMatchEnd(){ne.getInstance().removeSnake(this.tag.roleId),Ce.onMockMatchEnd()}adjustVisualState(){this.viewSnake.adjustVisualState(this.logicSnake)}updateOther(){}}});var ga,sS,c2,u2=b(()=>{"use strict";nt();Pi();fi();YI();Sr();ot();gi();Er();l2();eS();ga=class ga extends Wy{static getInstance(){return ga._instance||(ga._instance=new ga),ga._instance}createSnake(e){let t=new gm(this.container,e);if(this.matchHeroSprDic.get(e.roleId))throw new Error(e.roleId+" 被重复添加！");return this.matchHeroSprDic.set(e.roleId,t),console.log("createSnake: "+e.roleId,P.playerDto.pid),P.playerDto.pid==e.roleId&&(this.selfSnake=t),t}adjustVisualState(){var e=this.matchHeroSprDic.getValues();for(let t of e)t.tag&&t.adjustVisualState()}rorate(e,t){e===Q.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.rotateControl(t,!0)}rorateReadySend(){this.selfSnake&&(this.selfSnake.tag==null||!this.selfSnake.isAlive(!1))||this.selfSnake.rorateReadySend()}updateSpeedRate(e,t){if(e===Q.snakeType.SELF&&this.selfSnake&&this.selfSnake.tag&&this.selfSnake.isAlive(!1)){var s=P.playerDto.pid,n=this.selfSnake.getToServerHead(!1),o=y.snake.socket.MessageType.MSG_PLAYER_OPR,l=y.snake.socket.CS_PLAYER_OPR.fromObject({roleId:s,opr:2,value:t,head:n,frame:ve.getClientCurrentFrame(),curDir:this.selfSnake.getCurDir(),aimDir:this.selfSnake.getAimDir()});ze.sendData(o,l),l.frame=ve.getPredictFrameHalf(),ve.frameNetQueue.addLocalOperation(l)}}checkAllSnakeCollision(e,t){var s=this.matchHeroSprDic.getValues();for(let o of s){var n=o;n&&n.tag&&(e?pa.checkCollisionsWithConfirm(n,null,this.collision,t):pa.checkCollisions(n,null,this.collision,t))}}restoreSnakes(){this.removeAllSnakes(),this.matchHeroSprDic=new Pe(!0);let e=Ce.matchDto.members.length;for(var t=0;t<e;t++){var s=Ce.matchDto.members[t];try{var n=this.createSnake(s)}catch(o){console.warn(o)}}}getSnakesState(){let e={snakes:{}};var t=this.matchHeroSprDic.getValues();for(let n of t){var s=n;let o=s.tag.roleId;e.snakes[o]=s.logicSnake.getState()}return e}restoreState(e){for(let s in e.snakes){var t=this.matchHeroSprDic.get(s);t&&t.logicSnake.restoreState(e.snakes[s])}}};ga._instance=null;sS=ga,c2=sS});var ne,Ni=b(()=>{"use strict";zs();a2();u2();ne=class{static getInstance(){return Te.matchType===Te.MATCH_TYPE_PVE?o2.getInstance():c2.getInstance()}}});var ba,nS,Tr,oS=b(()=>{"use strict";ql();hm();kr();Sr();Ni();St();ua();Er();ba=class ba{static getInstance(){return ba.instance||(ba.instance=new ba),ba.instance}init(e=null){if(!e)throw new Error("gameLayer Must Be Not Null");ne.getInstance().init(),Lt.init();let t=ne.getInstance().container,s=Lt.container,n=new Laya.Sprite;e.addChild(s),e.addChild(t),e.addChild(n),n.addChild(Lr.getInstance()),Lt.init(),this.onConnectRoom()}onConnectRoom(){ze.initSocket()}createData(){ne.getInstance().createSnakes(),Lt.createFoodsByData()}startGame(){ve.start()}clearTimer(){ve.stop()}endTimer(){ve.end()}update(e,t,s,n=!0){if(ne.getInstance().updateSnakes(Laya.timer.delta,t,s,n),!t&&(sr.move(ne.getInstance().getSelfSnakePos(t)),K.needDraw)){let o=Lr.getInstance();o&&(o.clearDraw(),Wr.getInstance(null).drawDebug(o.graphics))}}restoreData(){ne.getInstance().restoreSnakes(),Lt.restoreFoods()}clear(){this.clearTimer()}};ba.instance=null;nS=ba,Tr=nS.getInstance()});var aS,bm,lS=b(()=>{"use strict";aS=class{constructor(){this.arenaId=0;this.coinType=0;this.members=[];this.item=[];this.remainderCd=0;this.startTime=0;this.nowTime=0;this.matchType=0;this.watch=[];this.anonymous=0}},bm=aS});var Yy,p2=b(()=>{"use strict";lS();WI();KI();zs();ut();We();St();ot();Ze();gi();nt();Er();Pi();oi();kr();Ni();Sr();Yy=class{constructor(){this.isStart=!1;this.eatFoodDic=new Pe;this._operationQueue={};this._localOperationQueue={};this.latestEventFrame=-1}enterRoom(e){var t=e.food,s=e.players;ve.init();var n=1e12,o=0,l=null;s.sort((m,d)=>m.enterTime-d.enterTime),s.forEach(m=>{if(K.Debug==2){var d="INIT 坐标: ======== "+m.roleId+" frame: "+m.frame+", pos: "+m.snake[0].loc.x+", "+m.snake[0].loc.y;console.table(d)}m.roleId==P.playerDto.pid&&(l=m,o=l.enterTime,n=l.frame)}),ve.setStartFrame(n,o);var u=[];s.forEach(m=>{if(m.state){var d=m.frame;if(d==n)u.push(m);else if(d>n){var f=new Hs;f.msgtype=y.snake.socket.MessageType.MSG_NOTICE_ENTER,f.msgBody=m,this.addOperation(f)}}});var p=new bm;p.members=u,p.myPlayerObject=l,p.roomId=e.roomNo,p.item=t,p.matchType=Te.MATCH_TYPE_PVP,Ce.matchDto=p,v.event(E.EVENT_PVP_INIT_DATA),Ce.stopAll=!1}pushMsg(e){var t=e.frame,s=e.msgList,n=[],o=1e12;if(s.forEach(u=>{var p=u.msghead.msgtype,m=u.msghead.msgcode,d,f=Laya.ClassUtils.getClass(p+"");if(f){var g=Date.now();if(d=f.deserializeBinary(u.msgbody).toObject(),K.Debug>=1){var _=Date.now();console.log(se.GetLogTime+" WS ------<<<<<<<< RECV BATCH_CMD:"+p+", CODE:",m+", DATA:",d," dt:",_-g)}}else K.Debug>=1&&console.warn(se.GetLogTime+" WS ------<<<<<<<< RECV BATCH_CMD:"+p+", CODE:",m+", className解析失败!");if(p==y.snake.socket.MessageType.MSG_PLAYER_COLLISION)this.confirmPlayerCollision(d,!0);else{var S=new Hs;S.msgtype=p,S.msgBody=d;var x=d.frame;x<o&&(o=x),n.push(S)}}),n&&n.length){var l=new oa;l.frame=t,l.minEventFrame=o,l.serverCmdDataDtos=n,this.addFrameOperations(l)}}noticeEnter(e,t){var s=t.players,n=s.frame,o=[],l=n,u=new Hs;u.msgtype=e,u.msgBody=s,o.push(u);var p=new oa;p.frame=n,p.minEventFrame=l,p.serverCmdDataDtos=o,this.addFrameOperations(p)}handleOperationDetail(e,t,s){switch(K.Debug>2&&console.log("======handleOperationDetail=====",e.msgBody.frame,e,"isLogicSnake: "+t),e.msgtype){case y.snake.socket.MessageType.MSG_PLAYER_OPR:var n=e.msgBody;this.onRevOprPush(n,t,s);break;case y.snake.socket.MessageType.MSG_EAT_FOOD:let l=e.msgBody;break;case y.snake.socket.MessageType.MSG_PLAYER_COLLISION:let u=e.msgBody;break;case y.snake.socket.MessageType.MSG_NOTICE_ENTER:var o=e.msgBody;ne.getInstance().newAddSnake(o);break}}confirmPlayerCollision(e,t){var s=e.roleId,n=e.food,o=e.taret,l=e.head,u=e.frame,p=e.die,m=ne.getInstance().getRoleById(s);if(m&&p!="-1"){var d=ne.getInstance().getRoleById(o);p==s?(m.confirmDie(),d&&d.addKill(1)):(d&&d.confirmDie(),m.addKill(1)),n&&n.length&&Lt.addFoods(n)}}addLocalOperation(e){if(ve.frameNetQueue.isStart){var t=new Hs,s=y.snake.socket.MessageType.MSG_PLAYER_OPR;t.msgtype=s,t.msgBody=e;var n=t.msgBody.frame+1;K.Debug>2&&console.log("addLocalOperation (frame): ",e.frame," (frame+1): "+n,t),this._localOperationQueue[n]||(this._localOperationQueue[n]=[]),this._localOperationQueue[n].push(t)}}addFrameOperations(e){let t=e.frame,s=e.minEventFrame,n=e.serverCmdDataDtos;K.Debug>2&&console.log(se.GetLogTime,"addFrameOperations: latestEventFrame: ",this.latestEventFrame,"serverFrame: "+t,"minEventFrame: "+s,n,"confirmedFrame: "+ve.confirmedFrame,"clientRuningFrame: "+ve.clientRuningFrame);for(let o of n)this.addOperation(o)}addOperation(e){var t=e.msgBody.frame+1;K.Debug>2&&console.log("addOperation (frame+1): ",t,e),this._operationQueue[t]||(this._operationQueue[t]=[]),this._operationQueue[t].push(e),t>this.latestEventFrame&&(this.latestEventFrame=t);var s=0;K.Debug>2&&console.debug("addOperation 收到帧 (frame+1): "+t+", confirmedFrame: "+ve.confirmedFrame+", rollBackConfirmedFrame: "+ve.rollBackConfirmedFrame+", tempFrame: "+s+", dFrame: "+(t-ve.confirmedFrame)),t<=ve.confirmedFrame&&(s=t),s!=0&&s<ve.rollBackConfirmedFrame&&(ve.rollBackConfirmedFrame=s)}addEatOperation(e,t){if(ve.frameNetQueue.isStart){var s=t+1;K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST  addEatOperation foodId: "+e+", (frame): ",t," (frame+1): "+s),this.eatFoodDic.set(e,s)}}removeEatOperation(e){this.eatFoodDic.remove(e)}onRevOprPush(e,t,s){if(e!=null){var n=ne.getInstance().getRoleById(e.roleId);if(n){if(t&&n.logicSnake.updateHead106(e.frame,e.head,e.speed,s,e.oprIndex),e.opr==1){var o=e.value;n.rotate(o,t)}else if(e.opr==2){var l=e.value;n.updateSpeedRate(l,t)}}else console.log(e.roleId+" snake is null")}}onUpdatePlayerObject(e,t){if(e!=null){var s=ne.getInstance().getRoleById(e.roleId);if(s){if(e.state!=!1)var n=e.eatenIds}else console.log(e.roleId+" snake is null")}}sendRestoreData(){if(Ce.msgEndbody==null&&ne.getInstance().selfSnake&&ne.getInstance().selfSnake.isAlive(!1)){var e=P.playerDto.pid,t=y.snake.socket.MessageType.MSG_REQUEST_ROOM_DATA,s=y.snake.socket.CS_REQUEST_ROOM_DATA.fromObject({roleId:e});ze.sendData(t,s)}}requestRoomData(e){var t=e.food,s=e.players;ve.init();var n=1e12,o=0,l=null;s.sort((A,D)=>A.enterTime-D.enterTime),s.forEach(A=>{if(K.Debug==2){var D="REINIT 坐标: ======== "+A.roleId+" frame: "+A.frame+", pos: "+A.snake[0].loc.x+", "+A.snake[0].loc.y;console.table(D)}if(A.roleId==P.playerDto.pid&&(l=A,o=l.oprTime),A.state){var j=A.frame;j<n&&(n=j)}}),ve.setStartFrame(n,o);var u=[];s.forEach(A=>{if(A.state){var D=A.frame;if(D==n)u.push(A);else if(D>n){var j=new Hs;j.msgtype=y.snake.socket.MessageType.MSG_NOTICE_ENTER,j.msgBody=A,this.addOperation(j)}}});var p=new bm;if(p.members=u,p.myPlayerObject=l,p.item=t,l&&l.state)this.onRevRestorePush(p);else if(l.result){var m=l.result,d=m.msghead.msgtype,f=m.msghead.msgcode,g,_=Laya.ClassUtils.getClass(d+"");if(_){var S=Date.now();if(g=_.deserializeBinary(m.msgbody).toObject(),K.Debug>=1){var x=Date.now();console.log(se.GetLogTime+" WS ------<<<<<<<< RECV INSERT_CMD:"+d+", CODE:",f+", DATA:",g," dt:",x-S)}}else K.Debug>=1&&console.warn(se.GetLogTime+" WS ------<<<<<<<< RECV INSERT_CMD:"+d+", CODE:",f+", className解析失败!");var I=g;Ce.onSetMatchEnd(I,!0)}else{var I=new y.snake.socket.SC_BATTLE_END;I.res=!1,I.roleId=l.roleId,I.score=l.score,I.kills=l.kills;var M=$.m_dicSnakes.get(l.snakeId);I.length=l.length/M.intervalBoneToDrawSkin,I.alive=Ce.matchCoolDownTime,I.items=[],Ce.onSetMatchEnd(I,!0)}}onRevRestorePush(e){e.matchType=Te.MATCH_TYPE_PVP,Ce.matchDto=e,v.event(E.EVENT_PVP_RESTORE_DATA)}}});var cS,ve,Sr=b(()=>{"use strict";oi();Er();Ni();St();oS();p2();un();Qr();fi();Pi();kr();zs();cS=class i{constructor(){this._frameInterval=33;this.startFrameTime=0;this.startFrame=0;this._currentFrame=0;this.clientPredictFrame=0;this.clientRuningFrame=0;this.lastClearupFrame=0;this.confirmedFrame=0;this.rollBackConfirmedFrame=0;this.quickConfirmedFrame=0;this._snakeStates={};this.type=0;this.lastLatestFrame=0;this.frameNetQueue=new Yy}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.stop(),this.frameNetQueue._operationQueue={},this.frameNetQueue._localOperationQueue={},this.frameNetQueue.eatFoodDic=new Pe,this._snakeStates={},this._currentFrame=0,this.startFrame=0,this.startFrameTime=Laya.Browser.now()}setStartFrame(e,t){this.lastLatestFrame=0,this.clientPredictFrame=e,this.clientRuningFrame=e,this.lastClearupFrame=e,this.confirmedFrame=e,this.rollBackConfirmedFrame=this.confirmedFrame+1,this._currentFrame=e,this.startFrame=e,this.frameNetQueue.isStart=!0,this.startFrameTime=t+ze.serverTimeOffset,console.log(se.GetLogTime,"TEST_TIME: setStartFrame: this.startFrameTime: "+this.startFrameTime,"server enterTime: "+t,"serverTimeOffset: "+ze.serverTimeOffset)}start(){this.saveSnapshot(this.startFrame),Laya.timer.loop(33,this,this.update),this.initTimer()}initTimer(){Laya.timer.frameLoop(2,this,this.onFrameLoop)}clearTimer(){Laya.timer.clear(this,this.onFrameLoop)}onFrameLoop(){ne.getInstance().rorateReadySend()}stop(){Laya.timer.clear(this,this.update),this.clearTimer()}end(){this.stop(),this.frameNetQueue.isStart=!1}update(){if(this.frameNetQueue.isStart==!1)return;K.Debug==2&&Date.now()%5e3<33&&ze.logLatencyStats();let e=Laya.Browser.now(),t=Math.floor((e-this.startFrameTime)/this._frameInterval);var s=this.startFrame+t;let n=this.frameNetQueue.latestEventFrame;K.Debug==2&&console.log(se.GetLogTime," ======================update: ","latestFrame: "+s,"confirmedFrame: "+this.confirmedFrame,"rollBackConfirmedFrame: "+this.rollBackConfirmedFrame,"latestEventFrame: "+n,"startFrame: "+this.startFrame,"addFrame: "+t,"_currentFrame: "+this._currentFrame,"clientConfirmedFrame: "+this.clientRuningFrame,"type: "+this.type,this.confirmedFrame<n),this._currentFrame++;let o=3;var l=Math.min(s,n);if(this.rollBackConfirmedFrame<=l){var u=this.rollBackConfirmedFrame<=l;this.rollbackAndRedo(this.rollBackConfirmedFrame,l);var p=l+1,m=s-1;this.predictFrameToNow(p,m,Te.PREDICT_TYPE_ROLLBACK),p<=m?(this.render(),this.executeFrame(s,!1),this.type=12):u?p-m>1?(this.clientRuningFrame==m?(this.render(),this.executeFrame(m,!1),this.type=13):this.clientRuningFrame<m&&(this.render(),this.executeFrame(m,!0),this.type=14),this.render(),this.executeFrame(m,!1),this.type=15):this.clientRuningFrame==m?(this.render(),this.executeFrame(m,!1),this.type=16):(this.render(),this.executeFrame(p,!0),this.type=17):(this.render(),this.executeFrame(p,!0),this.type=18)}else{var p=this.clientRuningFrame+1,m=s-1;this.predictFrameToNow(p,m,Te.PREDICT_TYPE_NO_ROLLBACK),n==-1?(this.render(),this.executeFrame(s,!1),this.type=22):p<=m?p==m?this.type==27||this.type==23||this.type==17?(this.executeFrame(p,!0),this.type=23):(this.render(),this.executeFrame(p,!1),this.type=24):(this.render(),this.executeFrame(m,!1),this.type=25):p-m>1?(this.executeFrame(p,!0),this.type=26):(this.executeFrame(p,!0),this.type=27)}}executeFrame(e,t){ne.getInstance().selfSnake&&(ne.getInstance().selfSnake.getIsStop(!1)||ne.getInstance().selfSnake.tag==null)||(t&&(this.clientRuningFrame=e),Tr.update(e,!1,!1,t))}saveSnapshot(e){this._snakeStates[e]==null?this._snakeStates[e]=ne.getInstance().getSnakesState():this._snakeStates[e]=ne.getInstance().getSnakesState()}cleanupOldData(e){if(this.lastClearupFrame!=-1){K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST executeConfirmFrame: 清理旧数据 从 [","lastClearupFrame: "+this.lastClearupFrame,"newSnapshotFrame: "+e+" )");var t=this.frameNetQueue.eatFoodDic.getMap();for(let[n,o]of t)o<e&&(Lt.restoreViewFood(n),this.frameNetQueue.eatFoodDic.remove(n));for(var s=this.lastClearupFrame;s<e;s++)delete this.frameNetQueue._localOperationQueue[s];for(var s=this.lastClearupFrame;s<e;s++)delete this.frameNetQueue._operationQueue[s];for(var s=this.lastClearupFrame;s<e;s++)delete this._snakeStates[s]}this.lastClearupFrame=e}get currentFrame(){return this._currentFrame}getClientRuningFrame(e){return this.clientRuningFrame}getPredictFrame(){let e=Laya.Browser.now(),t=Math.floor((e-this.startFrameTime+ze.delaT)/this._frameInterval);return this.startFrame+t}getPredictFrameHalf(){let e=Date.now(),t=ze.delaT,s=e-this.startFrameTime+t,n=Math.floor(s/this._frameInterval);return this.startFrame+n}getClientCurrentFrame(){return this.clientRuningFrame+1}checkClientAndServerFrame(e,t,s){var n=s.x,o=s.y,l=10,u=Q.mapSize;if(!(n<u.offsetX-l||n>u.width-u.offsetX+l||o<u.offsetY-l||o>u.height-u.offsetY+l)){var p=this.frameNetQueue._operationQueue[e];p&&p.length&&p.forEach(m=>{if(m.msgBody.roleId==t){var d=m.msgBody.frame,f=[lt.create(n,o)],g=m.msgBody.head;!g&&m.msgBody.snake&&(g=m.msgBody.snake[0]);var _=vt.distancePoint(g.loc.x,g.loc.y,f[0].x,f[0].y);if(_>.01){var S=`坐标检测：====== 坐标异常（ ${t}） ${se.GetLogTime} + " "${t}, checkClientAndServerFrame 前后端位移相差："${_},
                                "C:"${f[0].x}, ${f[0].y}, ${e-1}, "S:", ${g.loc.x}, ${g.loc.y}, ${d}`;K.Debug==2&&console.debug(S),se.alertYes(S)}else K.Debug==2&&console.debug("坐标检测：====== （"+t+"） "+se.GetLogTime+" "+t," checkClientAndServerFrame 前后端位移相差：",_,"C:",f[0].x,f[0].y,e-1,"S:",g.loc,d);return}})}}rollbackAndRedo(e,t){if(K.Debug==2&&console.log("rollbackAndRedo: startFrame: "+e+", endFrame: "+t),!(e>t)&&!(ne.getInstance().selfSnake&&ne.getInstance().selfSnake.tag==null)){this._snakeStates[e-1]?ne.getInstance().restoreState(this._snakeStates[e-1]):console.error("不是上次确认帧",e,this._snakeStates);for(var s=e;s<=t;++s){let n=this.frameNetQueue._operationQueue[s]||[];for(let o of n)this.frameNetQueue.handleOperationDetail(o,!0,!0);this.clientRuningFrame=s,Tr.update(s,!0,!0),s>=t-2&&this.saveSnapshot(s)}this.cleanupOldData(t-2),this.confirmedFrame=t,this.rollBackConfirmedFrame=this.confirmedFrame+1}}predictFrameToNow(e,t,s){if(K.Debug==2&&console.log("predictFrameToNow startFrame: "+e+", endFrame: "+t+", predictType: "+s),!(e>t)&&!(ne.getInstance().selfSnake&&(ne.getInstance().selfSnake.getIsStop(!0)||ne.getInstance().selfSnake.tag==null))){for(var n=e;n<=t;++n){let o=this.frameNetQueue._localOperationQueue[n]||[];for(let l of o)this.frameNetQueue.handleOperationDetail(l,!0,!1);this.clientRuningFrame=n,Tr.update(n,!0,!1)}this.clientPredictFrame=t}}render(){ne.getInstance().adjustVisualState()}},ve=cS.getInstance()});var js,mm=b(()=>{"use strict";fi();aa();Qr();kr();gi();zs();St();Ze();et();Sr();oi();js=class{constructor(e,t){this.minScale=1;this.maxScale=1.2;this.minDuration=800;this.maxDuration=1200;this._collisionRadius=Q.collision.food.radius;this.position=lt.create(t.loc.x,t.loc.y),this.oriPos=lt.create(t.loc.x,t.loc.y),this.foodObject=t,this.init(e)}init(e){this.sprite=te.matchSnakeBeanPrefab.create();var t=$.m_dicFoods.get(this.foodObject.itemId);if(this.sprite.init(t),this._collisionRadius=t.collisionRadius,this.sprite.pos(this.position.x,this.position.y),this.sprite.zOrder=0,e.addChild(this.sprite),K.needDraw){let s=new Laya.Label;s.text=`${this.foodObject.unkey}:(${Math.round(this.position.x)}, ${Math.round(this.position.y)})`,s.color="#FFFFFF",s.fontSize=18,s.font="Arial",s.align="center",s.anchorX=.5,s.anchorY=1,s.stroke=2,s.strokeColor="#000000",s.y=-this.sprite.height/2-2,this.sprite.addChild(s)}}reset(e,t){this.position=lt.create(t.loc.x,t.loc.y),this.oriPos=lt.create(t.loc.x,t.loc.y),this.foodObject=t,this.setHaveEaten(!1,!0),this.setHaveEaten(!1,!1);var s=$.m_dicFoods.get(this.foodObject.itemId);this.sprite.init(s),this._collisionRadius=s.collisionRadius,this.sprite.alpha=1,this.sprite.pos(this.position.x,this.position.y),e.addChild(this.sprite)}resetForPool(){this.setHaveEaten(!1,!0),this.setHaveEaten(!1,!1),Laya.Tween.clearAll(this.sprite),this.sprite.removeSelf()}startScalingAnimation(){let e=this.minScale+Math.random()*(this.maxScale-this.minScale),t=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this.sprite,{scaleX:e,scaleY:e},t,null,Laya.Handler.create(this,()=>{let s=this.minScale+Math.random()*(1-this.minScale),n=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this.sprite,{scaleX:s,scaleY:s},n,null,Laya.Handler.create(this,this.startScalingAnimation))}),-1,!0)}getPosition(){return this.position}getScore(){var e=$.m_dicFoods.get(this.foodObject.itemId);return e.points}getHaveEaten(e){return e?this.haveEatenConfirm:this.haveEatenClient}beEattenByPlayerSnake(e,t,s){this.setHaveEaten(!0,s),this.beEatten(e.getHead(t).node.x,e.getHead(t).node.y,s)}setHaveEaten(e,t){t?this.haveEatenConfirm=e:this.haveEatenClient=e}beEatten(e,t,s){var n=this.foodObject.unkey;if(s)K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST beEatten removeEatOperation hasConfirmed: ",s," foodId: "+n),ve.frameNetQueue.removeEatOperation(n),Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!0]));else if(Ce.matchDto.matchType==Te.MATCH_TYPE_PVE)Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!0]));else if(K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST beEatten hasConfirmed: ",s," foodId: "+n," haveEatenConfirm: "+this.getHaveEaten(!0)),!this.getHaveEaten(!0)){var o=ve.getPredictFrame();ve.frameNetQueue.addEatOperation(n,o),Laya.Tween.clearAll(this.sprite),Laya.Tween.to(this.sprite,{x:e,y:t,alpha:.5},200,null,Laya.Handler.create(this,this.onFinish,[!1]))}this.setHaveEaten(!0,s)}onFinish(e){e?(K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST onFinish hasConfirmed: ",e+"haveEatenConfirm: ",this.haveEatenConfirm," foodId: "+this.foodObject.unkey),this.resetForPool(),Lt.removeFood(this)):this.sprite.alpha=.5}restoreView(){K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST restoreView haveEatenConfirm: ",this.haveEatenConfirm," foodId: "+this.foodObject.unkey),this.haveEatenConfirm||(this.haveEatenClient=!1,this.position=lt.create(this.oriPos.x,this.oriPos.y),this.sprite.alpha=1,this.sprite.pos(this.position.x,this.position.y))}destroy(){Laya.Tween.clearAll(this.sprite),this.sprite.removeSelf(),this.sprite.destroy(),this.sprite=null,this.oriPos=this.position=null}getBoundingBox(){return new Laya.Rectangle(this.position.x-this._collisionRadius,this.position.y-this._collisionRadius,this._collisionRadius*2,this._collisionRadius*2)}checkCollision(e,t,s){let n=this.position;return Dt.distance(n.x,n.y,e,t)<s+this._collisionRadius}}});var Qy,m2=b(()=>{"use strict";mm();Qy=class{constructor(e){this.container=e;this.pool=[]}getFood(e){let t;return this.pool.length>0?(t=this.pool.pop(),t.reset(this.container,e)):t=new js(this.container,e),t}returnFood(e){e.resetForPool(),this.pool.push(e)}clear(){this.pool.forEach(e=>e.destroy()),this.pool=[]}}});var uo,uS,Lt,kr=b(()=>{"use strict";rr();fi();St();Ze();gi();nt();Pi();aa();oi();ql();m2();uo=class uo{constructor(){this.foods=[];this.foodDic=new Pe;this.spawnTimer=0;this.foodUnKey=0}static getInstance(){return uo._instance||(uo._instance=new uo),uo._instance}init(){this.container||(this.container=new Laya.Sprite),this._collision=Wr.getInstance(),this.foodPool=new Qy(this.container)}spawnFoods(){var e=[],t=Q.food.initCount;for(let n=1;n<=t;n++){var s=this.spawnRandomFoodObject();e.push(s)}return e}spawnRandomFoodObject(){var e=Q.mapSize.offsetDistance,t=Dt.randomRange(e,Q.mapSize.width-e),s=Dt.randomRange(e,Q.mapSize.height-e),n=this.getFoodObjectByPos(t,s);return n}spawnFood(){if(!(this.foods.length>=Q.food.maxCount)){var e=this.spawnRandomFoodObject();this.addFood(e)}}update(e){this.spawnTimer+=e,this.spawnTimer>=Q.food.spawnInterval&&(this.spawnTimer=0,this.spawnFood())}addFoodByPosWithDie(e,t){if(!(this.foods.length>=Q.food.maxCount)){var s=this.getFoodObjectByPos(e,t);this.addFood(s)}}getFoodObjectByPos(e,t){this.foodUnKey+=1;var s=$.m_dicFoods.keys.length,n=Math.floor(Math.random()*s),o=$.m_dicFoods.keys[n],l=new y.snake.socket.FoodObject;l.itemId=o,l.unkey=this.foodUnKey+"";var u=new y.snake.socket.PointObject;return u.x=e,u.y=t,l.loc=u,l}addFoods(e){e&&e.forEach(t=>this.addFood(t))}addFood(e){if(!e)return;let t=this.foodPool.getFood(e);this._collision.addSnake([t]),this.foods.push(t),this.foodDic.set(e.unkey,t)}getFood(e){return this.foodDic.get(e)}eateFoodIds(e,t,s,n){K.Debug==2&&e.setClientScore(s,n);var o=s-e.getScore(n);if(o&&e.showAddScore(o,n),e.isSelf&&t&&t.length){var l=Math.floor(Math.random()*3)+1;let u=`soundName_eat_food_${l}`;qe[u]?qe.playSoundByName(qe[u]):console.warn(`音效 ${u} 不存在`)}}removeFood(e){this._collision.removeSnake([e]);let t=this.foods.indexOf(e);t!==-1&&this.foods.splice(t,1),K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST remove foodId: "+e.foodObject.unkey),this.foodDic.remove(e.foodObject.unkey),this.foodPool.returnFood(e)}removeAllFoods(){this._collision.removeSnake(this.foods),this.foods.forEach(e=>e.destroy()),this.foods=[],this.foodDic=new Pe,this.foodPool.clear()}getAllFoods(){return this.foods}clear(){this.container.removeSelf(),this.container=null,this.removeAllFoods(),this.foodPool.clear(),this.foodPool=null,uo._instance=null}restoreViewFood(e){var t=this.getFood(e);t?t.restoreView():K.Debug==2&&console.log(se.GetLogTime+" FOOD_TEST restoreViewFood foodId: "+e+" food is null ")}restoreFoods(){this.removeAllFoods(),this.createFoodsByData()}createFoodsByData(){let e=Ce.matchDto.item.length;for(var t=0;t<e;t++){var s=Ce.matchDto.item[t];this.addFood(s)}}};uo._instance=null;uS=uo,Lt=uS.getInstance()});var Xy,h2=b(()=>{"use strict";ds();WI();KI();kr();Sr();Ni();We();lm();St();ot();gi();oi();Pt();nt();Er();Xy=class{constructor(){this._smoothDelay=0;this._alpha=.2;this.requestTime=0;this.lastheartBeatTime=0;this._heartBeatMissed=0;this._heartBeatMissedMax=5;this._heartBeatInterval=3*1e3;this.init()}updateNetworkLatency(e){let s=Date.now()-e,n=s/2;this._smoothDelay===0?this._smoothDelay=n:this._smoothDelay=this._alpha*n+(1-this._alpha)*this._smoothDelay,ze.delaT=this._smoothDelay,ze._lastRTT=s,K.Debug&&console.log(`[Latency] RTT: ${s}ms, 平滑延迟: ${this._smoothDelay.toFixed(1)}ms`),s>1e3}init(){v.on(rt.EVENT_ROOM_SOCKET_OPEN,this,this.onSocketOpen),v.on(rt.EVENT_ROOM_SOCKET_ERROR,this,this.onScoketError),v.on(rt.EVENT_ROOM_SOCKET_CLOSE,this,this.onSocketClose),v.on(rt.EVENT_ROOM_STOP_HEART,this,this.stopHeartbearTimer),v.on(rt.EVENT_ROOM_SHOW_TIP_DELAY,this,this.onShowTipDelay),v.on(rt.EVENT_ROOM_HEART_BEAT,this,this.onHeartBeat),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_SERVER_TIME,this,this.onRecvServerTime),v.on("msg_"+y.snake.socket.MessageType.MSG_ENTER_ROOM,this,this.onGetEnterRoomDataBack),v.on("msg_"+y.snake.socket.MessageType.MSG_PUSH,this,this.onMsgPush),v.on("msg_"+y.snake.socket.MessageType.MSG_NOTICE_ENTER,this,this.onNoticeEnter),v.on("msg_"+y.snake.socket.MessageType.MSG_PLAYER_OUT,this,this.onPlayerOut),v.on("msg_"+y.snake.socket.MessageType.MSG_EAT_FOOD,this,this.onEatFood),v.on("msg_"+y.snake.socket.MessageType.MSG_PLAYER_COLLISION,this,this.onPlayerCollision),v.on("msg_"+y.snake.socket.MessageType.MSG_GEN_FOOD,this,this.onGenFood),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_ROOM_DATA,this,this.onRequestRoomData),v.on("msg_"+y.snake.socket.MessageType.MSG_BATTLE_END,this,this.onBattleEnd),v.on("msg_"+y.snake.socket.MessageType.MSG_PLAYER_OPR,this,this.onPlayerOpr),v.on("msg_"+y.snake.socket.MessageType.MSG_AI_ENTER,this,this.onAiEnter)}onGetEnterRoomDataBack(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_ENTER_ROOM),n=s;ve.frameNetQueue.enterRoom(n),this.clearShowTip(),this.heartbeatTimer()}onMsgPush(e,t){if(ve.frameNetQueue.isStart){var s=_e.getMsgBody(e,y.snake.socket.SC_PUSH),n=s;ve.frameNetQueue.pushMsg(n)}}onNoticeEnter(e,t){if(!ve.frameNetQueue.isStart)return;var s=_e.getMsgBody(e,y.snake.socket.SS_NOTICE_ENTER);let n=s;var o=e.msghead.msgtype;ve.frameNetQueue.noticeEnter(o,n)}onPlayerOut(e,t){if(!ve.frameNetQueue.isStart)return;var s=_e.getMsgBody(e,y.snake.socket.SC_PLAYER_OUT),o=s.roleId;ne.getInstance().removeSnake(o)}onEatFood(e,t){if(!ve.frameNetQueue.isStart)return;var s=_e.getMsgBody(e,y.snake.socket.SC_EAT_FOOD);let n=s}onPlayerCollision(e,t){if(!ve.frameNetQueue.isStart)return;var s=_e.getMsgBody(e,y.snake.socket.SC_PLAYER_COLLISION);let n=s;console.warn(se.GetLogTime+"Snake DIE CMD:113 收到了 玩家 "+n.roleId+" 碰撞 数据返回",n),ve.frameNetQueue.confirmPlayerCollision(n,!0)}onGenFood(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_GEN_FOOD),n=s,o=n.frame;Lt.addFoods(n.food)}onRequestRoomData(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_REQUEST_ROOM_DATA),n=s;console.log("收到了恢复数据返回"),ve.frameNetQueue.requestRoomData(n)}onBattleEnd(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_BATTLE_END),n=s,o=n.res;Ce.onSetMatchEnd(n)}onAiEnter(e,t){console.log("收到了进入AI房间返回")}onPlayerOpr(e,t){var s=_e.getMsgBody(e,y.snake.socket.CS_PLAYER_OPR);if(ve.frameNetQueue.isStart){var n=s,o=n.frame,l=[],u=o,p=new Hs,m=e.msghead.msgtype;if(p.msgtype=m,p.msgBody=n,l.push(p),K.Debug==2){var d="S 坐标: ======== "+n.roleId+" frame: "+n.frame+", pos: "+n.head.loc.x+", "+n.head.loc.y;console.table(d)}var f=new oa;f.frame=o,f.minEventFrame=u,f.serverCmdDataDtos=l,ve.frameNetQueue.addFrameOperations(f)}}onRequestTime(){this.clientSendTime=Date.now();var e=y.snake.socket.MessageType.MSG_REQUEST_SERVER_TIME,t=null;ze.sendData(e,t)}onGetEnterRoomData(){var e=P.playerDto.pid,t=y.snake.socket.MessageType.MSG_ENTER_ROOM,s=y.snake.socket.CS_ENTER_ROOM.fromObject({roleId:e});ze.sendData(t,s)}onRecvServerTime(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_REQUEST_SERVER_TIME),n=s,o=n.time;this.requestTime++;let l=Date.now();var u=(l+this.clientSendTime)/2,p=u-o;ze.serverTimeOffsets.push(p);var m=(l-this.clientSendTime)/2;if(ze.delaTs.push(m),console.log("TEST_TIME: this.requestTime: "+this.requestTime,"clientRecvTime: "+l,"clientSendTime: "+this.clientSendTime,"clientTimestamp: "+u,"serverTimestamp: "+o,"serverTimeOffset: "+p,"delaT: "+m),this.requestTime>4){ze.serverTimeOffsets.sort((x,I)=>Math.abs(x)-Math.abs(I)),ze.serverTimeOffsets.pop();for(var d=0,f=ze.serverTimeOffsets.length,g=0;g<f;g++)d+=ze.serverTimeOffsets[g];p=Math.round(d/f),ze.serverTimeOffset=p,ze.delaTs.sort((x,I)=>x-I),ze.delaTs.pop();for(var _=0,S=ze.delaTs.length,g=0;g<S;g++)_+=ze.delaTs[g];m=Math.round(_/S),ze.delaT=m,console.log("TEST_TIME: serverTimeOffset: "+ze.serverTimeOffset+", delaT: "+ze.delaT),this.requestTime=0,ze.serverTimeOffsets=[],ze.delaTs=[],this.onGetEnterRoomData()}else this.onRequestTime()}onSocketOpen(){this.onRequestTime()}onScoketError(){this.popToMain()}onSocketClose(){this.popToMain()}popToMain(){gt.hideLoading(),ze.isMatching&&se.popToMain()}onShowTipDelay(){Laya.timer.once(18e3,this,this.showTip)}clearShowTip(){Laya.timer.clear(this,this.showTip)}showTip(){se.netError()}stopHeartbearTimer(){Laya.timer.clear(this,this.sendHeartBeat),this._heartBeatMissed=0}heartbeatTimer(){this.stopHeartbearTimer(),Laya.timer.loop(this._heartBeatInterval,this,this.sendHeartBeat)}sendHeartBeat(){ve.frameNetQueue.isStart&&(this.lastheartBeatTime=Date.now(),ze.sendData(y.snake.socket.MessageType.MSG_HEART_BEAT,null),this._heartBeatMissed+=1,this._heartBeatMissed>=this._heartBeatMissedMax&&(console.log("发送大厅心跳超过最大次数,关闭Socket",this._heartBeatMissed),this.stopHeartbearTimer(),ze.close(),se.popMatchErrorToMain()))}onHeartBeat(){this._heartBeatMissed=-1,this.lastheartBeatTime>0&&this.updateNetworkLatency(this.lastheartBeatTime)}}});var pS,ze,Er=b(()=>{"use strict";oi();nt();Pt();gi();h2();We();lm();ot();Ze();St();pS=class i{constructor(){this.m_strHttpHost=getWSServer();this.serverTimeOffset=0;this.serverTimeOffsets=[];this.delaT=0;this.delaTs=[];this._lastRTT=0;this._headerLength=4;this._packetLength=-1;this._isMatching=!1;new Xy,this._byte=new Laya.Byte,this._byte.endian="bigEndian",this._socket=new Laya.Socket,this._socket.on(Laya.Event.OPEN,this,this.onSocketOpen),this._socket.on(Laya.Event.CLOSE,this,this.onSocketClose),this._socket.on(Laya.Event.MESSAGE,this,this.onMessageReveived),this._socket.on(Laya.Event.ERROR,this,this.onConnectError)}static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}get isMatching(){return this._isMatching}set isMatching(e){this._isMatching=e,e||(this.connected=!1)}close(){this._socket&&this._socket.close()}initSocket(){this.isMatching=!0,console.log("GlobalDataManager.nodeId===============>",P.nodeId);let e=null,t=P.nodeId;if(t&&$.m_dicNodes&&$.m_dicNodes.values){for(let o=0;o<$.m_dicNodes.values.length;o++)if($.m_dicNodes.values[o].id===t){e=$.m_dicNodes.values[o];break}}let s=null;if(e&&e.socketUrl&&(s=e.socketUrl),K.vType==0)n=Ce.roomDto.connectAddr;else var n=s||Ce.roomDto.connectAddr;this.m_strHttpHost=n,this.connect()}onSocketOpen(){this.connected=!0,this.emit(rt.EVENT_ROOM_SOCKET_OPEN)}onConnectError(e){this.connected=!1,this.emit(rt.EVENT_ROOM_SOCKET_ERROR)}onSocketClose(e){this.connected=!1,this.emit(rt.EVENT_ROOM_SOCKET_CLOSE)}connect(){this.isMatching&&(this.connected||(this._socket.connectByUrl(this.m_strHttpHost),this.emit(rt.EVENT_ROOM_SHOW_TIP_DELAY)))}sendData(e,t,s=!0){if(!(!this.isMatching&&s)&&this.connected){var n=t?t.serializeBinary():null;console.log(se.GetLogTime,"[RoomWebSocket]  ------>>>>>>>> SEND CMD:"+e,t?t.toObject():null);var o=_e.encodeMessage(e,n,"");this._socket.send(o.buffer)}}async onMessageReveived(e){if(!(e instanceof ArrayBuffer)){console.warn(se.GetLogTime,"[RoomWebSocket]: no ArrayBuffer data",e);return}let t=new Uint8Array(e);for(this._byte.writeArrayBuffer(t.buffer),this._byte.pos=0;this._byte.bytesAvailable>0;){if(this._packetLength===-1)if(this._byte.bytesAvailable>=this._headerLength)this._packetLength=this._byte.getUint32();else break;if(this._byte.bytesAvailable>=this._packetLength){let s=this._byte.readUint8Array(this._headerLength,this._packetLength);this.processPacket(s),this._packetLength=-1}else break}if(this._byte.pos>0){let s=this._byte.bytesAvailable;if(s>0){let n=this._byte.readUint8Array(0,s);this._byte.clear(),this._byte.writeArrayBuffer(n.buffer)}else this._byte.clear()}}processPacket(e){try{var t=y.snake.socket.CMsgBase.deserializeBinary(e),s=t.msghead.msgtype;this.emitter(s,t)}catch{}}emitter(e,t){var s=t.msghead.msgcode;s!=y.snake.socket.MessageCode.SYS_NORMAL&&this.emit(rt.EVENT_GLOBAL_ERROR_CODE,s),e!=y.snake.socket.MessageType.MSG_HEART_BEAT?this.emit("msg_"+e,t,s):this.emit(rt.EVENT_ROOM_HEART_BEAT,t,s)}emit(e,...t){v.event(e,t)}logLatencyStats(){console.log(`[FrameSync] 当前平滑延迟: ${this.delaT.toFixed(1)}ms, 最新RTT: ${this._lastRTT}ms`)}clearAll(){Laya.timer.clearAll(this),this.close(),this.emit(rt.EVENT_ROOM_STOP_HEART)}},ze=pS.getInstance()});var mS,Vs,Jy=b(()=>{"use strict";We();ut();mS=class i{constructor(){this._notices=[];this._isPlaying=!1;this._currentIndex=0;this._textField=null;this._container=null;this._speed=2;this._noticePlayCounts=new Map;this._isInMainScene=!1;this._maxPlayCount=1;this._hasFullyEntered=!1}static getInstance(){return this._instance||(this._instance=new i),this._instance}init(e,t,s=2){this._container=e,this._textField=t,this._speed=s,this._configureTextField(),this._textField.visible=!1,this._container.scrollRect=new Laya.Rectangle(0,0,this._container.width,this._container.height),this._isInMainScene=!0,this.checkAndPlayStoredNotices()}_configureTextField(){this._textField&&(this._textField.overflow=Laya.Text.VISIBLE,this._textField.wordWrap=!1)}addNotice(e){if(!e||e.trim()==="")return;let t=this._notices.length===0;this._noticePlayCounts.has(e)||this._noticePlayCounts.set(e,0),this._notices.indexOf(e)===-1&&this._notices.push(e),t&&this._notices.length>0&&this._isInMainScene&&v.event(E.EVENT_NEW_NOTICE_ADDED),this._isInMainScene&&!this._isPlaying&&this._container&&this.play()}addNotices(e){if(!(!e||e.length===0))for(let t of e)this.addNotice(t)}clearNotices(){this._notices=[],this._isPlaying=!1,this._currentIndex=0,this._noticePlayCounts.clear(),this._textField&&(this._textField.visible=!1),Laya.timer.clearAll(this)}play(){this._notices.length===0||!this._container||(this._isPlaying=!0,this.showCurrentNotice())}showCurrentNotice(){if(this._notices.length===0){this._isPlaying=!1;return}let e=this._notices[this._currentIndex];this._textField.text=e,this._textField.width=this._textField.textWidth,this._textField.visible=!0,this._hasFullyEntered=!1,Laya.timer.frameOnce(1,this,()=>{this._textField.width=this._textField.textWidth,this._textField.x=this._container.width,Laya.timer.frameLoop(1,this,this.scrollText)})}scrollText(){if(this._textField.x-=this._speed,!this._hasFullyEntered&&this._textField.x+this._textField.width<=this._container.width&&(this._hasFullyEntered=!0),this._hasFullyEntered&&this._textField.x+this._textField.width<=0){Laya.timer.clear(this,this.scrollText);let e=this._notices[this._currentIndex];if(this._isInMainScene){let s=this._noticePlayCounts.get(e)||0;s++,this._noticePlayCounts.set(e,s)}let t=this._noticePlayCounts.get(e)||0;this._isInMainScene&&t>=this._maxPlayCount?(this._notices.splice(this._currentIndex,1),this._noticePlayCounts.delete(e),this._currentIndex>=this._notices.length&&(this._currentIndex=0)):this._currentIndex=(this._currentIndex+1)%this._notices.length,this._notices.length>0?this.showCurrentNotice():(this._isPlaying=!1,this._textField.visible=!1,this._isInMainScene&&v.event(E.EVENT_MARQUEE_EMPTY))}}pause(){Laya.timer.clear(this,this.scrollText),this._isPlaying=!1}resume(){!this._isPlaying&&this._notices.length>0&&this.play()}setSpeed(e){this._speed=e}setInMainScene(e){if(this._isInMainScene!==e)if(this._isInMainScene=e,e){if(this._notices.length>0){for(let t of this._notices)this._noticePlayCounts.set(t,0);v.event(E.EVENT_NEW_NOTICE_ADDED)}this.checkAndPlayStoredNotices()}else this.pause()}checkAndPlayStoredNotices(){this._notices.length>0&&this._isInMainScene&&!this._isPlaying&&this._container&&this.play()}getStoredNotices(){return[...this._notices]}getNoticePlayCount(e){return this._noticePlayCounts.get(e)||0}setMaxPlayCount(e){e>0&&(this._maxPlayCount=e)}hasNotices(){return this._notices.length>0}},Vs=mS.getInstance()});var Zy,d2=b(()=>{"use strict";$l();Xe();ds();Vt();Ji();lr();ut();We();lm();St();ot();qt();oi();Pt();Rt();nt();Er();Jy();mn();Sr();Zy=class{constructor(){this.connectTime=0;this.connectTimeMax=5;this.preTime=1e3;this.isOtherLogin=!1;this._heartBeatInterval=5e3;this.isFirst=!0;this.init()}init(){v.on(rt.EVENT_GLOBAL_ERROR_CODE,this,this.onShowGlobalErrorCode),v.on(rt.EVENT_HALL_SOCKET_OPEN,this,this.onSocketOpen),v.on(rt.EVENT_HALL_SOCKET_ERROR,this,this.onScoketError),v.on(rt.EVENT_HALL_SOCKET_CLOSE,this,this.onSocketClose),v.on(rt.EVENT_HALL_STOP_HEART,this,this.stopHeartbearTimer),v.on(rt.EVENT_HALL_SHOW_TIP_DELAY,this,this.onShowTipDelay),v.on("msg_"+y.snake.socket.MessageType.MSG_USER_LOGIN,this,this.onUserLogin),v.on("msg_"+y.snake.socket.MessageType.MSG_REPEAT_LOGIN_NOTICE,this,this.onOtherUserLogin),v.on("msg_"+y.snake.socket.MessageType.MSG_LVUP_NOTICE,this,this.onLvUpNotice),v.on("msg_"+y.snake.socket.MessageType.MSG_UPDATE_ROLE,this,this.onUpdateRole),v.on("msg_"+y.snake.socket.MessageType.MSG_SYS_NOTICE,this,this.onSysNotice),v.on("msg_"+y.snake.socket.MessageType.MSG_PACK_INFO,this,this.onPackInfo)}onSocketOpen(){console.log("socket connect success"),this.startHeartBeat(),Laya.timer.clear(this,this.onReconnect),this.connectTime=0,He.walletAddress&&(console.log(se.GetLogTime,"[HallMessageHandle] Sending login request after connecting to hall server"),this.onLogin())}onScoketError(){this.startReconnect()}onSocketClose(){this.startReconnect()}startReconnect(){if(!this.isOtherLogin)if(console.log("websocket----closed connectTime:"+this.connectTime+", connectTimeMax: "+this.connectTimeMax),this.connectTime<=this.connectTimeMax){var e=this.connectTime*this.preTime;Laya.timer.once(e,this,this.onReconnect)}else gt.hideLoading(),this.showTip()}onReconnect(){this.reconnect(),this.connectTime++}reconnect(){if(console.log(se.GetLogTime,"[HallWebSocket]  reconnect 开始重连服务器"),ge.connected)return;let e=String(this.connectTime)+"/"+String(this.connectTimeMax)+" "+O.getLanguage("正在尝试重连");gt.showLoadingByInfo(e),ge.connectWebSocket(),console.log(se.GetLogTime,"[HallWebSocket]  reconnect -------->",e)}onShowTipDelay(){Laya.timer.once(1e4,this,this.showTip)}clearShowTip(){Laya.timer.clear(this,this.showTip)}showTip(){se.netError()}onLogin(){var e=y.snake.socket.MessageType.MSG_USER_LOGIN;let t=He.getloginRequestInfo;var s=y.snake.socket.CS_USER_LOGIN.fromObject(t);ge.send(e,s)}onUserLogin(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_USER_LOGIN);console.log("登录返回信息",s),t==y.snake.socket.MessageCode.USER_NOT_EXIST?(console.log("have no regist"),it.sendCustumEvent(23),Oe.intance.openModule(w.CreateLoginView)):t==y.snake.socket.MessageCode.SYS_NORMAL&&(gt.hideLoading(),console.log("have regist"),P.updatePlayerInfo(s.roleInfo),this.isFirst&&(v.event(E.EVENT_ENTER_MAIN),this.isFirst=!1)),this.connectTime=0,this.clearShowTip(),this.heartbeatTimer()}onOtherUserLogin(e,t){this.isOtherLogin=!0,ge.clearAll(),ge.close(),ze.isOtherLogin=!0,ze.clearAll(),ze.close(),se.otherLogin(),console.log("WS----------------------------otherLogin")}onShowGlobalErrorCode(e){if(e!=y.snake.socket.MessageCode.SYS_NORMAL){console.log(se.GetLogTime,"[HallMessageHandle]  msgcode--------------->",e);let t=ki.get(e);if(K.vType!=2){if(e!==y.snake.socket.MessageCode.NOT_ENOUGH_TOKEN&&e!==y.snake.socket.MessageCode.CREATE_ROOM_MAX&&e!==y.snake.socket.MessageCode.USER_NOT_EXIST){let s=O.getLanguage(e+1e4);se.commTipWithYes(s)}}else se.commTipWithYes(t)}}stopHeartbearTimer(){Laya.timer.clear(this,this.sendHeartBeat)}heartbeatTimer(){this.stopHeartbearTimer(),Laya.timer.loop(this._heartBeatInterval,this,this.sendHeartBeat)}startHeartBeat(){this.sendHeartBeat(),Laya.timer.loop(3e4,this,this.sendHeartBeat)}sendHeartBeat(){ge.send(y.snake.socket.MessageType.MSG_HEART_BEAT,null,!1)}onLvUpNotice(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_LVUP_NOTICE);let n=s;ve.frameNetQueue.isStart||Oe.intance.openModule(w.PlayerUpgradeSuccessDialog,n),console.log("收到升级通知:",n)}onUpdateRole(e,t){var s=_e.getMsgBody(e,y.snake.socket.SS_UPDATE_ROLE);if(console.log("收到更新角色信息:",s),!s.roleInfo||s.roleInfo.length===0){console.log("收到的角色信息为空");return}P.updatePlayerInfo(s.roleInfo[0])}onSysNotice(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_SYS_NOTICE);t===y.snake.socket.MessageCode.SYS_NORMAL&&s&&s.msg&&(console.log("收到系统公告:",s.msg),s.msg=`${s.msg}`,s.msg&&s.msg.trim()!==""&&Vs.addNotice(s.msg),v.event(E.EVENT_NEW_NOTICE,s.msg))}onPackInfo(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_PACK_INFO);t===y.snake.socket.MessageCode.SYS_NORMAL&&(Ei.initKnapsackData(s.items),Ei.initSnakeData(s.snake))}}});var f2={};yd(f2,{default:()=>ge});var hS,ge,Rt=b(()=>{"use strict";We();oi();d2();nt();Pt();lm();St();lr();hS=class i{constructor(){this._socket=null;this.wsUrl=getWSServer();this.isFirstConnection=!0;this._headerLength=4;this._packetLength=-1;new Zy,this._byte=new Laya.Byte,this._byte.endian="bigEndian",this._socket=new Laya.Socket,this._socket.on(Laya.Event.OPEN,this,this.onSocketOpen),this._socket.on(Laya.Event.CLOSE,this,this.onSocketClose),this._socket.on(Laya.Event.MESSAGE,this,this.onMessageReveived),this._socket.on(Laya.Event.ERROR,this,this.onSocketError),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_HALL_ADDR,this,this.onHallAddrResponse)}static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}connect(){console.log(se.GetLogTime,"[HallWebSocket] Try to connect url = "+this.wsUrl,He.walletAddress),!this.connected&&(this.connectWebSocket(),this.emit(rt.EVENT_HALL_SHOW_TIP_DELAY))}connectWebSocket(){this._socket.connectByUrl(this.wsUrl)}onSocketOpen(){this.connected=!0,console.log(se.GetLogTime,"[HallWebSocket] ----onOpen------------> connected"),this.isFirstConnection&&He.walletAddress?(this.requestHallAddr(),this.isFirstConnection=!1,console.log(se.GetLogTime,"[HallWebSocket] Requesting hall address before login")):this.emit(rt.EVENT_HALL_SOCKET_OPEN)}requestHallAddr(){console.log(se.GetLogTime,"[HallWebSocket] Requesting hall address for wallet: "+He.walletAddress);var e=y.snake.socket.CS_REQUEST_HALL_ADDR.fromObject({address:He.walletAddress});this.send(y.snake.socket.MessageType.MSG_REQUEST_HALL_ADDR,e)}onHallAddrResponse(e,t){if(t==y.snake.socket.MessageCode.SYS_NORMAL){var s=_e.getMsgBody(e,y.snake.socket.SC_REQUEST_HALL_ADDR);if(s&&s.hallAddr){console.log(se.GetLogTime,"[HallWebSocket] Received hall address: "+s.hallAddr);var n=this.connected;this.close(),this.wsUrl=s.hallAddr,console.log(se.GetLogTime,"[HallWebSocket] Switching to new hall address: "+this.wsUrl),this.isFirstConnection=!1,this.connectWebSocket()}}else console.log(se.GetLogTime,"[HallWebSocket] Failed to get hall address, continue with current connection"),this.emit(rt.EVENT_HALL_SOCKET_OPEN)}onSocketError(e){this.connected=!1,console.log(se.GetLogTime,"[HallWebSocket] ----onError------------>",e),this.emit(rt.EVENT_HALL_SOCKET_ERROR)}onSocketClose(){this.connected=!1,console.log(se.GetLogTime,"[HallWebSocket] ----onClose------------>",this._socket),this.emit(rt.EVENT_HALL_SOCKET_CLOSE)}close(){this.connected=!1,console.log(se.GetLogTime,"[HallWebSocket] ----WS:close"),this._socket&&this._socket.close(),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_HALL_ADDR,this,this.onHallAddrResponse)}clearAll(){Laya.timer.clearAll(this),this.close(),this.emit(rt.EVENT_HALL_STOP_HEART)}send(e,t,s=!0){if(this.connected){var n=t?t.serializeBinary():null;e!=y.snake.socket.MessageType.MSG_HEART_BEAT&&console.log(se.GetLogTime,"[HallWebSocket]  ------>>>>>>>> SEND CMD:"+e,t?t.toObject():null);var o=_e.encodeMessage(e,n,"");this._socket.send(o.buffer)}else console.log(se.GetLogTime,"[HallWebSocket]  ------>>>>>>>> SENDE RROR CMD:"+e,t?t.toObject():null)}onMessageReveived(e=null){if(!(e instanceof ArrayBuffer)){console.warn(se.GetLogTime,"[HallWebSocket]: no ArrayBuffer data",e);return}let t=new Uint8Array(e);for(this._byte.writeArrayBuffer(t.buffer),this._byte.pos=0;this._byte.bytesAvailable>0;){if(this._packetLength===-1)if(this._byte.bytesAvailable>=this._headerLength)this._packetLength=this._byte.getUint32();else break;if(this._byte.bytesAvailable>=this._packetLength){let s=this._byte.readUint8Array(this._headerLength,this._packetLength);this.processPacket(s),this._packetLength=-1}else break}if(this._byte.pos>0){let s=this._byte.bytesAvailable;if(s>0){let n=this._byte.readUint8Array(0,s);this._byte.clear(),this._byte.writeArrayBuffer(n.buffer)}else this._byte.clear()}}processPacket(e){try{var t=y.snake.socket.CMsgBase.deserializeBinary(e),s=t.msghead.msgtype;s!=y.snake.socket.MessageType.MSG_HEART_BEAT&&(K.Debug==2||K.Debug==1&&console.log(se.GetLogTime,"[HallWebSocket]: onMessage",s.toString(),t)),this.emitter(s,t)}catch(n){console.log(se.GetLogTime,"[HallWebSocket] onSocketError e:"+n)}}emitter(e,t){var s=t.msghead.msgcode;s!=y.snake.socket.MessageCode.SYS_NORMAL&&this.emit(rt.EVENT_GLOBAL_ERROR_CODE,s),this.emit("msg_"+e,t,s)}emit(e,...t){v.event(e,t)}},ge=hS.getInstance()});var dS,$,Ze=b(()=>{"use strict";Pi();uk();pk();rx();mk();hk();dk();fk();gk();bk();yk();_k();xk();vk();Ik();Sk();ix();et();St();kk();Ek();Lk();ot();dS=class i{constructor(){if(i._instance)throw new Error("SheetDataManager是单例,不可new.");i._instance=this}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){let e=Laya.Browser.now();this.m_dicItems=this.initConfigObject("item",Sd),this.m_dicShops=new Pe,this.m_dicShopMulDic=this.initConfig("shop",["type","icon"],kd,!0,Laya.Handler.create(this,this.onSetShopItem,null,!1)),this.m_dicSnakes=this.initConfigObject("snake",Dd),this.m_dicFoods=this.initConfigObject("foods",Bd),this.m_dicClub=this.initConfig("club",["id"],Pd),this.m_dicArenaDic=new Pe,this.m_dicArenaNumMulDic=new Pe,this.m_dicArenaMulDic=this.initConfig("arena",["type","lv","coinType"],Ld,!0,Laya.Handler.create(this,this.onSetArena,null,!1)),this.m_dicArenaTypes=this.initConfig("arenaType",["id"],Rd),this.m_dicSnakeLengthRules=this.initConfig("snakeLengthRules",["snakeId","segments"],Od);var t=this.initConfig("node",["id"],Md);this.m_dicNodes=this.initNodes(t),this.intiDefaultNodeId(),this.m_dicHead=this.initConfig("head",["id"],Ed),this.m_dicCountry=this.initConfig("country",["id"],wd),this.m_dicCurrencyAddressMulDic=new Pe,this.m_dicCurrencyAddress=this.initConfig("currencyAddress",["sn"],Td,!0,Laya.Handler.create(this,this.onSetCurrencyAddress,null,!1)),this.m_dicLanguage=this.initConfig("language",["id"],xo),this.m_dicCoinAddress=this.initConfig("coinAddress",["id"],Ad),this.m_dicLevel=this.initConfigObject("level",Nd),this.m_dicACoin=this.initConfigObject("aCoin",Cd),this.m_dicGenerate=this.initConfigObject("general",Id),this.m_dicRoom=this.initConfig("room",["id"],Fd),console.log("-----------------------sheetdata-time2:"+(Laya.Browser.now()-e))}getCharacterStars(e){e>4&&(e=4);for(let t of this.m_dicCharacterStars.values)if(t.starLv>e)return t;return null}getArenaTypesInSub(){var e=[];for(let t of this.m_dicArenaTypes.values)t.inSub==1&&e.push(t);return e}getArenaTypesInSubByType(e){for(let t of this.m_dicArenaTypes.values)if(t.arenaType==e)return t;return[]}getArenaTypesInSubByItemId(e,t){for(let s of this.m_dicArenaDic.values)if(s.type==e&&s.item[0]==t)return s}onSetShopItem(e){this.m_dicShops.set(e.id,e)}onSetCurrencyAddress(e){var t=e.token.toLowerCase();this.m_dicCurrencyAddressMulDic.set(this.getCompoundKey([e.isSN,t,e.chainId]),e)}onSetArena(e){this.m_dicArenaDic.set(e.id,e),this.m_dicArenaNumMulDic.set(this.getCompoundKey([e.type,e.lv,e.coinType]),e)}preInit(){}getGeneralValueById(e){return this.m_dicGenerate&&this.m_dicGenerate.get(e)?this.m_dicGenerate.get(e).value:0}initNodes(e){var t=new Pe;for(let n=0;n<e.values.length;n++){var s=e.values[n];s.open==1&&(K.vType==2?s.type==2&&(t.set(s.id,s),s.testUrl()):(s.type==1||s.type==0&&K.vType==0)&&(t.set(s.id,s),s.testUrl()))}return t}getNodeByType(e){for(let t=0;t<this.m_dicNodes.values.length;t++)if(this.m_dicNodes.values[t].id==e)return this.m_dicNodes.values[t]}intiDefaultNodeId(){for(let e=0;e<this.m_dicNodes.values.length;e++)if(this.m_dicNodes.values[e].type==K.vType){if(P.nodeId=this.m_dicNodes.values[e].id,this.m_dicNodes.values[e].wsUrl){let t=this.m_dicNodes.values[e].wsUrl;!t.startsWith("ws://")&&!t.startsWith("wss://")&&(t="ws://"+t),Promise.resolve().then(()=>(Rt(),f2)).then(s=>{let n=s.default;console.log("设置默认节点服务器URL:",t),n.wsUrl=t})}break}}testNodes(){var e=this.m_dicNodes;for(let s=0;s<e.values.length;s++){var t=e.values[s];t.testUrl()}}getNodeByAddr(e){var t=this.m_dicNodes;for(let n=0;n<t.values.length;n++){var s=t.values[n];if(s&&s.socketUrl==e)return s}return null}getCurrencyAddress(e){let s=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<s.length;o++){var n=s[o];if(K.vType==n.isSN&&e==n.id)return n.token}}getNodeRevenueCurrency(e){let s=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<s.length;o++){var n=s[o];if(K.vType==n.isSN&&e==n.id&&n.nodeRevenueAddress)return n}return null}getNodeCurrencyByTokenAndChainId(e,t){e=e.toLowerCase();var s=i._instance.getSheetDataByMultiKey(i._instance.m_dicCurrencyAddressMulDic,[K.vType,e,t]);return s}getRentCurrency(e){let s=i._instance.m_dicCurrencyAddress.values;for(let o=0;o<s.length;o++){var n=s[o];if(K.vType==n.isSN&&e==n.id&&n.rentNftAddress)return n}return null}getCurrencyByChainType(e,t){let n=i._instance.m_dicCurrencyAddress.values;for(let l=0;l<n.length;l++){var o=n[l];if(K.vType==o.isSN&&e==o.id&&t==o.chainType)return o}}getCurrency(e,t){let n=i._instance.m_dicCurrencyAddress.values;for(let l=0;l<n.length;l++){var o=n[l];if(K.vType==o.isSN&&e==o.id&&t==o.chainId)return o}}getTokensByChainId(e,t){let n=i._instance.m_dicCurrencyAddress.values;var o=[];for(let u=0;u<n.length;u++){var l=n[u];t==1?K.vType==l.isSN&&l.openRecharge==1&&e==l.chainId&&o.push(l):t==2&&K.vType==l.isSN&&l.openExtract==1&&e==l.chainId&&o.push(l)}return o}getNetAddress(e){let s=i._instance.m_dicCoinAddress.values;for(let o=0;o<s.length;o++){var n=s[o];if(K.vType==n.type&&e==n.tokenid)return n.tokenAddress}}getACoin(e,t){let n=i._instance.m_dicACoin.values;for(let l=0;l<n.length;l++){var o=n[l];if(e==o.token&&t==o.currency)return o}}static getArrFromDictionary(e,t,s){let n=[];for(let o=0;o<e.values.length;o++)e.values[o][t]+""==s+""&&n.push(e.values[o]);return n}getArrFromDicItemByKey(e,t){let s=[];for(let n=0;n<this.m_dicItems.values.length;n++)this.m_dicItems.values[n][e]+""==t+""&&s.push(this.m_dicItems.values[n]);return s}initConfigObject(e,t=null,s=null){let n="config/"+e+".json";console.log("initConfigObject： url: "+n);let o=te.getResByURL(n).data;return new Ia(o,t)}initConfig(e,t,s=null,n=!1,o=null){let l="config/"+e+".json";console.log("initConfig url: "+l);let u=te.getResByURL(l).data,p=new Pe;if(!u)return console.log("ERROR : SheetDataManager -->initConfig()  url:"+l),p;let m;for(let d=0;d<u.length;d++){let f=this.compoundKey(u[d],t);s?(m=new s,m.init==null&&console.log("ERROR :BaseItem> SheetDataManager -->initConfig()  url:"+l),m.init(u[d]),p.set(f,m),o&&o.runWith(m)):(p.set(f,u[d]),o&&o.runWith(u[d]))}if(n){let d=te.setResURL(l);Laya.Loader.clearRes(d)}return p}compoundKey(e,t){let s="",n=t.length;if(n>1)for(let o=0;o<n;o++)s+=e[t[o]],o!=n-1&&(s+="_");else s=e[t[0]];return s}getCompoundKey(e){let t="",s=e.length;if(s>1)for(let n=0;n<s;n++)t+=e[n],n!=s-1&&(t+="_");else t=e[0];return t}initConfig2(e,t,s,n=!0){let o="config/"+e+".json",l=te.getResByURL(o).data,u=new Pe;if(!l)return console.log("ERROR : SheetDataManager -->initConfig2()  url:"+o),u;let p;for(let m=0;m<l.length;m++){let d=l[m][t],f;u.get(d)==null?(f=[],u.set(d,f)):f=u.get(d),p=new s,p.init==null&&console.log("ERROR :<BaseItem> SheetDataManager -->initConfig2()  url:"+o),p.init(l[m]),f.push(p)}if(n&&e!="items"){let m=te.setResURL(o);Laya.Loader.clearRes(m)}return u}getItemsBy(e,t){let s=this.getArrFromDicItemByKey("itm_type",e),n=[];for(let o of s)o.child_type.toString()==t.toString()&&n.push(o);return n}getSheetDataByMultiKey(e,t){let s=this.getCompoundKey(t);return e.get(s)}getLevelById(e){for(let t of this.m_dicLevel.values)if(t.id==e)return t}getClubById(e){for(let t of this.m_dicClub.values)if(t.id==e)return t}},$=dS.getInstance()});function e_(i,e){var t;e===void 0&&(e="0");var s=0,n=-1;i[0]=="-"&&(i=i.substring(1),bS(i)||(s++,n=1,i.length)),e[0]=="-"&&(e=e.substring(1),bS(e)||(s++,n=2,e.length)),i=qi(i),e=qi(e),t=IS(qi(i),qi(e)),i=t[0],e=t[1],s==1&&(n===1?i=fS(i):n===2&&(e=fS(e)));var o=v2(i,e);return s?s==2?"-"+qi(o):i.length<o.length?qi(o.substring(1)):"-"+qi(fS(o)):qi(o)}function fS(i){if(bS(i))return i;for(var e="",t=i.length,s=i.split(".")[1],n=s?s.length:0,o=0;o<t;o++)i[o]>="0"&&i[o]<="9"?e+=9-parseInt(i[o]):e+=i[o];var l=n>0?"0."+new Array(n).join("0")+"1":"1";return v2(e,l)}function qi(i){var e=i.split(".");for(e[0]||(e[0]="0");e[0][0]=="0"&&e[0].length>1;)e[0]=e[0].substring(1);return e[0]+(e[1]?"."+e[1]:"")}function IS(i,e){var t=i.split("."),s=e.split("."),n=t[0].length,o=s[0].length;return n>o?s[0]=new Array(Math.abs(n-o)+1).join("0")+(s[0]?s[0]:""):t[0]=new Array(Math.abs(n-o)+1).join("0")+(t[0]?t[0]:""),n=t[1]?t[1].length:0,o=s[1]?s[1].length:0,(n||o)&&(n>o?s[1]=(s[1]?s[1]:"")+new Array(Math.abs(n-o)+1).join("0"):t[1]=(t[1]?t[1]:"")+new Array(Math.abs(n-o)+1).join("0")),i=t[0]+(t[1]?"."+t[1]:""),e=s[0]+(s[1]?"."+s[1]:""),[i,e]}function v2(i,e){var t;t=IS(i,e),i=t[0],e=t[1];for(var s="",n=0,o=i.length-1;o>=0;o--){if(i[o]==="."){s="."+s;continue}var l=parseInt(i[o])+parseInt(e[o])+n;s=l%10+s,n=Math.floor(l/10)}return n?n.toString()+s:s}function bS(i){return/^0[0]*[.]{0,1}[0]*$/.test(i)}function g2(i){return(typeof i=="number"||typeof i=="bigint")&&(i=i.toString()),i[0]=="-"?i.substring(1):i}function ym(i,e,t){if(e===void 0&&(e=0),t===void 0&&(t=ii.HALF_EVEN),t===ii.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof i=="number"||typeof i=="bigint")&&(i=i.toString());var s=!1;i[0]==="-"&&(s=!0,i=i.substring(1));var n=i.split("."),o=n[0],l=n[1];if(e<0){if(e=-e,o.length<=e)return"0";var u=o.substr(0,o.length-e);return i=u+"."+o.substr(o.length-e)+l,u=ym(i,0,t),(s?"-":"")+u+new Array(e+1).join("0")}if(e==0)return o.length,b2(n[1],o,s,t)&&(o=gS(o)),(s&&parseInt(o)?"-":"")+o;if(n[1]){if(n[1].length<e)return(s?"-":"")+o+"."+n[1]+new Array(e-n[1].length+1).join("0")}else return(s?"-":"")+o+"."+new Array(e+1).join("0");l=n[1].substring(0,e);var p=n[1].substring(e);return p&&b2(p,l,s,t)&&(l=gS(l),l.length>e)?(s?"-":"")+gS(o,parseInt(l[0]))+"."+l.substring(1):(s&&(parseInt(o)||parseInt(l))?"-":"")+o+"."+l}function b2(i,e,t,s){if(!i||i===new Array(i.length+1).join("0")||s===ii.DOWN||!t&&s===ii.FLOOR||t&&s===ii.CEILING)return!1;if(s===ii.UP||t&&s===ii.FLOOR||!t&&s===ii.CEILING)return!0;var n="5"+new Array(i.length).join("0");if(i>n)return!0;if(i<n)return!1;switch(s){case ii.HALF_DOWN:return!1;case ii.HALF_UP:return!0;case ii.HALF_EVEN:default:return parseInt(e[e.length-1])%2==1}}function gS(i,e){e===void 0&&(e=0),e||(e=1),typeof i=="number"&&i.toString();for(var t=i.length-1,s="",n=t;n>=0;n--){var o=parseInt(i[n])+e;o==10?(e=1,o=0):e=0,s+=o}return e&&(s+=e),s.split("").reverse().join("")}function po(i){var e=i[0]==="-";for(e&&(i=i.substr(1));i[0]=="0";)i=i.substr(1);if(i.indexOf(".")!=-1)for(;i[i.length-1]=="0";)i=i.substr(0,i.length-1);return i==""||i=="."?i="0":i[i.length-1]=="."&&(i=i.substr(0,i.length-1)),i[0]=="."&&(i="0"+i),e&&i!="0"&&(i="-"+i),i}function yS(i,e){i=i.toString(),e=e.toString();var t=0;i[0]=="-"&&(t++,i=i.substr(1)),e[0]=="-"&&(t++,e=e.substr(1)),i=po(i),e=po(e);var s=0,n=0;i.indexOf(".")!=-1&&(s=i.length-i.indexOf(".")-1),e.indexOf(".")!=-1&&(n=e.length-e.indexOf(".")-1);var o=s+n;if(i=po(i.replace(".","")),e=po(e.replace(".","")),i.length<e.length){var l=i;i=e,e=l}if(e=="0")return"0";for(var u=e.length,p=0,m=[],d=u-1,f="",g=0;g<u;g++)m[g]=i.length-1;for(var g=0;g<2*i.length;g++){for(var _=0,S=e.length-1;S>=d&&S>=0;S--)m[S]>-1&&m[S]<i.length&&(_+=parseInt(i[m[S]--])*parseInt(e[S]));_+=p,p=Math.floor(_/10),f=_%10+f,d--}return f=po(lO(f,o)),t==1&&(f="-"+f),f}function lO(i,e){return e==0?i:(i=e>=i.length?new Array(e-i.length+1).join("0")+i:i,i.substr(0,i.length-e)+"."+i.substr(i.length-e,e))}function _S(i,e,t,s){if(t===void 0&&(t=8),s===void 0&&(s=ii.HALF_EVEN),e==0)throw new Error("Cannot divide by 0");if(i=i.toString(),e=e.toString(),i=i.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),e=e.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),i==0)return"0";var n=0;e[0]=="-"&&(e=e.substring(1),n++),i[0]=="-"&&(i=i.substring(1),n++);var o=e.indexOf(".")>0?e.length-e.indexOf(".")-1:-1;if(e=qi(e.replace(".","")),o>=0){var l=i.indexOf(".")>0?i.length-i.indexOf(".")-1:-1;if(l==-1)i=qi(i+new Array(o+1).join("0"));else if(o>l)i=i.replace(".",""),i=qi(i+new Array(o-l+1).join("0"));else if(o<l){i=i.replace(".","");var u=i.length-l+o;i=qi(i.substring(0,u)+"."+i.substring(u))}else o==l&&(i=qi(i.replace(".","")))}var p=0,m=e.length,d="",f=i.indexOf(".")>-1&&i.indexOf(".")<m?i.substring(0,m+1):i.substring(0,m);if(i=i.indexOf(".")>-1&&i.indexOf(".")<m?i.substring(m+1):i.substring(m),f.indexOf(".")>-1){var g=f.length-f.indexOf(".")-1;f=f.replace(".",""),m>f.length&&(g+=m-f.length,f=f+new Array(m-f.length+1).join("0")),p=g,d="0."+new Array(g).join("0")}for(t=t+2;p<=t;){for(var _=0;parseInt(f)>=parseInt(e);)f=e_(f,"-"+e),_++;d+=_,i?(i[0]=="."&&(d+=".",p++,i=i.substring(1)),f=f+i.substring(0,1),i=i.substring(1)):(p||(d+="."),p++,f=f+"0")}return(n==1?"-":"")+qi(ym(d,t-2,s))}function xS(i,e){return i=i.toString(),e=e.toString(),e=vS(e),e_(i,e)}function vS(i){return i[0]=="-"?i=i.substr(1):i="-"+i,i}function y2(i,e){if(e==0)throw new Error("Cannot divide by 0");i=i.toString(),e=e.toString(),_2(i),_2(e);var t="";i[0]=="-"&&(t="-",i=i.substr(1)),e[0]=="-"&&(e=e.substr(1));var s=xS(i,yS(e,ym(_S(i,e),0,ii.FLOOR)));return t+s}function _2(i){if(i.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}function x2(i,e){var t,s,n=!1;if(t=[i,e].map(function(l){return po(l)}),i=t[0],e=t[1],i[0]=="-"&&e[0]!="-")return-1;if(i[0]!="-"&&e[0]=="-")return 1;if(i[0]=="-"&&e[0]=="-"&&(i=i.substr(1),e=e.substr(1),n=!0),s=IS(i,e),i=s[0],e=s[1],i.localeCompare(e)==0)return 0;for(var o=0;o<i.length;o++)if(i[o]!=e[o])return i[o]>e[o]?n?-1:1:n?1:-1;return 0}var ii,Kr,SS=b(()=>{"use strict";(function(i){i[i.CEILING=0]="CEILING",i[i.DOWN=1]="DOWN",i[i.FLOOR=2]="FLOOR",i[i.HALF_DOWN=3]="HALF_DOWN",i[i.HALF_EVEN=4]="HALF_EVEN",i[i.HALF_UP=5]="HALF_UP",i[i.UNNECESSARY=6]="UNNECESSARY",i[i.UP=7]="UP"})(ii||(ii={}));Kr=function(){function i(e){e===void 0&&(e="0"),this.value=i.validate(e)}return i.validate=function(e){if(e){if(e=e.toString(),isNaN(e))throw Error("Parameter is not a number: "+e);e[0]=="+"&&(e=e.substring(1))}else e="0";if(e.startsWith(".")?e="0"+e:e.startsWith("-.")&&(e="-0"+e.substr(1)),/e/i.test(e)){var t=e.split(/[eE]/),s=t[0],n=t[1];s=qi(s);var o="";s[0]=="-"&&(o="-",s=s.substring(1)),s.indexOf(".")>=0?(n=parseInt(n)+s.indexOf("."),s=s.replace(".","")):n=parseInt(n)+s.length,s.length<n?e=o+s+new Array(n-s.length+1).join("0"):s.length>=n&&n>0?e=o+qi(s.substring(0,n))+(s.length>n?"."+s.substring(n):""):e=o+"0."+new Array(-n+1).join("0")+s}return e},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(e){this.value=i.validate(e)},i.getPrettyValue=function(e,t,s){t===void 0&&(t=3),s===void 0&&(s=","),e=i.validate(e);var n=e.charAt(0)=="-";n&&(e=e.substring(1));var o=e.indexOf(".");o=o>0?o:e.length;for(var l="",u=o;u>0;)u<t?(t=u,u=0):u-=t,l=e.substring(u,u+t)+(u<o-t&&u>=0?s:"")+l;return(n?"-":"")+l+e.substring(o)},i.prototype.getPrettyValue=function(e,t){return e===void 0&&(e=3),t===void 0&&(t=","),i.getPrettyValue(this.value,e,t)},i.round=function(e,t,s){if(t===void 0&&(t=0),s===void 0&&(s=ii.HALF_EVEN),e=i.validate(e),isNaN(t))throw Error("Precision is not a number: "+t);return ym(e,t,s)},i.prototype.round=function(e,t){if(e===void 0&&(e=0),t===void 0&&(t=ii.HALF_EVEN),isNaN(e))throw Error("Precision is not a number: "+e);return new i(ym(this.value,e,t))},i.abs=function(e){return e=i.validate(e),g2(e)},i.prototype.abs=function(){return new i(g2(this.value))},i.floor=function(e){return e=i.validate(e),e.indexOf(".")===-1?e:i.round(e,0,ii.FLOOR)},i.prototype.floor=function(){return this.value.indexOf(".")===-1?new i(this.value):new i(this.value).round(0,ii.FLOOR)},i.ceil=function(e){return e=i.validate(e),e.indexOf(".")===-1?e:i.round(e,0,ii.CEILING)},i.prototype.ceil=function(){return this.value.indexOf(".")===-1?new i(this.value):new i(this.value).round(0,ii.CEILING)},i.add=function(e,t){return e=i.validate(e),t=i.validate(t),e_(e,t)},i.prototype.add=function(e){return new i(e_(this.value,e.getValue()))},i.subtract=function(e,t){return e=i.validate(e),t=i.validate(t),xS(e,t)},i.prototype.subtract=function(e){return new i(xS(this.value,e.getValue()))},i.multiply=function(e,t){return e=i.validate(e),t=i.validate(t),yS(e,t)},i.prototype.multiply=function(e){return new i(yS(this.value,e.getValue()))},i.divide=function(e,t,s,n){return e=i.validate(e),t=i.validate(t),_S(e,t,s,n)},i.prototype.divide=function(e,t,s){return new i(_S(this.value,e.getValue(),t,s))},i.modulus=function(e,t){return e=i.validate(e),t=i.validate(t),y2(e,t)},i.prototype.modulus=function(e){return new i(y2(this.value,e.getValue()))},i.compareTo=function(e,t){return e=i.validate(e),t=i.validate(t),x2(e,t)},i.prototype.compareTo=function(e){return x2(this.value,e.getValue())},i.negate=function(e){return e=i.validate(e),vS(e)},i.prototype.negate=function(){return new i(vS(this.value))},i.stripTrailingZero=function(e){return e=i.validate(e),po(e)},i.prototype.stripTrailingZero=function(){return new i(po(this.value))},i.RoundingModes=ii,i}()});var Je,at,gr=b(()=>{"use strict";Rt();Io();SS();ot();lr();Er();St();Ze();Xe();Je=class Je{static get IsSetRelease(){return Je._IsSetRelease}static get IsSetGuid(){return Je._IsSetGuid}static initParms(){if(Laya.Browser.window.location){let s=Laya.Browser.window.location.href,n=this.getURLParameters(s);if(Je.m_obj=n,console.log("1initgame-->urldata:",Je.m_obj),Je.m_obj.server&&Je.m_obj.server!=""&&(ge.wsUrl=Je.m_obj.server),Je.m_obj.socket&&Je.m_obj.socket!=""){var e=Je.m_obj.socket;ze.m_strHttpHost=e}if(Je.m_obj.debug&&K.vType==0&&(K.Debug=parseInt(Je.m_obj.debug)),Je.m_obj.address&&Je.m_obj.address!=""&&K.vType==0&&(console.log("walletAddress: "+Je.m_obj.address),He.walletAddress=Je.m_obj.address),Je.m_obj.from&&Je.m_obj.from=="into"&&(K.isInto=!0),Je.m_obj.isFull&&Je.m_obj.isFull=="1"&&(K.isFull=!0),Je.m_obj.justFull&&Je.m_obj.justFull=="1"&&(K.justFull=!0),Je.m_obj.white&&Je.m_obj.white=="1"&&(K.isWhite=!0),Je.m_obj.needDraw&&Je.m_obj.needDraw=="1"&&(K.needDraw=!0),Je.m_obj.log){var t=parseInt(Je.m_obj.log);t>0&&initEruda(t)}Je.m_obj.res&&Je.m_obj.res!="0"&&(K.Res=parseInt(Je.m_obj.res)),Je.m_obj.bookingId&&Je.m_obj.bookingId!="0"&&(K.bookingId=parseInt(Je.m_obj.bookingId),Je.m_obj.teamId&&Je.m_obj.teamId!="0"&&(K.teamId=parseInt(Je.m_obj.teamId))),Je.m_obj.referral&&Je.m_obj.referral!=""&&(K.referral=Je.m_obj.referral)}}static processLangParameter(){if(Je.m_obj&&Je.m_obj.lang&&Je.m_obj.lang!=""){let e=Je.m_obj.lang,t=O.getLanIdByType(e);t<1&&(t=1),K.ignoreLang=!0,P.m_strLanguage=t}}static getURLParameters(e){let t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,(s,n,o)=>t[n]=decodeURIComponent(o)),t}static cheakStr(e){let t=new RegExp("[A-Za-z0-9_-\\s]","g"),s=e.match(t);return!!(s&&s.length==e.length)}static isNumber(e){return/^(?!0\d)\d*\.?\d*$/.test(e)}static roundToTwoDecimals(e){return e%1===0?e.toString():Number(e.toFixed(2)).toString()}static filterObjectsByNewFightFlag(e){return e.filter(t=>t.newFightFlag!==1)}static addIndexToObjects(e){return e.forEach((t,s)=>{t.index=s}),e}static findFirstTypeAndNotGold(e){for(let t=0;t<e.length;t++)if(e[t].id>=3001&&e[t].id<=3021&&e[t].id!==3005)return e[t]}static getCurrencyIdByName(e){let t=tt.TYPE_TOX;switch(e){case"TOX":t=tt.TYPE_TOX;break;case"ETH":t=tt.TYPE_ETH;break;case"BTC":t=tt.TYPE_BTC;break;case"USDT":t=tt.TYPE_USDT;break;case"BTOX":t=tt.TYPE_BTOX;break;case"GALA":t=tt.TYPE_GALA;break;case"BNRY":t=tt.TYPE_BNRY;break;case"KLAY":t=tt.TYPE_KLAY;break;case"BNB":t=tt.TYPE_BNB;break;case"GGG":t=tt.TYPE_GGG;break}return t}static formatNumber(e,t=7){let s=e.toString(),n=s.indexOf(".");return n!==-1&&s.length-n>t?(s=s.slice(0,n+t),parseFloat(s)):e}static truncateToTwoDecimalPlaces(e){let t=e.toString(),s=t.indexOf(".");if(s===-1)return e;let n=t.substring(0,s+5);return parseFloat(n)}static getKeyByValue(e,t){return Object.keys(e).find(s=>e[s]===t)}static powerOf10(e,t){return e*Math.pow(10,t)}static isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}static getDaysInMonth(e,t){return t===2?this.isLeapYear(e)?29:28:[4,6,9,11].includes(t)?30:31}static shortenString(e,t,s){return e.length<=t+s?e:e.substr(0,t)+"..."+e.substr(-s)}static multiplyBigDecimals(e,t){let n=Math.pow(10,1e4),o=parseFloat(String(e))*parseFloat(String(t));return Math.round(o*n)/n}static arraysEqual(e,t){return e.length===t.length&&e.every((s,n)=>s===t[n])}static categorizeArrays(e,t){let s=[];for(let n of t){let o=n[0],l=n[1],u=e.find(m=>m[0]===o),p=u?u[1]:0;s.push([o,p,l])}return s}static setMap(e,t){if(e.has(t[0])){let s=e.get(t[0]);s+=t[1],e.set(t[0],s)}else e.set(t[0],t[1]);return console.log(e),e}static getfrom(){return Je.m_obj.from}static parseTokenData(e){try{return e.map(t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(s){return console.error("解析token字符串失败:",s),t}return t})}catch(t){return console.error("解析token数据时发生错误:",t),[]}}static multiplyWithPrecision(e,t){let s=new Kr(e),n=new Kr(t);return s.multiply(n).getValue()}static addWithPrecision(e,t){let s=new Kr(e),n=new Kr(t);return s.add(n).getValue()}static subtractWithPrecision(e,t){let s=new Kr(e),n=new Kr(t);return s.subtract(n).getValue()}static divideWithPrecision(e,t,s=10){if(t===0)return console.error("除数不能为零"),"0";let n=new Kr(e),o=new Kr(t);return n.divide(o,s).getValue()}static truncateString(e,t){return e.length>t?e.substring(0,t)+"...":e}static truncateUnicodeString(e,t){if(!e)return"";let s=Array.from(e);return s.length>t?s.slice(0,t).join("")+"...":e}static getLevelByExp(e){let t=$.m_dicLevel,s=1;for(let n=0;n<t.values.length;n++){let o=t.values[n];if(e>=o.totalExp)s=o.id;else break}return s}static fitTextToLabel(e,t,s=!0){if(!e||!t)return e;let n=t.text,o=f=>(t.text=f,t.textField.textWidth),l=t.width;if(o(e)<=l)return t.text=n,e;let u=Array.from(e),p=0,m=u.length,d=0;for(;p<m;){d=Math.floor((p+m)/2);let f=u.slice(0,d).join("");o(s?f+"...":f)<=l?p=d+1:m=d}return d=p-1,d<0&&(d=0),t.text=n,u.slice(0,d).join("")+(d<u.length&&s?"...":"")}};Je._IsSetRelease=!1,Je._IsSetGuid=!1;at=Je});var kS,xt,Cr=b(()=>{"use strict";ut();We();Rt();nt();gr();Pt();kS=class i{static getInstance(){return this._instance||(this._instance=new i),this._instance}constructor(){this.init()}init(){v.on("msg_"+y.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo)}destroy(){v.off("msg_"+y.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo),i._instance=null}requestCoinInfo(){let e=y.snake.socket.MessageType.MSG_QUERY_TOKEN;ge.send(e)}onRequestInfo(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_QUERY_TOKEN);if(t==y.snake.socket.MessageCode.SYS_NORMAL){let n=at.parseTokenData(s.token);this._tokenData=n,v.event(E.UPDATE_TOKEN_BALANCE,[n])}}getTokenData(){return this._tokenData}getTokenDataBySyId(e){if(!this._tokenData||this._tokenData.length===0){console.warn("未查到缓存的资产信息,请先获取");return}return this._tokenData.find(t=>t.symbolId===e)}calculateTotalValue(){try{return this._tokenData.reduce((e,t)=>{let s=t.balance,n=t.price;return isNaN(s)||isNaN(n)?e:e+s*n},0)}catch(e){return console.error("计算资产总额时发生错误:",e),0}}},xt=kS.getInstance()});var ri,t_=b(()=>{"use strict";ri=class{constructor(){}};ri.TYPE_Consumption=1,ri.TYPE_Equipment=2,ri.TYPE_Currency=3,ri.TYPE_Hero=4,ri.TYPE_Fragment=5,ri.TYPE_CARD=6,ri.TYPE_TOKEN=100,ri.CHOOSE_Wallet=1,ri.CHOOSE_PutOn=2,ri.ITEM_PT=1086,ri.ITEM_PT_EXP=1091,ri.ITEM_SNAKE=3026});var nr,Xl=b(()=>{"use strict";Xe();et();Ze();Cr();t_();nr=class i{constructor(e=0){this._m_iLevel=0;this._m_arrDisc=[];this.newAddCnt=0;this.isScholarship=!1;this.isLvUp=!1;this.needTip=!0;this.m_bSalon=!1;this.m_bIsSetId=!1;e!=0&&(this.id=e)}get m_iLevel(){return this._m_iLevel>0?this._m_iLevel:1}set m_iLevel(e){this._m_iLevel=e||0}get m_iPk(){return this._m_iPk}set m_iPk(e){this._m_iPk=e}copyItem(){let e=new i;return e.id=this.id,e.m_iOriginalId=this.m_iOriginalId,e}get m_bTry(){return this.id==this.m_iOriginalId?this._m_bSet=!1:this._m_bSet=!0,this._m_bSet}set itemName(e){this._itemName=e}get itemName(){return this._itemName?this._itemName:O.getLanguage(this.itemItem.name)}set m_bTry(e){this._m_bSet=e}get id(){return this._m_iId}set id(e){this._m_iId=e,this.m_bIsSetId||(this.m_bIsSetId=!0,this.m_iOriginalId=e),this.setConfigData()}setConfigData(){if(this.id!=0){if(this.type==ri.TYPE_TOKEN){this.quality=1;let e=xt.getTokenDataBySyId(this.id);e?(this.itemName=e.symbol,this.iconURL=te.getCurrencyIcon(e.symbolId)):(this.iconURL="",this.itemName="");return}if(this.itemItem=$.m_dicItems.get(this.id.toString()),!this.itemItem){console.log("[          <items> find out id:"+this.id+"             ]");return}if(this.subType=parseInt(this.itemItem.subType+""),this.backType=parseInt(this.itemItem.backPack+""),this.type=parseInt(this.itemItem.type+""),this.itemItem.buy_price){this.m_iPrice=this.itemItem.buy_price[0][1];let e=this.itemItem.buy_price[0][0],t=$.m_dicItems.get(e);t&&(this.m_strBuyIcon=te.getItemIcon(t.icon))}this.itemItem.sell_price&&(this.m_iSellPrice=parseFloat(this.itemItem.sell_price[0][1])),this.quality=this.itemItem.quality,this.setQualityData()}}setQualityData(){this.m_arrQualityData=this.itemItem.starArr}set iconURL(e){this._iconURL=e}get iconURL(){return this.type==ri.TYPE_TOKEN?this._iconURL:te.getItemIcon(this.itemItem.icon)}copy(){let e=new i(this.id);return e.m_iLevel=this.m_iLevel,e}compareName(){return O.getLanguage(this.itemItem.name)}compareQuality(){return parseFloat(this.quality+"")}compareSellPrice(){return parseFloat(this.itemItem.sell_price[1]+"")}compareNum(){return parseFloat(this.num+"")}compareLevel(){return parseFloat(this.m_iLevel+"")}compareTypeId(){return parseInt(this.id+"")}}});var ES,LS,ti,co=b(()=>{"use strict";Xl();Ql();ES=class i{constructor(e){this._list=[];this.needPop=!0;this.autoPop=!0}static getInstance(){return i._instance||(i._instance=new i(new LS)),i._instance}get service(){return Gs}addItem(e,t=!1){let s=new nr;s.id=e.id,s.newAddCnt=e.newAddCnt,s.m_iLevel=e.m_iLevel,s.isLvUp=e.isLvUp,s.m_bNew=e.m_bNew,this._list.push(s),t&&this.service.startShow()}addSnakeItem(e,t=!1){let s={};s.id=e.id,s.newAddCnt=e.newAddCnt,s.lv=e.lv,s.isLvUp=e.isLvUp,s.m_bNew=e.m_bNew,this._list.push(s),t&&this.service.startShow()}addItems(e,t=!1){this._list=this._list.concat(e),t&&this.service.startShow()}hasRemain(){return this._list.length>0?this._list[0]:null}get needListener(){return this._list.length>=2}addConsumeByServer(e){this._list.push(e)}addConsume(e,t){this._list.push([e,t])}getNextItem(){return this._list.length>0?this._list[0]:null}getOneItem(){return this._list.length>0?this._list.shift():null}},LS=class{},ti=ES.getInstance()});var wS,P,ot=b(()=>{"use strict";ut();Io();xd();Qr();Ji();ck();co();Ql();We();mn();wS=class i{constructor(){this.timeZoneOff=0;this.hearIntervalSceond=10*60;this.nodeId=1001;this.currentNodeUrl="https://wss-room-sg.queengame.io/test-ping";this._timeStamp=0;this._m_strLanguage=1;this.isLanChanged=!1;this.clubType=0;this.clubCreater="";this.lastTimestamp=0;this._m_serverTime=0;this.redDotData=[];this.friendNum=0;this.headId=10001;this.countryId=1010;this.colorId=1;this._guildIcon=2006;this.tokenData=void 0;this.rechargeEnd=!1}async initData(){}get m_serverTime(){let e=Date.now();return this._m_serverTime+(e-this.lastTimestamp)}set m_serverTime(e){this._m_serverTime=e,this.lastTimestamp=Date.now()}get guildIcon(){return this._guildIcon}set guildIcon(e){this._guildIcon=e}get m_strLanguage(){return this._m_strLanguage}set m_strLanguage(e){this._m_strLanguage=e}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){lk.register(lt,()=>new lt,5,200)}onLanChange(e){let t=parseInt(e[0]),s=parseInt(e[1]);switch(t){case 1:s==1&&it.reload();break;case 2:break}}get timeStamp(){return this._timeStamp+(Laya.Browser.now()-this.recordStampTime)/1e3}set timeStamp(e){this.recordStampTime=Laya.Browser.now(),this._timeStamp=e}updatePlayerInfo(e){this.playerDto||(this.playerDto=new In),this.playerDto.pid=e.roleId,this.playerDto.name=e.userName,this.playerDto.icon=e.icon,this.playerDto.exp=e.exp,this.playerDto.code=e.code,this.playerDto.country=e.country,this.playerDto.invite=e.invite,this.playerDto.invNum=e.invNum,this.playerDto.lv=e.lv,this.playerDto.snakeId=e.snakeId,this.playerDto.skinId=e.skinId,this.playerDto.score=e.score,this.playerDto.createTime=e.createTime,this.playerDto.maxKill=e.maxKill,this.playerDto.maxAlive=e.maxAlive,this.playerDto.skinId=e.skin,this.playerDto.club=e.club,Ei.initKnapsackData(e.items),Ei.initSnakeData(e.snake),v.event(E.ROLE_INFO_CHANGE)}getConsumeValue(e){e=parseInt(e.toString());var t=this.playerDto.coins[e];return t>0?t:0}moneyInfoHander(e,t=!0,s=!0){let n=!1,o=!1,l=0;for(let u of e)o=!1,u[0]==tt.TYPE_EXP?(l=parseInt(u[1]+"")-this.playerDto.exp,this.playerDto.exp=parseInt(u[1]+""),o=l>0):(l=parseFloat(u[1]+"")-this.playerDto.coins[u[0]],this.playerDto.coins[u[0]]=parseFloat(u[1]+""),o=l>0),o&&ti.needPop&&s&&(n=!0,ti.addConsumeByServer([u[0],l]));t&&v.event(E.ROLE_INFO_CHANGE),n&&ti.autoPop&&Gs.startShow()}getRedDotById(e){return!!(this.redDotData&&this.redDotData.indexOf(e)>-1)}},P=wS.getInstance()});var TS,O,Xe=b(()=>{"use strict";ix();Pi();ak();ot();Ze();St();TS=class i{constructor(){this._lanTypesById=new Pe,this._lanTypesByType=new Pe,this._configData=new Pe,this._configData1=new Pe}static getInstance(){return i._instance||(i._instance=new i),i._instance}initLanTypes(e){this._lanTypesById=new Pe,this._lanTypesByType=new Pe;for(let t in e){let s=new xo;if(s.init(e[t]),parseInt(s.if_open)!=1)continue;let n=s.id,o=s.type;this._lanTypesById.set(n,s),o&&o!=""&&this._lanTypesByType.set(o,s)}}getLanTypes(){return this._lanTypesById}getLanIdByType(e){if(this._lanTypesByType){let t=this._lanTypesByType.get(e);if(t)return parseInt(t.id.toString())}return 1}getLanTypeById(e){if(this._lanTypesById){let t=this._lanTypesById.get(e);if(t)return t.type}return"en"}initConfigLan(e){this._configData=e}initConfigLan1(e){this._configData1=e}initUILan(e){Laya.Text.langPacks={};let t;for(t in e){let s=e[t].value;Laya.Text.langPacks[t]=s}}changeBrToN(e){let t=/<br>/g;for(;e.indexOf("<br>")!=-1;)e=e.replace(t,`
`);return e}replacePlaceholder(e,t){if(e=="")return"";let s=/{(\d+)}/g;return t.length>0&&(e=e.replace(s,function(){return t[arguments[1]]})),this.replaceLanByBR(e)}replaceLanByBR(e){return e+""}getEnglishLanguage(e,...t){return this.getEnglishLanguageReplace(e,t)}getEnglishLanguageReplace(e,t){if(this._configData1&&this._configData1[e]){let s=this._configData1[e].value;if(s&&s!="")return this.replacePlaceholder(s,t)}return this.replacePlaceholder(e+"",t)}getLanguage(e,...t){return this.getLanguageReplace(e,t)}getLanguageReplace(e,t){if(this._configData&&this._configData[e]){let s=this._configData[e].value;if(s&&s!="")return this.replacePlaceholder(s,t)}return this.replacePlaceholder(e+"",t)}getLanguageMulti(e,t){if(console.log("getLanguageMulti",t),this._configData&&this._configData[e]){let s=this._configData[e].value;if(s&&s!="")return this.replacePlaceholderMulti(s,t)}return this.replacePlaceholder(e+"",t)}replacePlaceholderMulti(e,t){if(e=="")return"";let s=/{(\d+)}/g;return t.length>0&&(e=e.replace(s,function(){var n=t[arguments[1]];if(typeof n=="object")n=JSON.parse(n),n=i.getInstance().parseObj(n);else if(typeof n=="string")try{n=JSON.parse(n),typeof n=="object"&&(n=i.getInstance().parseObj(n))}catch{}return n})),this.replaceLanByBR(e)}parseObj(e){if(e.hasOwnProperty("tableType")){if(e.tableType==1){var t=$.m_dicItems.get(e.id);t&&(e=i.getInstance().getLanguage(t.name))}else if(e.tableType==2){var s=$.m_dicArenaDic.get(e.id);s&&(e=i.getInstance().getLanguage(s.name))}}else e=i.getInstance().getMultiLan(e);return e}getUILang(e,t=null,s=null,n=null,o=null){if(e=Laya.Text.langPacks&&Laya.Text.langPacks[e]?Laya.Text.langPacks[e]:e,arguments.length>1)for(let l=0,u=arguments.length;l<u;l++)e=e.replace("{"+l+"}",arguments[l+1]);return e}getMultiLan(e){var t=parseInt(P.m_strLanguage.toString()),s;return e&&(s=e[t],s||(s=e[vo.Lan_en])),s}FGM_GetLanguage(){let e=function(s){console.log("initGame->-----------------------------FGM_GetLanguage:=="+s),s&&(K.User_Lan=s)},t=Laya.LocalStorage.getItem(K.COOKIE_CF_LAN);!t||t==""?e(this.language):e(t)}get language(){return"en"}FGM_SetLanguage(e){e&&e!=""&&Laya.LocalStorage.setItem(K.COOKIE_CF_LAN,e)}dispose(){}},O=TS.getInstance()});var CS,ki,$l=b(()=>{"use strict";ni();Xe();CS=class i{constructor(){this._curErrTxt=""}static getInstance(){return i._instance||(i._instance=new i),i._instance}initErrData(e){this.errData=e}get(e){return this.errData[e]?this.errData[e].words:(console.warn("服务端错误码语言包未配表 错误码："+e),e)}showErrorWord(e,...t){var s=this.getLanguage2(e,t);Me.notice(s)}getLanguage2(e,t){if(this.errData&&this.errData[e]){let s=this.errData[e].words;if(s&&s!="")return this._curErrTxt=O.replacePlaceholder(s,t),this._curErrTxt}return this._curErrTxt=O.replacePlaceholder(e+"",t),this._curErrTxt}showErrByString(e,t="#ff0000"){this._curErrTxt=e;let s=new Laya.Label(this._curErrTxt);s.width=500,s.align="center",s.height=40,s.fontSize=26,s.color=t,s.mouseEnabled=!1,s.strokeColor="#000000",s.stroke=.5,Laya.stage.addChild(s),s.x=(Laya.stage.width-s.width)/2,s.y=(Laya.stage.height-s.height)/2,Laya.Tween.to(s,{y:s.y-100,alpha:0},500,null,Laya.Handler.create(this,this.completeHandler,[s]),1e3)}completeHandler(e){e&&e.parent&&e.parent.removeChild(e)}dispose(){this.errData=null}},ki=CS.getInstance()});var ui,AS,te,et=b(()=>{"use strict";Pi();_d();We();ut();$l();Xe();ds();Ji();nx();ot();Ze();St();gr();ui=class ui{constructor(){this.resArr=["gameIcon/snakeMatch/snakes/img_head101.png","gameIcon/snakeMatch/snakes/img_head102.png","gameIcon/snakeMatch/snakes/img_head103.png","gameIcon/snakeMatch/snakes/img_body101.png","gameIcon/snakeMatch/snakes/img_body102.png","gameIcon/snakeMatch/snakes/img_body103.png",{url:"scenes/mainView/MainScene.ls",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeSpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeBodySpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchSnakeBeanSpr.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/MatchReadyView.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/match/DamageNumber.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/notice/TxtLoadingView.lh",type:Laya.Loader.HIERARCHY},{url:"scenes/notice/TxtNoticeView.lh",type:Laya.Loader.HIERARCHY},"gameIcon/spine/img_ziyousai.png","gameIcon/spine/img_she.png","gameIcon/spine/img_qianbao.png","gameIcon/spine/img_gonghui.png","gameIcon/spine/img_gonghui2.png","gameIcon/spine/img_cion4.png","gameIcon/spine/img_cion5.png","gameIcon/spine/img_cion2.png","gameIcon/spine/img_cion1.png","gameIcon/spine/img_anniu3.png","gameIcon/spine/img_anniu2.png","gameIcon/spine/img_anniu1.png","gameIcon/spine/img_jlb.png","gameIcon/spine/img_jingjisai.png","gameIcon/spine/shop/egg/img_egg.png","res/common/comm_bg/img_tcbg.png","res/common/comm_bg/img_bg_1560.jpg","res/common/comm_bg/img_top_kuanping.png","res/common/comm/img_anniu1_1.png","res/common/comm/img_jiantou.png","res/common/comm/icon_zhuanshi.png","res/common/comm/img_zsdi.png","res/common/comm/img_tab1.png","res/common/comm/img_tab2.png","res/common/comm/img_gb.png","res/common/comm/img_tabbg.png","res/common/comm_bg/img_tkbg.png"];this.m_arrPreResource=["config/spot.json"];this.m_arrInitResource=["config/general.json","config/head.json","config/country.json","config/shop.json","config/snake.json","config/foods.json","config/item.json","config/arena.json","config/arenaType.json","config/snakeLengthRules.json","config/node.json","config/currencyAddress.json","config/aCoin.json","config/coinAddress.json","config/language.json","config/level.json","config/room.json","config/club.json"];this.m_objModuleReource={MainScene:["res/atlas/main.atlas"],ShopScene:[],MailScene:[],SettingScene:[],RoleInfoScene:[],RankSceneBase:[],RankScene:[],ClubScene:[],AssetNewScene:[],CommentDialog:["res/atlas/comment.atlas"],GuideView:["res/atlas/guide.atlas","res/atlas/ShopView.atlas","config/newplayer.json"],SelectHeadDialog:[],KnapsackScene:["res/atlas/mainUI1.atlas"]};this.m_objModuleViews={BaseAlertDialog:"scenes/baseAlert/BaseAlertDialog.lh",NoServerView:"scenes/createRole/NoServer.lh",CreateLoginView:"scenes/createRole/CreateLoginView.lh",ChangeHeadDialog:"scenes/createRole/ChangeHeadDialog.lh",HeroGetDialog:"scenes/shop/HeroGetDialog.lh",BuyTicketDialog:"scenes/shop/BuyTicketDialog.lh",ItemGetDialog:"scenes/item/ItemGetDialog.lh",EquipStarUpDialog:"scenes/item/EquipStarUpDialog.lh",RewardGetDialog:"scenes/item/RewardGetDialog.lh",KnapsackTipDialog:"scenes/item/KnapsackTipDialog.lh",SelectHeadDialog:"scenes/createRole/SelectHeadDialog.lh",TxtNoticeView:"scenes/notice/TxtNoticeView.lh",NoticeDialog:"scenes/notice/NoticeDialog.lh",HelpDialog:"scenes/notice/HelpDialog.lh",ImgDialog:"scenes/notice/ImgDialog.lh",ChampDetailDialog:"scenes/asset/ChampDetailDialog.lh",ChampRecordDialog:"scenes/asset/ChampRecordDialog.lh",RoleInfoDialog:"scenes/createRole/RoleInfoDialog.lh",RemGetDialog:"scenes/createRole/RemGetDialog.lh",CreateRoomDialog:"scenes/mainView/CreateRoomDialog.lh",CreateRentalDialog:"scenes/shop/CreateRentalDialog.lh",MyLeasedDialog:"scenes/shop/MyLeasedDialog.lh",MyRentedDialog:"scenes/shop/MyRentedDialog.lh",MyRentalBuyDialog:"scenes/shop/MyRentalBuyDialog.lh",EnterRoomView:"scenes/mainView/EnterRoomView.lh",InputPwdDialog:"scenes/mainView/InputPwdDialog.lh",RoomInfoDialog:"scenes/mainView/RoomInfoDialog.lh",HeroDetailDialog:"scenes/hero/HeroDetailDialog.lh",MatchEndRankView:"scenes/match/MatchEndRankView.lh",MatchEndTeamRankView:"scenes/match/MatchEndTeamRankView.lh",MatchEndRewardTokensDialog:"scenes/match/MatchEndRewardTokensDialog.lh",MyBookingView:"scenes/airdrop/MyBookingView.lh",UnionMemberView:"scenes/union/UnionMemberView.lh",UnionListView:"scenes/union/UnionListView.lh",CreateSubUnionView:"scenes/union/CreateSubUnionView.lh",ChangeUnionIconDialog:"scenes/union/ChangeUnionIconDialog.lh",MySubUnionView:"scenes/union/MySubUnionView.lh",UnionMemberApplyView:"scenes/union/UnionMemberApplyView.lh",UnionReferralView:"scenes/union/UnionReferralView.lh",UnionTransferView:"scenes/union/UnionTransferView.lh",TicketTransferView:"scenes/union/TicketTransferView.lh",HeroTransferView:"scenes/hero/HeroTransferView.lh",BanAccountView:"scenes/match/BanAccountView.lh",MatchReadyView:"scenes/match/MatchReadyView.lh",MatchEndView:"scenes/match/MatchEndView.lh",GameSettingLanguageDialog:"scenes/gameSetting/GameSettingLanguageDialog.lh",SkillTipDialog:"scenes/hero/SkillTipDialog.lh",TransferRecordDialog:"scenes/hero/TransferRecordDialog.lh",InviteConfimDialog:"scenes/airdrop/InviteConfimDialog.lh",ApplyConfimDialog:"scenes/airdrop/ApplyConfimDialog.lh",CreateSubWalletDialog:"scenes/scholarship/CreateSubWalletDialog.lh",WalletChooseHeroDialog:"scenes/scholarship/WalletChooseHeroDialog.lh",WalletChoosePropsDialog:"scenes/scholarship/WalletChoosePropsDialog.lh",EmployInfoDialog:"scenes/scholarship/EmployInfoDialog.lh",HireDetailDialog:"scenes/asset/HireDetailDialog.lh",ProxyDetailDialog:"scenes/asset/ProxyDetailDialog.lh",WithDrawRecordDialog:"scenes/asset/WithDrawRecordDialog.lh",NodeRevenueRecordDialog:"scenes/asset/NodeRevenueRecordDialog.lh",WithdrawDialog:"scenes/asset/WithdrawDialog.lh",DepositDialog:"scenes/asset/DepositDialog.lh",CreateClubDialog:"scenes/club/CreateClubDialog.lh",CreateClubRoomDialog:"scenes/club/CreateClubRoomDialog.lh",SettingRateDialog:"scenes/club/SettingRateDialog.lh",ReferralDialog:"scenes/createRole/ReferralDialog.lh",BuyPropDialog:"scenes/shop/BuyPropDialog.lh",JoinRoomDialog:"scenes/mainView/JoinRoomDialog.lh",SnakeUpgradeDialog:"scenes/knapsack/SnakeUpgradeDialog.lh",SnakeUpgradeSuccessDialog:"scenes/knapsack/SnakeUpgradeSuccessDialog.lh",PlayerUpgradeSuccessDialog:"scenes/mainView/PlayerUpgradeSuccessDialog.lh",ChangeClubHeadDialog:"scenes/club/ChangeClubHeadDialog.lh",JoinClubRoomDialog:"scenes/club/JoinClubRoomDialog.lh"};this.m_objConfigReource={};this.m_commonResource=new Pe;this.loadingView=Laya.Browser.window.loadingView;this.ii=100;this.baseUrl="https://cdn.snake.ai/snake/"}static getInstance(){return ui._instance==null&&(ui._instance=new ui),ui._instance}init(){Laya.loader.on(Laya.Event.ERROR,this,this.onError),this.initGameLanguage()}initGameLanguage(){ui.GameLanguage_URL="config/language.json",Laya.loader.load(ui.GameLanguage_URL,Laya.Handler.create(this,this.initGameResource))}initGameResource(e){if(e==null)return;let t=ui.getInstance().getResBySetURL(ui.GameLanguage_URL);O.initLanTypes(t.data),at.processLangParameter(),Laya.loader.clearRes(ui.GameLanguage_URL),this.onConfigLoaded()}onError(e){}onConfigLoaded(){let e=new Ks;e.ID=4,e.Event="加载语言包信息",it.sendCustumEvent(4,null,e),K.ignoreLang||(P.m_strLanguage=O.getLanIdByType(K.User_Lan)),this.m_UILang="config/lang_english"+P.m_strLanguage+".json",this.m_NomalLang="config/english"+P.m_strLanguage+".json",this.m_NomalLang1="config/english1.json",this.m_ErrorLang="config/error"+P.m_strLanguage+".json",this.m_arrPreResource.push(this.m_UILang),this.m_arrPreResource.push(this.m_NomalLang),this.m_arrPreResource.push(this.m_NomalLang1),this.m_arrPreResource.push(this.m_ErrorLang),this.initResourceURL(this.m_arrPreResource,!0),this.initResourceURL(this.m_arrInitResource,!0),this.addFont1()}addFont1(){Laya.loader.load("res/font/CookieRun Regular.otf",Laya.Loader.TTF).then(()=>{this.loadDemoResource()})}loadDemoResource(){Laya.loader.load(this.resArr,null,Laya.Handler.create(this,this.onPreAssetPress1,null,!1)).then(()=>{gt.init(),this.damageNumPrefab=Laya.loader.getRes("scenes/match/DamageNumber.lh"),this.aniSkPrefab=Laya.loader.getRes("scenes/hero/AniSk.lh"),this.roleAniPrefab=Laya.loader.getRes("scenes/match/MatchSnakeSpr.lh"),this.matchSnakeBodyPrefab=Laya.loader.getRes("scenes/match/MatchSnakeBodySpr.lh"),this.matchSnakeBeanPrefab=Laya.loader.getRes("scenes/match/MatchSnakeBeanSpr.lh");var e=this.roleAniPrefab.create();console.log(" ================ roleAniPrefab: "+e);var t=this.matchSnakeBodyPrefab.create();console.log(" ================ snakeBodyPrefab: "+t),this.onLoadThreeDimen()})}onLoadThreeDimen(){Laya.loader.load(this.m_arrPreResource,Laya.Handler.create(this,this.onPreAssetLoaded),Laya.Handler.create(this,this.onPreAssetPress2,null,!1))}onPreAssetPress1(e){this.va=(e*100*.5).toFixed(0),this.loadingView&&this.va<100&&this.va>this.m_iPrecess&&this.loadingView.loading(this.va)}onPreAssetPress2(e){this.va=(e*100*.5+.5).toFixed(0),this.loadingView&&this.va<100&&this.va>this.m_iPrecess&&this.loadingView.loading(this.va)}onPreAssetLoaded(e){if(!e)return;let t=Laya.Browser.now();vd.initSpotCfgData(),this.initResourceURL(this.m_objModuleReource),this.initResourceURL(this.m_objConfigReource),it.sendCustumEvent(5),$.preInit(),this.setGlobalLanguage(),it.sendCustumEvent(6),v.event(E.EVENT_BACK_TO_LOGIN),this.loadingView&&this.loadingView.loading(100),console.log("-----------------------preload-time:"+(Laya.Browser.now()-t))}setGlobalLanguage(){let e=ui._instance.getResByURL(this.m_NomalLang);O.initConfigLan(e.data);let t=ui._instance.getResByURL(this.m_NomalLang1);O.initConfigLan1(t.data);let s=ui._instance.getResByURL(this.m_UILang);O.initUILan(s.data);let n=ui._instance.getResByURL(this.m_ErrorLang);ki.initErrData(n.data),this.clearResUrlByRoot(this.m_UILang,!0),this.clearResUrlByRoot(this.m_NomalLang,!0),this.clearResUrlByRoot(this.m_NomalLang1,!0),this.clearResUrlByRoot(this.m_ErrorLang,!0)}initResourceURL(e,t=!1){if(e instanceof Array)this.setResURLArr(e,t);else if(e instanceof Object)for(let s in e)this.setResURLArr(e[s],t)}setResURLArr(e,t){let s,n;for(let o=0;o<e.length;o++)t?(this.m_commonResource.set(e[o],!0),n=this.setResURL(e[o]),s=this.getTypeFromUrl(n),e[o]={url:n,type:s,size:1,priority:1}):this.m_commonResource.get(e[o])?(e.splice(o,1),o--):(n=this.setResURL(e[o]),s=this.getTypeFromUrl(n),e[o]={url:n,type:s,size:1,priority:1})}getTypeFromUrl(e){let{ext:t,typeId:s,main:n,loaderType:o}=Laya.Loader.getURLInfo(e);ui._extReg.lastIndex=e.lastIndexOf(".");let l=ui._extReg.exec(e);return l&&l.length>1?l[1].toLowerCase():"text"}setResURL(e){return e}clearResUrlByRoot(e,t=!1){let s=e;Laya.loader.clearRes(s)}hasFormatEffectUrl(e){return e.indexOf("effect/")>=0}setItemResURL(e){return e&&e.hasOwnProperty("item_img")?this.setResURL("icon/"+e.item_img+".png"):""}setThreeDimenUrl(e){return e?this.setResURL("threeDimen/"+e):""}getThreeDimenUrl(e){let t=this.setResURL("threeDimen/"+e);return Laya.Loader.getRes(t)}getResByURL(e){let t=ui.getInstance().setResURL(e);return Laya.Loader.getRes(t)}getResBySetURL(e){return Laya.Loader.getRes(e)}loadModuleUrl(e,t=null,s=null,n=1,o=!0){console.log("loadModuleUrl m_strName: "+e),this.ii++;let l=ui.getInstance().m_objModuleReource[e];if(l==null||l.length<1){t.run();return}Laya.loader.load(l,Laya.Handler.create(this,this.loadItemComplete,[t,l]),Laya.Handler.create(this,this.onLoadProgress,[e],!1),s,n,o,this.ii.toString())}loadItemComplete(e,t){this.usedUrlDic||(this.usedUrlDic=new Pe);for(let s in t){let n=t[s].url,o=this.usedUrlDic.get(n);o?this.usedUrlDic.set(n,++o):this.usedUrlDic.set(n,1)}e.run()}clearModuleUrl(e){console.log("clearModuleUrl m_strName: "+e);let t=ui.getInstance().m_objModuleReource[e];for(let s in t){let n=t[s].url;if(this.usedUrlDic){let o=this.usedUrlDic.get(n);o-=1,o<1?(this.usedUrlDic.remove(n),Laya.loader.clearRes(n)):this.usedUrlDic.set(n,o)}}}onLoadProgress(e,t){}loadResource(e,t=null,s=null,n=null,o=1,l=!0){Laya.loader.load(e,t,s,n,o,l)}getNodeIcon(e){return this.setResURL("gameIcon/node/img_"+e+".png")}getCountryIcon(e){return this.setResURL("gameIcon/country/img_"+e+".png")}getSnakeHeadIcon(e){return(e==0||e=="0")&&console.error("id is 0"),this.setResURL("gameIcon/snakeMatch/snakes/img_head"+e+".png")}getCurrencyIcon(e){return`https://static.cryptoarena.io/images/token/token_${e}.png`}getSnakeBodyIcon(e){return this.setResURL("gameIcon/snakeMatch/snakes/img_body"+e+".png")}getFoodIcon(e){return this.setResURL("gameIcon/snakeMatch/foods/img_"+e+".png")}getShopItemIcon(e){return this.setResURL("res/shop/img_"+e+".png")}getItemIcon(e){return`https://static.cryptoarena.io/images/item/img_${e}.png`}getSnakeIcon(e){return`https://static.cryptoarena.io/images/snake/snake_${e}.png`}getItemBgIcon(e){return this.setResURL("gameIcon/items/itemBg/img_"+e+".png")}getItemBigIcon(e){return this.setResURL("gameIcon/items/itemBig/img_"+e+".png")}getItemBigBigIcon(e){return this.setResURL("gameIcon/items/itemBigBig/img_"+e+".jpg")}getItemQualityIcon(e){return this.setResURL("gameIcon/items/itemQuality/img_"+e+".png")}getMoneyIcon(e){return this.setResURL("gameIcon/items/money/img_"+e+".png")}getMatchSkillIcon(e){return this.setResURL("gameIcon/skill/matchSkills/img_"+e+".png")}getSnakeAniJson(e){return this.setResURL(`gameIcon/spine/shop/snake${e}/img_she_${e}.json`)}getPlayerIcon(e){return parseInt(e)>0?this.setResURL("gameIcon/head/headCircle/img_"+e+".png"):e}getClubIcon(e){return`https://static.cryptoarena.io/images/club/img_clubIcon_${e}.png`}getSoundURL(e,t=".ogg"){let s;return s=this.setResURL("mp3/"+e+t),s}getSoundURLogg(e){let t;return t=this.setResURL("mp3/"+e),t}getMapImg(e){return"gameIcon/map/"+e+"/img_map.jpg"}getHeroSkRes(){}getMapPrefab(e){return"gameIcon/map/map_"+e+".lh"}clearCache(){}};ui._extReg=/\.(\w+)\??/g;AS=ui,te=AS.getInstance()});var Oe,Vt=b(()=>{"use strict";mt();ut();Pi();et();ds();We();Oe=class i extends Laya.DialogManager{constructor(){super();this.views=new Pe;this.m_arrLoadingArr=[];if(i._instance)throw new Error("LayerManager是单例,不可new.");i._instance=this,Laya.Dialog.manager=this}static get intance(){return i._instance||(i._instance=new i),i._instance}openModule(t,s=null){v.event(E.EVENT_OPEN_MODULE,[t,s])}hasOpenView(t){return this.views.get(t)!=null}getOpenView(t){return this.views.get(t)}disposeView(t,s){if(this.getOpenView(t)){let n=this.getOpenView(t);if(n instanceof Array)for(let o=0;o<n.length;o++)n[o].close(s);else n.close(s)}}init(){v.on(E.EVENT_OPEN_MODULE,this,this.onModulePanel),v.on(E.EVENT_CLOSE_MODULE,this,this.disposeView)}initMainView(){}onModulePanel(t,s=null){console.log("ModuleManager.onModulePanel moudleName:"+t),this.m_arrLoadingArr.indexOf(t)==-1&&(this.getOpenView(t)||(gt.showLoading(!1),this.m_arrLoadingArr.push(t),te.loadModuleUrl(t,Laya.Handler.create(this,this.onLoaded,[t,s]))))}onLoaded(t,s=null){let n=this.m_arrLoadingArr.indexOf(t);n!=-1&&this.m_arrLoadingArr.splice(n,1);let o;var l=te.m_objModuleViews[t];console.log("onLoaded: ",t,l),Laya.loader.load(l).then(u=>{if(o=u.create(),s&&o.setOpenData(s),o.m_strName=t,this.getOpenView(t)){console.log("Module already open, skipping creation:",t),o.hideLoadingBySelf||gt.hideLoading();return}if(o instanceof Laya.Box)o=o,ee.instence.addToLayer(o,o.m_iLayerType),ee.instence.setPosition(o,o.m_iPositionType,o.m_ioffsetX,o.m_ioffsetY),this.addViewToModuleManger(o);else if(o instanceof Laya.Dialog){let p=o;p.m_iLayerType==ee.M_POP?(p.isModal=!0,p.isShowEffect=!0,this.open(p,!1,!0)):(p.isShowEffect=!1,this.open(p)),this.addViewToModuleManger(p)}o&&v.event(E.EVENT_MODULE_ADDED,o),o.hideLoadingBySelf||gt.hideLoading()}).catch(u=>{console.error("onLoaded 加载失败",u)})}addViewToModuleManger(t){let s=t.m_strName;this.views.get(s)?this.views.get(s)instanceof Array?this.views.get(s).push(t):this.views.set(s,[this.views.get(s),t]):this.views.set(s,t),this.on(Laya.Event.CLOSE,this,this.removeViewFromModuleManger)}removeViewFromModuleManger(t){if(!t||!this.views)return;let s=t.m_strName;console.log("removeViewFromModuleManger viewName: "+s),t.off(Laya.Event.CLOSE,this,this.removeViewFromModuleManger);let n=this.views.get(s);if(n instanceof Array){let o=n.indexOf(t);o!=-1&&(n.splice(o,1),n.length==0&&this.views.remove(s))}else this.views.remove(s)}closeAll(){super.closeAll()}doClose(t){super.doClose(t),this.event(Laya.Event.CLOSE,t)}}});var MS,Ce,gi=b(()=>{"use strict";Vt();qt();ut();We();Pi();um();et();rr();ot();co();Ql();Er();zs();fi();un();Qr();kr();Ni();Uy();zy();ua();Sr();MS=class i{constructor(){this._inited=!1;this.stopAll=!1;this.roomWatcher=!1;this.matchWatcher=!1;this.heroReadyDic=new Pe;this.hasDieEnd=!1;this.frameIndex=0;this.rotateSpeed=500;this.speedRate=1;this.speed=6;this.time=0;this.dir=0;this.aimDir=0;this.bones=[lt.create(0,0)];this.init()}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this._inited||(this._inited=!0)}get roomDto(){return this._roomDto}set roomDto(e){if(console.log("roomDto: ",e),this._roomDto=e,e){var t=P.playerDto.pid;if(e.watch){let s=e.watch.some(n=>n===t);this.roomWatcher=s}}}setRoomAnonymousLabel(e,t=-1){return t==-1&&(t=i._instance.roomDto.anonymous),t==1?bs.ANONYMOUS_NAME:e}setMatchAnonymousLabel(e,t=-1){return t==-1&&(t=i._instance.matchDto.anonymous),!this.matchWatcher&&t==1?bs.ANONYMOUS_NAME:e}setMatchAnonymousImg(e,t=-1){return t==-1&&(t=i._instance.matchDto.anonymous),!this.matchWatcher&&t==1?null:e}get matchDto(){return this._matchDto}set matchDto(e){if(console.log("matchDto: ",e),this._matchDto=e,e){var t=P.playerDto.pid;if(e.watch){let s=e.watch.some(n=>n===t);this.matchWatcher=s}e.startTime-e.nowTime>0?this.stopAll=!0:this.stopAll=!1}else this.stopAll=!1}setMatchRes(){this.heroReadyDic=new Pe;var e=this.roomDto.members.length,t=[],s=this.currArenaItem.mapid;if(this.heroReadyDic.get("map_"+s)==null){var s=i._instance.currArenaItem.mapid,n=te.getMapImg(s);t.push(n);var o=te.getMapPrefab(s);t.push(o),this.heroReadyDic.set("map_"+s,!0)}for(var l=0;l<e;l++){var u=this.roomDto.members[l];this.heroReadyDic.get(u.heroId+"_"+u.heroColor)==null&&this.heroReadyDic.set(u.heroId+"_"+u.heroColor,!0)}t.length>0&&Laya.loader.load(t,null,Laya.Handler.create(this,this.onPreAssetPress1,null,!1)).then(()=>{})}onPreAssetPress1(e){}onAiSetMatchEnd(e){this.msgEndbody=e,v.event(E.EVENT_GameScene_Gray),ze.isMatching=!1,i._instance.stopAll=!0,Oe.intance.openModule(w.MatchEndView,[Te.MATCH_TYPE_PVE,e])}onSetMatchEnd(e,t=!1){ve.frameNetQueue.isStart=!1,this.msgEndbody=e,this.hasDieEnd||t?(v.event(E.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody),this.hasDieEnd=!1):Laya.timer.once(4e3,this,this.checkSnake)}onMockMatchEnd(){Laya.timer.clear(this,this.checkSnake),this.msgEndbody?(v.event(E.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody)):this.hasDieEnd=!0}checkSnake(){ne.getInstance().selfSnake&&ne.getInstance().selfSnake.isAlive(!1)&&(ne.getInstance().selfSnake.die(),v.event(E.EVENT_GameScene_Gray),this.onGoMatchEndRank(this.msgEndbody))}onGoMatchEndRank(e){ze.isMatching=!1,i._instance.stopAll=!0,Oe.intance.openModule(w.MatchEndView,[Te.MATCH_TYPE_PVP,e])}clearData(){console.log("clearData "),this.roomDto=null,this.matchDto=null,this.msgEndbody=null,this.hasDieEnd=!1,this.heroReadyDic=null,this.currArenaItem=null,this.roomWatcher=!1,this.matchWatcher=!1,ze.close(),ne.getInstance().clear(),Lt.clear(),Laya.Pool.clearBySign(ys.POOL_NAME),Laya.Pool.clearBySign(fs.POOL_NAME),sr.destroy(),qe.playMusicByName(qe.soundName_bg,".mp3"),ti.needPop=!0,Gs.startShow()}initMove(){return;var e,t,s,n}toAimDir(e){this.time=0,this.aimDir=e;var t=vt.getAngleToVec(e);console.log("TEST==== 目标方向：",e,"向量：",t.x,t.y);for(var s=0;s<560;s++)this.move(null)}move(e){this.time++,this.frameIndex++;for(let n=0;n<this.speedRate;n++){let o=this.aimDir-this.dir,l=this.rotateSpeed*Q.snake.defaultMoveInterval;if(Math.abs(o)<l)this.dir=this.aimDir;else{o=(o+360)%360,o>180&&(o-=360);var t=Math.abs(o)<l?o:l*(o>0?1:-1);this.dir+=t,this.dir>=360&&(this.dir-=360),this.dir<0&&(this.dir+=360)}let u=this.dir*Math.PI/180,p=lt.create(Math.cos(u),Math.sin(u));var s=this.bones[0].add(p.mul(this.speed));this.bones[0].assign(s),console.log("TEST==== 移动蛇头坐标：","第"+this.time+"次",this.bones[0].x,this.bones[0].y,"frameIndex: "+this.frameIndex)}}},Ce=MS.getInstance()});var vt,un=b(()=>{"use strict";Qr();gi();Ze();fi();vt=class i{constructor(){}static judgePosition(e,t){let s=Math.atan2(t,e)*180/Math.PI;return s<0&&(s+=360),Math.floor(s)}static normalizeAngle(e){return e=e%360,e<0&&(e+=360),e}static distancePoint(e,t,s,n){return Math.sqrt((e-s)*(e-s)+(t-n)*(t-n))}get2D_Distance(e,t){return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(t),2))}static rollCharacterByDir(e,t,s,n){let o=s;return i.rollCharacter(e,t,o,n)}static rollCharacter(e,t,s,n){let o=s*(Math.PI/180);var l=e+n*Math.cos(o),u=t+n*Math.sin(o),p=Ce.currArenaItem.mapid,m=$.m_dicMaps.get(p),d=m.offset;return l<d?l=d:l>m.width-d&&(l=m.width-d),u<d?u=d:u>m.height-d&&(u=m.height-d),console.log(`新的坐标：X=${l}, Y=${u}`),[l,u]}static getRandomPointInMap(){var e=Ce.currArenaItem.mapid,t=$.m_dicMaps.get(e),s=t.width,n=t.height,o=t.offset;let l=Math.floor(Math.random()*(s-2*o))+o,u=Math.floor(Math.random()*(n-2*o))+o;return{x:l,y:u}}static createDirectPath(e,t,s,n=40,o=25){for(var l=[],u=s*Math.PI/180,p=1;p<n;++p){var m=e,d=t+o*p,f=-(d-t)*Math.sin(u)+e,g=(d-t)*Math.cos(u)+t;l.push(f,g)}return l}static pointsBack(e,t){if(t<=0||!e||e.length<4)return e;for(var s=0,n=-1,o=-1,l=0;l<e.length;l+=2){var u=e[l],p=e[l+1];n>0&&o>0&&(s+=this.distancePoint(n,o,u,p)),n=u,o=p}if(s<t)return null;for(var m=e.concat(),d=0,f=0;m&&m.length>=4&&d<t;){var g=m.pop(),_=m.pop(),S=m[m.length-1],x=m[m.length-2];if(d+=this.distancePoint(x,S,_,g),f=d-t,f>0){var I=Math.atan2(S-g,x-_),M=I*180/Math.PI+90;I=M*Math.PI/180;var A=S+f,D=-(A-S)*Math.sin(I)+x,j=(A-S)*Math.cos(I)+S;m.push(D,j)}}return m}static createLinePath(e,t,s,n,o=25,l=0){var u=[],p=Math.atan2(n-t,s-e);p=(p*180/Math.PI-90)*Math.PI/180;for(var m=this.distancePoint(e,t,s,n)-l,d=0,f=0;m>d;){var g=e,_=t+o*f,S=-(_-t)*Math.sin(p)+e,x=(_-t)*Math.cos(p)+t;d=this.distancePoint(e,t,S,x),m>d&&u.push(S,x),f++}return l==0&&u.push(s,n),u}static rolePosTransform(e,t,s){var n=new Laya.Matrix;return n.rotate(Math.PI/180*(e.modelAngle-90)),n.translate(t.x,t.y),n.transformPoint(s)}static pointtInPolygon(e,t){for(var s=0,n=0;n<t.length;n++){var o=t[n],l=t[(n+1)%t.length];if(o.y!=l.y&&!(e.y<Math.min(o.y,l.y))&&!(e.y>=Math.max(o.y,l.y))){var u=(e.y-o.y)*(l.x-o.x)/(l.y-o.y)+o.x;u>e.x&&s++}}return s%2==1}static pointInPie(e,t,s,n,o,l){var u=Math.atan2(l.y-t,l.x-e)*180/Math.PI,p=this.distancePoint(e,t,l.x,l.y);return u>=s&&u<=n&&p<=o}static getRandInRound(e,t){return Math.floor(Math.random()*(t-e+1))+e}static getUnitVector(e){let s=e*(Math.PI/180),n=1*Math.cos(s),o=1*Math.sin(s);return new Laya.Point(n,o)}static getAngleToVec(e){let t=e*Math.PI/180,s=Math.cos(t),n=Math.sin(t);return lt.create(s,n)}static subtract(e,t){let s=new Laya.Point;return s.x=e.x-t.x,s.y=e.y-t.y,s}static getDistance(e,t){let s=e.x-t.x,n=e.y-t.y;return Math.sqrt(s*s+n*n)}static calculateDistance(e,t){let s=e.x-t.x,n=e.y-t.y;return Math.sqrt(s*s+n*n)}static lerp(e,t,s){return e+(t-e)*s}static fromBigToSmall(e,t){var s=e*185/Q.mapSize.width,n=t*185/Q.mapSize.height;return[s,n]}}});We();ut();un();gi();Ni();var{regClass:cO}=Laya,Ot=Laya.InputManager,_m=class extends Laya.Script{constructor(){super(...arguments);this.currRockerBar=null;this.maxDistance=80;this.isMouseDown=!1;this.mouseDownPosition=new Laya.Point;this._currentMouse=new Laya.Point;this.initRockerBarPosition=new Laya.Point;this.key1Pressed=!1;this.key2Pressed=!1;this.key3Pressed=!1;this.key4Pressed=!1;this.key5Pressed=!1;this.key6Pressed=!1;this.key7Pressed=!1;this.key8Pressed=!1;this.keySpacePressed=!1;this.directionOffset=0;this.isKeyRun=!1}onEnable(){Laya.InputManager.multiTouchEnabled=!0}onStart(){this.currRockerBar=this.owner.getChildByName("freebar"),this.freetrack=this.owner.getChildByName("freetrack"),this.img_arrow_left=this.freetrack.getChildByName("img_arrow_left"),this.img_arrow_right=this.freetrack.getChildByName("img_arrow_right"),this.img_arrow_up=this.freetrack.getChildByName("img_arrow_up"),this.img_arrow_down=this.freetrack.getChildByName("img_arrow_down"),Laya.Browser.onPC?this.freetrack.visible=!0:this.img_arrow_left.visible=this.img_arrow_right.visible=this.img_arrow_up.visible=this.img_arrow_down.visible=!1,this.initialise()}initialise(){this.initRockerBarPosition.setTo(this.currRockerBar.x,this.currRockerBar.y),this.currRockerBar.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onMouseUp)}onSkillKeyDown(t,s,n){switch(t.stopPropagation(),s){case 1:this.key1Pressed=n;break;case 2:this.key2Pressed=n;break;case 3:this.key3Pressed=n;break}}onMouseDown(t){Ce.stopAll||(t.stopPropagation(),this.isMouseDown=!0,this.currRockerBar.selected=!0,Laya.Browser.onPC||(this.freetrack.visible=!0),this.mouseDownPosition.setTo(this.owner.mouseX,this.owner.mouseY),console.log("onMouseDown this.owner.mouse: ",this.owner.mouseX,this.owner.mouseY),this.isKeyRun=!1,this.touchId=t.touchId)}onMouseUp(t){!this.isMouseDown||t.touchId!==this.touchId||this.endClick(t)}endClick(t){this.isMouseDown=!1,this.currRockerBar.x=this.initRockerBarPosition.x,this.currRockerBar.y=this.initRockerBarPosition.y,this.currRockerBar.selected=!1,this.setDir(-4),this.touchId=-1}onMouseMove(t){if(!this.isMouseDown||!this.currRockerBar||t.touchId!==this.touchId)return;t.stopPropagation(),this._currentMouse.setTo(t.stageX,t.stageY);let s=this.owner.globalToLocal(this._currentMouse,!1),n=s.x-this.mouseDownPosition.x,o=s.y-this.mouseDownPosition.y;if(Math.sqrt(n**2+o**2)<this.maxDistance)this.currRockerBar.x=this.initRockerBarPosition.x+n,this.currRockerBar.y=this.initRockerBarPosition.y+o;else{let u=Math.atan2(n,o);this.currRockerBar.x=Math.sin(u)*this.maxDistance+this.initRockerBarPosition.x,this.currRockerBar.y=Math.cos(u)*this.maxDistance+this.initRockerBarPosition.y}if(Math.abs(n)>this.directionOffset||Math.abs(o)>this.directionOffset){let u=vt.judgePosition(n,o);this.setDir(u)}}onUpdate(){Ce.stopAll||this.getKeyboardPressed()}setDir(t){this.lastDirection!=t&&(ne.getInstance().setMyHeroDirection(t),this.lastDirection=t)}getKeyboardPressed(){if(Ot.hasKeyDown(Laya.Keyboard.W)&&Ot.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(225)):Ot.hasKeyDown(Laya.Keyboard.W)&&Ot.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(315)):Ot.hasKeyDown(Laya.Keyboard.S)&&Ot.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(135)):Ot.hasKeyDown(Laya.Keyboard.S)&&Ot.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(45)):Ot.hasKeyDown(Laya.Keyboard.W)?(this.isKeyRun=!0,this.setDir(270)):Ot.hasKeyDown(Laya.Keyboard.D)?(this.isKeyRun=!0,this.setDir(0)):Ot.hasKeyDown(Laya.Keyboard.S)?(this.isKeyRun=!0,this.setDir(90)):Ot.hasKeyDown(Laya.Keyboard.A)?(this.isKeyRun=!0,this.setDir(180)):this.isKeyRun&&this.setDir(-4),Ot.hasKeyDown(Laya.Keyboard.H)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_1)){if(this.key1Pressed)return;this.key1Pressed=!0,v.event(E.EVENT_CLICK_NUM,1),Laya.timer.once(500,this,this.notKey1Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.J)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_2)){if(this.key2Pressed)return;this.key2Pressed=!0,v.event(E.EVENT_CLICK_NUM,2),Laya.timer.once(500,this,this.notKey2Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.K)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_3)){if(this.key3Pressed)return;this.key3Pressed=!0,v.event(E.EVENT_CLICK_NUM,3),Laya.timer.once(500,this,this.notKey3Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.L)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_4)){if(this.key4Pressed)return;this.key4Pressed=!0,v.event(E.EVENT_CLICK_NUM,4),Laya.timer.once(500,this,this.notKey4Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.M)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_5)){if(this.key5Pressed)return;this.key5Pressed=!0,v.event(E.EVENT_CLICK_NUM,5),Laya.timer.once(500,this,this.notKey5Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.N)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_6)){if(this.key6Pressed)return;this.key6Pressed=!0,v.event(E.EVENT_CLICK_NUM,6),Laya.timer.once(500,this,this.notKey6Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.B)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_7)){if(this.key7Pressed)return;this.key7Pressed=!0,v.event(E.EVENT_CLICK_NUM,7),Laya.timer.once(500,this,this.notKey7Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.V)||Ot.hasKeyDown(Laya.Keyboard.NUMPAD_8)){if(this.key8Pressed)return;this.key8Pressed=!0,v.event(E.EVENT_CLICK_NUM,8),Laya.timer.once(500,this,this.notKey8Pressed)}if(Ot.hasKeyDown(Laya.Keyboard.SPACE)){if(this.keySpacePressed)return;this.keySpacePressed=!0,v.event(E.EVENT_CLICK_SPACE,!0)}else this.keySpacePressed&&(v.event(E.EVENT_CLICK_SPACE,!1),this.notKeySpacePressed(),Laya.timer.clear(this,this.notKeySpacePressed))}notKey1Pressed(){this.key1Pressed=!1}notKey2Pressed(){this.key2Pressed=!1}notKey3Pressed(){this.key3Pressed=!1}notKey4Pressed(){this.key4Pressed=!1}notKey5Pressed(){this.key5Pressed=!1}notKey6Pressed(){this.key6Pressed=!1}notKey7Pressed(){this.key7Pressed=!1}notKey8Pressed(){this.key8Pressed=!1}notKeySpacePressed(){this.keySpacePressed=!1}getKeyPressed(t){var s=t.toParentPoint(new Laya.Point(t.x,t.y));return s.x>t.x&&s.x<t.x+t.width&&s.y>t.y&&s.y<t.y+t.height}getDistance(t,s,n,o){let l=t-n,u=s-o;return Math.sqrt(l*l+u*u)}onDisable(){Laya.InputManager.multiTouchEnabled=!1}};_m=H([cO("7cTqWb35RwygSkuWy4QkgQ")],_m);var hn=class hn extends Laya.ColorFilter{constructor(e=null){super(e)}static addClickFilter(e){let t=e.filters||[];t.push(hn.clickFilter),e.filters=t}static addHoverFilter(e){let t=e.filters||[];t.push(hn.hoverFilter),e.filters=t}static clearClickFilter(e){let t=e.filters;if(t!=null&&t.length>0){for(let s=t.length-1;s>-1;s--)t[s]instanceof hn&&t.splice(s,1);e.filters=t}}static clearHoverFilter(e){this.clearClickFilter(e)}};hn.clickFilter=new hn([1,0,0,0,-34,0,1,0,0,-34,0,0,1,0,-34,0,0,0,1,0]),hn.hoverFilter=new hn([1,0,0,0,-34,0,1,0,0,-34,0,0,1,0,-34,0,0,0,1,0]);var Yi=hn;rr();var{regClass:uO,property:pO}=Laya,Jl=class extends Laya.Script{constructor(){super();this.noSound=!1}onEnable(){this.owner.on(Laya.Event.MOUSE_DOWN,this,this.onDown),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onUp)}onDown(){this.noSound||qe.playSoundByName(qe.soundName_hit),Yi.addClickFilter(this.owner)}onUp(){Yi.clearClickFilter(this.owner)}onDisable(){Yi.clearClickFilter(this.owner),this.owner.off(Laya.Event.MOUSE_DOWN,this,this.onDown),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onUp)}};H([pO({type:"boolean"})],Jl.prototype,"noSound",2),Jl=H([uO("cL1AmqOiTHmtQWKayPNcTA")],Jl);ir();var{regClass:mO,property:Hpe}=Laya,dn=class extends Laya.Script{constructor(){super(...arguments);this.currentValue=0;this.targetValue=100;this.duration=2;this.dataMode=1}onAwake(){}startIncrement(t,s=2,n=1){this.targetValue=t,this.duration=s,this.dataMode=n,this.currentValue=0,this.updateText(),Laya.Tween.to(this,{currentValue:this.targetValue,update:new Laya.Handler(this,this.updateText)},this.duration*1e3,Laya.Ease.linearIn,null,null,!0)}updateText(){this.dataMode==1?this.owner.value=Math.round(this.currentValue).toString():this.dataMode==3?this.owner.value=Et.format(this.currentValue,":",!1):this.owner.value=this.currentValue.toFixed(2)}onDestroy(){Laya.Tween.clearAll(this)}};dn=H([mO("Uq3IEB9CSNSU6R4gjfo1lw")],dn);mt();Vt();Ji();rr();hm();ha();ua();Ni();fi();ut();We();ot();qt();Ze();ir();co();gi();var i_=class extends Laya.Scene{};XI();var{regClass:hO}=Laya,r_=class extends i_{constructor(){super(...arguments);this.liveNum=0;this.lastSeedRate=0;this.SnakeAINum=5;this.snakeAIArr=[]}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){var s=Ce.matchDto.startTime-Ce.matchDto.nowTime;s>0&&Oe.intance.openModule(w.MatchReadyView);var n=Ce.matchDto.arenaId,o=$.m_dicArenaDic.get(n);Ce.currArenaItem=o,this.list_rank.array=[];var l=this.map_1001;sr.gameMap=l,sr.img_smallMap=this.img_smallMap,it.sendCustumEvent(42),this.arenaNo.text="",this.init(),this.onInitEnd(this),this.playMusic(),this.closeReady()}closeReady(){Oe.intance.disposeView(w.MatchReadyView)}playMusic(){qe.playMusicByURL("mp3/battle.mp3"),ti.needPop=!1}init(){this.registerEvents(),this.btn_addSpeed.on(Laya.Event.MOUSE_DOWN,this,this.onTouchSpeedDown),this.btn_addSpeed.on(Laya.Event.MOUSE_UP,this,this.onTouchSpeedUp),this.btn_addSpeed.on(Laya.Event.MOUSE_OUT,this,this.onTouchSpeedUp),lo.init(this.gameLayer),lo.createData(),lo.startGame()}onTouchSpeedDown(t){if(t){var s=t.type;t.stopPropagation(),console.log("onTouchSpeedDown "+t.type)}this.lastSeedRate!=Q.snakeSpeedRate.speedUp&&(this.lastSeedRate=Q.snakeSpeedRate.speedUp,ne.getInstance().updateSpeedRate(Q.snakeType.SELF,Q.snakeSpeedRate.speedUp))}onTouchSpeedUp(t){if(t){var s=t.type;t.stopPropagation(),console.log("onTouchSpeedUp "+t.type),Yi.clearClickFilter(t.target)}this.lastSeedRate!=Q.snakeSpeedRate.default&&(this.lastSeedRate=Q.snakeSpeedRate.default,ne.getInstance().updateSpeedRate(Q.snakeType.SELF,Q.snakeSpeedRate.default))}onSpaceClick(t){t?(this.onTouchSpeedDown(null),Yi.addClickFilter(this.btn_addSpeed)):(this.onTouchSpeedUp(null),Yi.clearClickFilter(this.btn_addSpeed))}onInitEnd(t){t.startGameLoop(),t.updateBattleCD()}startGameLoop(){Laya.timer.frameLoop(10,this,this.gameLoop)}registerEvents(){v.on(E.LENGTH_CHANGE,this,this.updateLength),v.on(E.KILL_SNAKE,this,this.updateKills)}removeEvents(){v.off(E.LENGTH_CHANGE,this,this.updateLength),v.off(E.KILL_SNAKE,this,this.updateKills)}gameLoop(){ne.getInstance().selfSnake&&ne.getInstance().selfSnake.tag&&(this.updateLength(ne.getInstance().selfSnake.getSkinLength(!1)),this.updateKills(ne.getInstance().selfSnake.tag.kills),this.updateSnakeLengthRule()),ne.getInstance().matchHeroSprDic&&(this.list_rank.array=this.getSortPlayer(ne.getInstance().matchHeroSprDic.values),this.tf_remainer.text=this.liveNum+"")}updateSnakeLengthRule(){var t=ne.getInstance().selfSnake.tag.snakeId,s=ne.getInstance().selfSnake.getSkinLength(!1),n=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[t,s]),o=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[t,s+1]),l=ne.getInstance().selfSnake.getScore(!1);if(n&&o){var u=l-n.accumulatePoints,p=o.accumulatePoints-n.accumulatePoints;this.text_score.text=`${u}/${p}`;var m=u/p*-180;m<-180?m=-180:m>0&&(m=0),this.img_socre_mask.rotation>m?Laya.Tween.to(this.img_socre_mask,{rotation:m},100):(Laya.Tween.clearAll(this.img_socre_mask),this.img_socre_mask.rotation=m,this.img_socre_mask.rotation=m)}}updateKills(t){this.text_kill.text=`${t}`}updateLength(t){this.text_length.text=`${t}`}getSortPlayer(t){let n=t.slice().sort((u,p)=>p.getScore(!1)-u.getScore(!1)),o=[];this.liveNum=0;let l=1;return n.forEach(u=>{u.rankNum=l,u.tag!=null&&this.liveNum++,u.tag!=null&&(l<=10?o.push(u):u.tag.roleId===P.playerDto.pid&&(o.length>=10?o.splice(-1,1,u):o.push(u))),l++}),o}updateBattleCD(){Ce.matchCoolDownTime=Math.round(Ce.matchDto.remainderCd/1e3),Ce.matchCoolDownTime>0?(this.onSetCoolTime(),Laya.timer.loop(1e3,this,this.onSetCoolTime)):Laya.timer.clear(this,this.onSetCoolTime)}onSetCoolTime(){this.tf_reduceTime.text=Et.format(Ce.matchCoolDownTime,":",!1),Ce.matchCoolDownTime>=0?(this.tf_reduceTime.text=Et.format(Ce.matchCoolDownTime,":",!1),Ce.matchCoolDownTime<=10&&this.scaleEffect(),Ce.stopAll||Ce.matchCoolDownTime--):(Laya.timer.clear(this,this.onSetCoolTime),wr.onPveEnd())}scaleEffect(){var t=this;Laya.Tween.to(this.tf_reduceTime,{scaleX:1.3,scaleY:1.3},200,Laya.Ease.linearInOut,Laya.Handler.create(this,function(){Laya.Tween.to(t.tf_reduceTime,{scaleX:1,scaleY:1},200,Laya.Ease.linearInOut)}))}onGameSceneGray(){this.matchBox.gray=!0,Laya.timer.once(1e3,this,this.stopUpdate)}stopUpdate(){lo.endTimer()}onEnable(){v.on(E.EVENT_GameScene_Gray,this,this.onGameSceneGray),v.on(E.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.on(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown)}onKeyDown(t){t.keyCode===Laya.Keyboard.X&&Lr.getInstance().toggleVisible()}onWindowFocus(){}onDisable(){this.stopUpdate(),v.off(E.EVENT_GameScene_Gray,this,this.onGameSceneGray),v.off(E.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.off(Laya.Event.KEY_DOWN,this,this.onKeyDown),this.removeEvents(),Laya.stage.off(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.timer.clearAll(this),lo.clear(),Ce.clearData()}};r_=H([hO("xqHhdUJURkuoCmI0OKh8Kg")],r_);et();var s_=class extends Laya.Image{};var{regClass:dO}=Laya,n_=class extends s_{constructor(){super(...arguments);this.minScale=1;this.maxScale=1.2;this.minDuration=800;this.maxDuration=1200}init(t){this.skin=te.getFoodIcon(t.icon)}startScalingAnimation(){let t=this.minScale+Math.random()*(this.maxScale-this.minScale),s=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this,{scaleX:t,scaleY:t},s,null,Laya.Handler.create(this,()=>{let n=this.minScale+Math.random()*(1-this.minScale),o=this.minDuration+Math.random()*(this.maxDuration-this.minDuration);Laya.Tween.to(this,{scaleX:n,scaleY:n},o,null,Laya.Handler.create(this,this.startScalingAnimation))}),-1,!0)}onDisable(){Laya.Tween.clearAll(this)}};n_=H([dO("j4yWA5APT7ipho7IOx4ryg")],n_);Uy();zy();ua();mt();ut();We();ir();fi();hm();oS();var o_=class extends Laya.Scene{};Ni();ot();gi();Ze();rr();co();Sr();Er();Vt();qt();var{regClass:fO}=Laya,a_=class extends o_{constructor(){super(...arguments);this.liveNum=0;this.lastSeedRate=0;this.SnakeAINum=5;this.snakeAIArr=[]}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){this.list_rank.array=[];var s=this.map_1001;sr.gameMap=s,sr.img_smallMap=this.img_smallMap,this.init(),this.playMusic()}playMusic(){qe.playMusicByURL("mp3/battle.mp3"),ti.needPop=!1}init(){this.registerEvents(),this.btn_addSpeed.on(Laya.Event.MOUSE_DOWN,this,this.onTouchSpeedDown),this.btn_addSpeed.on(Laya.Event.MOUSE_UP,this,this.onTouchSpeedUp),this.btn_addSpeed.on(Laya.Event.MOUSE_OUT,this,this.onTouchSpeedUp),Tr.init(this.gameLayer)}onTouchSpeedDown(t){if(t){var s=t.type;t.stopPropagation(),console.log("onTouchSpeedDown "+t.type)}this.lastSeedRate!=Q.snakeSpeedRate.speedUp&&(this.lastSeedRate=Q.snakeSpeedRate.speedUp,ne.getInstance().updateSpeedRate(Q.snakeType.SELF,Q.snakeSpeedRate.speedUp))}onTouchSpeedUp(t){if(t){var s=t.type;t.stopPropagation(),console.log("onTouchSpeedUp "+t.type),Yi.clearClickFilter(t.target)}this.lastSeedRate!=Q.snakeSpeedRate.default&&(this.lastSeedRate=Q.snakeSpeedRate.default,ne.getInstance().updateSpeedRate(Q.snakeType.SELF,Q.snakeSpeedRate.default))}onSpaceClick(t){t?(this.onTouchSpeedDown(null),Yi.addClickFilter(this.btn_addSpeed)):(this.onTouchSpeedUp(null),Yi.clearClickFilter(this.btn_addSpeed))}startGameLoop(){Laya.timer.frameLoop(10,this,this.gameLoop)}registerEvents(){v.on(E.LENGTH_CHANGE,this,this.updateLength),v.on(E.KILL_SNAKE,this,this.updateKills)}removeEvents(){v.off(E.LENGTH_CHANGE,this,this.updateLength),v.off(E.KILL_SNAKE,this,this.updateKills)}gameLoop(){ne.getInstance().selfSnake&&ne.getInstance().selfSnake.tag&&(this.updateLength(ne.getInstance().selfSnake.getSkinLength(!0)),this.updateKills(ne.getInstance().selfSnake.tag.kills),this.updateSnakeLengthRule()),ne.getInstance().matchHeroSprDic&&(this.list_rank.array=this.getSortPlayer(ne.getInstance().matchHeroSprDic.values),this.tf_remainer.text=this.liveNum+"")}updateSnakeLengthRule(){var t=ne.getInstance().selfSnake.tag.snakeId,s=ne.getInstance().selfSnake.getSkinLength(!0),n=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[t,s]),o=$.getSheetDataByMultiKey($.m_dicSnakeLengthRules,[t,s+1]),l=ne.getInstance().selfSnake.getScore(!0);if(n&&o){var u=l-n.accumulatePoints,p=o.accumulatePoints-n.accumulatePoints;this.text_score.text=`${u}/${p}`;var m=u/p*-180;m<-180?m=-180:m>0&&(m=0),this.img_socre_mask.rotation>m?Laya.Tween.to(this.img_socre_mask,{rotation:m},100):(Laya.Tween.clearAll(this.img_socre_mask),this.img_socre_mask.rotation=m,this.img_socre_mask.rotation=m)}}updateKills(t){this.text_kill.text=`${t}`}updateLength(t){this.text_length.text=`${t}`}onInitData(){var t=Ce.matchDto.roomId;t?this.arenaNo.text=t+"":this.arenaNo.text="",Tr.createData(),Tr.startGame(),this.startGameLoop(),this.updateBattleCD(),Oe.intance.disposeView(w.MatchReadyView,"must")}onRestoreData(){Tr.clearTimer(),Tr.restoreData(),Tr.startGame()}getSortPlayer(t){let n=t.slice().sort((u,p)=>p.getScore(!0)-u.getScore(!0)),o=[];this.liveNum=0;let l=1;return n.forEach(u=>{u.rankNum=l,u.tag!=null&&this.liveNum++,u.tag!=null&&(l<=10?o.push(u):u.tag.roleId===P.playerDto.pid&&(o.length>=10?o.splice(-1,1,u):o.push(u))),l++}),o}updateBattleCD(){Ce.matchCoolDownTime=Math.round((Ce.matchDto.myPlayerObject.oprTime-Ce.matchDto.myPlayerObject.enterTime)/1e3),this.onSetCoolTime(),Laya.timer.loop(1e3,this,this.onSetCoolTime)}onSetCoolTime(){this.tf_reduceTime.text=Et.format(Ce.matchCoolDownTime,":",!1),Ce.stopAll||Ce.matchCoolDownTime++}onGameSceneGray(){this.matchBox.gray=!0,Laya.timer.once(1e3,this,this.stopUpdate)}stopUpdate(){ze.close(),Tr.endTimer()}onEnable(){v.on(E.EVENT_PVP_INIT_DATA,this,this.onInitData),v.on(E.EVENT_PVP_RESTORE_DATA,this,this.onRestoreData),v.on(E.EVENT_GameScene_Gray,this,this.onGameSceneGray),v.on(E.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.on(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown)}onKeyDown(t){t.keyCode===Laya.Keyboard.X&&Lr.getInstance().toggleVisible()}onWindowFocus(){ve.frameNetQueue.sendRestoreData()}onDisable(){this.stopUpdate(),v.off(E.EVENT_PVP_INIT_DATA,this,this.onInitData),v.off(E.EVENT_PVP_RESTORE_DATA,this,this.onRestoreData),v.off(E.EVENT_GameScene_Gray,this,this.onGameSceneGray),v.off(E.EVENT_CLICK_SPACE,this,this.onSpaceClick),Laya.stage.off(Laya.Event.KEY_DOWN,this,this.onKeyDown),this.removeEvents(),Laya.stage.off(Laya.Event.FOCUS,this,this.onWindowFocus),Laya.timer.clearAll(this),Tr.clear(),Ce.clearData()}};a_=H([fO("0r0gyiRERf6yXTGaGqWBvg")],a_);et();Vt();qt();var l_=class extends Laya.Box{};var{regClass:gO}=Laya,c_=class extends l_{constructor(){super()}set dataSource(t){super.dataSource=t,this.setData(t),this.addEvent()}addEvent(){this.btn_deposit.on(Laya.Event.CLICK,this,this.onDeposit),this.btn_withdraw.on(Laya.Event.CLICK,this,this.onWithdraw)}setData(t){if(t){this.data=t,this.tf_coinNum.text=`${t.balance}`,this.tf_freeze.text=`${t.frozen}`,this.tf_prize.text=`${t.price}`;let s=Number(t.valuation).toFixed(2);s.endsWith("0")&&(s=Number(t.valuation).toFixed(1),s.endsWith("0")&&(s=Number(t.valuation).toFixed(0))),this.tf_valu.text=s,this.img_coin.skin=te.getCurrencyIcon(t.symbolId),this.img_coin.visible=!0,this.tf_coin.text=t.symbol,t.withdraw?this.btn_withdraw.visible=!0:this.btn_withdraw.visible=!1,t.recharge?this.btn_deposit.visible=!0:this.btn_deposit.visible=!1}else this.visible=!1}onDeposit(){Oe.intance.openModule(w.DepositDialog,this.data)}onWithdraw(){Oe.intance.openModule(w.WithdrawDialog,this.data)}};c_=H([gO("oDHEPtPLT9SboHGJIeNVbA")],c_);var u_=class extends Laya.Scene{};wi();mt();nt();Rt();ut();var Bt=class{static startCircleAnimation(e,t=Laya.stage.width/2,s=Laya.stage.height/2,n=200,o=5e3,l=!0,u=0,p){Laya.Tween.clearTween(e);let m=e.x,d=e.y,f=0,g=l?1:-1,_=0,S=.5,x=2e3,I=0,M=()=>{I+=16;let A=1+Math.sin(I*Math.PI*2/x)*S;f+=360/o*16*A*g;let D=f*Math.PI/180;e.x=t+Math.cos(D)*n,e.y=s+Math.sin(D)*n,Math.abs(f)>=360&&(f=f%360,_++,u>0&&_>=u&&(Laya.timer.clear(e,M),e.x=m,e.y=d,p&&p.run()))};Laya.timer.frameLoop(1,e,M)}static stopCircleAnimation(e){Laya.timer.clearAll(e),Laya.Tween.clearTween(e)}static startCircleAnimationWithSpeedControl(e,t=Laya.stage.width/2,s=Laya.stage.height/2,n=200,o=5e3,l=!0,u=0,p=.5,m=2e3,d){Laya.Tween.clearTween(e);let f=e.x,g=e.y,_=0,S=l?1:-1,x=0,I=0,M=()=>{I+=16;let A=1+Math.sin(I*Math.PI*2/m)*p;_+=360/o*16*A*S;let D=_*Math.PI/180;e.x=t+Math.cos(D)*n,e.y=s+Math.sin(D)*n,Math.abs(_)>=360&&(_=_%360,x++,u>0&&x>=u&&(Laya.timer.clear(e,M),e.x=f,e.y=g,d&&d.run()))};Laya.timer.frameLoop(1,e,M)}static startRotationAnimation(e,t=2e3,s=!0){this.stopRotationAnimation(e);let n="rotation_"+Date.now().toString(),o=s?1:-1,l=360/t*16*o,u=()=>{e.rotation=(e.rotation+l)%360},p="updateRotation_"+n;return e[p]=u,e.rotationAnimationId=n,Laya.timer.frameLoop(1,e,u),n}static stopRotationAnimation(e){if(e.rotationAnimationId){let t="updateRotation_"+e.rotationAnimationId,s=e[t];s?Laya.timer.clear(e,s):Laya.timer.clearAll(e),delete e.rotationAnimationId,s&&delete e[t]}}static startElasticPopupAnimation(e,t=150,s=1.1,n=100,o=.95,l=80,u){Laya.Tween.clearAll(e),e.scale(0,0),e.visible=!0,Laya.Tween.to(e,{scaleX:s,scaleY:s},t,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:o,scaleY:o},n,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},l,Laya.Ease.linearNone,u)}))}))}static stopElasticPopupAnimation(e){Laya.Tween.clearAll(e)}static startLinearShrinkAnimation(e,t=80,s){Laya.Tween.clearAll(e),Laya.Tween.to(e,{scaleX:0,scaleY:0},t,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{e.visible=!1,s&&s.run()}))}static startJellyScaleAnimation(e,t=1.2,s=120,n=.85,o=90,l=80,u){Laya.Tween.clearAll(e),e.scale(1,1),e.visible=!0,Laya.Tween.to(e,{scaleX:t,scaleY:t},s,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:n,scaleY:n},o,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},l,Laya.Ease.linearNone,u)}))}))}static playSpineAnimation(e,t=!1,s){let n=e.getChildByName("box_sk");return n?(n.play(null,t),s&&(n.once(Laya.Event.COMPLETE,null,()=>{s()}),t&&s()),!0):(console.warn("未找到box_sk Spine组件"),!1)}};Cr();Ri();We();Pt();var{regClass:bO}=Laya,fn=class extends u_{constructor(){super(...arguments);this.m_currentTabIndex=0;this.assetChangeData=[];this.currentAssetChangePage=1;this.isLoadingAssetChange=!1;this.hasMoreAssetChange=!0;this.assetChangePageSize=20}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onEnable(){this.btn_back&&this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.list_Record.visible=!1,this.list_RecordLiquit.visible=!1,this.btn_back_Record.on(Laya.Event.CLICK,this,this.openRecord,[!1]),this.btn_detail.on(Laya.Event.CLICK,this,this.openRecord,[!0]),v.on(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),v.on(E.UPDATE_ASSETS,this,this.onUpdateAssets),v.on("msg_"+y.snake.socket.MessageType.MSG_CHARGE_RECORD,this,this.onChargeRecord),v.on("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW_RECORD,this,this.onWithdrawRecord),v.on("msg_"+y.snake.socket.MessageType.MSG_TOKEN_CHANGE_RECORD,this,this.onAssetChangeRecord),this.list_asset.visible=!1,xt.requestCoinInfo(),Bt.startJellyScaleAnimation(this.tf_tittle);for(let t=0;t<3;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t,!1]);this.list_RecordLiquit.scrollBar.on(Laya.Event.CHANGE,this,this.onRecordListScroll)}onDisable(){v.off(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),v.off(E.UPDATE_ASSETS,this,this.onUpdateAssets),v.off("msg_"+y.snake.socket.MessageType.MSG_CHARGE_RECORD,this,this.onChargeRecord),v.off("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW_RECORD,this,this.onWithdrawRecord),v.off("msg_"+y.snake.socket.MessageType.MSG_TOKEN_CHANGE_RECORD,this,this.onAssetChangeRecord),this.btn_detail.off(Laya.Event.CLICK,this,this.openRecord,[!0]),this.btn_back_Record.off(Laya.Event.CLICK,this,this.openRecord),this.list_RecordLiquit.scrollBar.off(Laya.Event.CHANGE,this,this.onRecordListScroll)}onUpdateAssets(){xt.requestCoinInfo()}onTokenBalanceUpdate(t){this.showAssetData(t)}showAssetData(t){this.list_asset.array=t,this.list_asset.visible=!0;let s=this.calculateTotalValue(t).toFixed(2);s.endsWith("0")&&(s=this.calculateTotalValue(t).toFixed(1),s.endsWith("0")&&(s=this.calculateTotalValue(t).toFixed(0))),this.tf_total.text=`${s} USDT`}calculateTotalValue(t){try{return t.reduce((s,n)=>{let o=n.balance,l=n.price;return isNaN(o)||isNaN(l)?s:s+n.valuation},0)}catch(s){return console.error("计算资产总额时发生错误:",s),0}}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}openRecord(t){this.box_record.visible=t,this.box_all.visible=!t,t?this.onTabClick(this.m_currentTabIndex,!0):this.list_Record.visible=!1}onTabClick(t,s=!1){if(this.m_currentTabIndex===t&&!s)return;this.m_currentTabIndex=t;let n=3,o="res/common/comm/img_tab1.png",l="res/common/comm/img_tab2.png",u="#427030",p="#1449cb";for(let m=0;m<n;m++){let d=this[`tab${m}`],f=d.getChildByName("tf_tit"),g=t===m;if(d.skin=g?o:l,f.strokeColor=g?u:p,g)switch(fn.isDepositRecord=t===0,t){case 0:this.list_RecordLiquit.visible=!1,ge.send(y.snake.socket.MessageType.MSG_CHARGE_RECORD);break;case 1:this.list_RecordLiquit.visible=!1,ge.send(y.snake.socket.MessageType.MSG_WITHDRAW_RECORD);break;case 2:this.list_Record.visible=!1,this.resetAssetChangeList();break}}}onChargeRecord(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CHARGE_RECORD);s==y.snake.socket.MessageCode.SYS_NORMAL&&(this.list_Record.array=n.resp||[],this.list_Record.visible=!0)}onWithdrawRecord(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_WITHDRAW_RECORD);s==y.snake.socket.MessageCode.SYS_NORMAL&&(this.list_Record.array=n.resp||[],this.list_Record.visible=!0)}resetAssetChangeList(){this.currentAssetChangePage=1,this.isLoadingAssetChange=!1,this.hasMoreAssetChange=!0,this.assetChangeData=[],this.getAssetChangeData()}getAssetChangeData(){this.isLoadingAssetChange=!0;let t=new y.snake.socket.CS_TOKEN_CHANGE_RECORD({pageNo:this.currentAssetChangePage,pageSize:this.assetChangePageSize}),s=y.snake.socket.MessageType.MSG_TOKEN_CHANGE_RECORD;ge.send(s,t)}onAssetChangeRecord(t,s){if(this.isLoadingAssetChange=!1,s==y.snake.socket.MessageCode.SYS_NORMAL){let n=_e.getMsgBody(t,y.snake.socket.SC_TOKEN_CHANGE_RECORD);if(n&&n.records&&n.records.length>0){let o=n.records.map(l=>l);this.assetChangeData=this.assetChangeData.concat(o),this.list_RecordLiquit.array=this.assetChangeData,this.list_RecordLiquit.visible=!0}else this.hasMoreAssetChange=!1,this.currentAssetChangePage===1&&(this.list_RecordLiquit.array=[],this.list_RecordLiquit.visible=!0)}else this.currentAssetChangePage>1&&this.currentAssetChangePage--}onRecordListScroll(){if(this.m_currentTabIndex!==2||this.isLoadingAssetChange||!this.hasMoreAssetChange)return;let t=this.list_RecordLiquit.scrollBar,s=t.value,n=t.max;n>0&&s>=n*.8&&this.loadNextAssetChangePage()}loadNextAssetChangePage(){this.isLoadingAssetChange=!0,this.currentAssetChangePage++,this.getAssetChangeData()}};fn.isDepositRecord=!0,fn=H([bO("vDn8r-QeS5KzEmJcMsoY8w")],fn);Xe();et();ir();var p_=class extends Laya.Box{};var{regClass:yO}=Laya,m_=class extends p_{constructor(){super()}set dataSource(e){if(super.dataSource=e,!e){this.visible=!1;return}console.log("data",e);let t=JSON.parse(e),{createTime:s,coinType:n,assetsChange:o,businessType:l}=t,{date:u,time:p}=Et.formatDayAndTime(s);this.tf_time.text=`${u}  ${p}`,this.img_coinType.skin=te.getMoneyIcon(n),this.tf_amounte.text=`${o}`,this.tf_token.text=`${t.symbol}`,this.tf_operate.text=O.getLanguage(l);let m=this.parent?.parent?.array?.indexOf(e)??0;this.img_bg.visible=m%2===1}};m_=H([yO("lRu3eTzdRxW0heIDaqtjEg")],m_);my();Qu();We();nt();Rt();var h_=class extends Laya.Dialog{};gr();ux();ds();ot();lr();my();We();mx();ut();oi();Xe();ds();ot();lr();ni();var RS=class i{constructor(){this.assets_contract=null;this.startRecharge=!1}static getInstance(){return i._instance||(i._instance=new i),i._instance}async init(){typeof window.ethereum>"u"||(v.on(E.EVENT_RECHARGE_GET,this,this.rechargeEnd),this.assets_contract=new window.web3.eth.Contract(ai.WITHDRAW_AND_RECHARGE_ABI,ai.WITHDRAW_AND_RECHARGE_ADDRESS))}async depositWallet(e,t){if(gt.showLoading(!0),!await He.allowanceAddressByTokenAddress(ai.WITHDRAW_AND_RECHARGE_ADDRESS,e)){gt.hideLoading(),Me.notice(O.getLanguage(23));return}return t=window.web3.utils.toWei(t+""),await this.assets_contract.methods.recharge(e.toLowerCase(),t).send({from:He.walletAddress},(n,o)=>{if(n)return gt.hideLoading(),!1}),!0}async rechargeToken(e){try{let{amount:t,token:s,rechargeAddress:n,decimals:o=18,abi:l}=e;if(s!==ai.ADDRESS0&&!await He.newAllowanceAddress(n,s))return gt.hideLoading(),Me.notice(O.getLanguage(23)),!1;let u=lI(t+"",o),p="depositToken",m;!s||s==ai.ADDRESS0?m=await He.walletClient.writeContract({account:He.walletAddress,address:n,abi:l,functionName:"depositETH",value:u,args:[100001]}):m=await He.walletClient.writeContract({account:He.walletAddress,address:n,abi:l,functionName:p,args:[s,u,100001]}),this.startRecharge=!0,Laya.timer.once(6e4,this,this.clearRecharge);let d,f=!1;if(d=await He.publicClient.waitForTransactionReceipt({hash:m,pollingInterval:1e3}),d&&d.status=="success"||f){if(!this.startRecharge)return;Laya.timer.clear(this,this.clearRecharge),console.log(`Tx successful with hash: ${m}`);let _=[await He.walletClient.getChainId(),m];return gt.hideLoading(),m}else{gt.hideLoading(),se.TransactionErrorTip();return}}catch(t){gt.hideLoading(),console.log(t),t instanceof Error?t.message.includes("does not match the target chain for the transaction")?v.event(E.CHANGE_ASSET_CHAIN):console.log("Error message does not contain the specified character."):console.log("An error occurred, but it is not an instance of Error.")}}async getReward(e,t){}rechargeEnd(){P.rechargeEnd=!1,Laya.timer.clear(this,this.getReward)}clearRecharge(){this.startRecharge=!1,gt.hideLoading(),Me.notice(O.getLanguage(45)),this.rechargeEnd()}},I2=RS.getInstance();Pt();Xe();var{regClass:_O}=Laya,d_=class extends h_{constructor(){super();this.btnLock=!1}onEnable(){v.on("msg_"+y.snake.socket.MessageType.MSG_CHARGE,this,this.onRequestChargeInfo),this.btn_confirm.on(Laya.Event.CLICK,this,this.onbtnConfirm),this.rechargeCode.on(Laya.Event.INPUT,this,this.testRechargeCodeInput)}setOpenData(t){this.tf_adress.text=at.shortenString(He.walletAddress,6,4),this.data=t,this.tf_web.text=t.chainName,this.tf_token.text=t.symbol,console.log("data",t),this.requestChargeInfo()}requestChargeInfo(){let t=y.snake.socket.MessageType.MSG_CHARGE,s=this.data.symbolId,n=y.snake.socket.CS_CHARGE.fromObject({symbolId:s});ge.send(t,n)}onRequestChargeInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CHARGE);s==y.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CHARGE",n),this.rechargeData=n,this.setDepositData(n))}async setDepositData(t){let s=await He.walletClient.getChainId(),n=Number(t.chainId);try{if(s!==n&&!await He.switchChain(n)){await He.addChain(n)&&this.setDepositData(t);return}let o=await He.getBalance2(this.data.tokenAddress),l=this.data.decimals,u=Bn(o,l);this.tf_rest.text=`${at.truncateToTwoDecimalPlaces(Number(u))}`,console.log("tokenBalance",o)}catch(o){console.log("切换失败，请手动切换",o)}}async onbtnConfirm(){if(this.btnLock)return;this.btnLock=!0,Laya.timer.once(2e3,this,()=>{this.btnLock=!1}),this.testRechargeCodeInput();let t=Number(this.tf_rest.text),s=Number(this.rechargeCode.text),n=await He.walletClient.getChainId(),o=Number(this.data.chainId);try{if(n!==o&&!await He.switchChain(o)){await He.addChain(o)&&this.onbtnConfirm();return}}catch(m){console.log("切换失败，请手动切换",m)}if(!s){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(53),Ne.YES);return}if(t<s){Mi.AlertByType(Ne.BASEALERTVIEW,O.getLanguage(54),Ne.YES);return}gt.showLoadingByInfo();let l=JSON.parse(this.rechargeData.abi);console.log(l);let u={amount:s,token:this.data.tokenAddress,rechargeAddress:this.rechargeData.depositAddress,decimals:this.data.decimals,abi:l};await I2.rechargeToken(u)&&(this.getRestCoin(this.data.tokenAddress),P.rechargeEnd=!0)}testRechargeCodeInput(){let t=this.rechargeCode.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let n="";for(let o=0;o<t.length;o++){let l=t.charAt(o);(l>="0"&&l<="9"||l==="."&&n.indexOf(".")===-1)&&(n+=l)}this.rechargeCode.text=n}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.rechargeCode.text=t.substring(1))}}async getRestCoin(t){try{let s=await He.getBalance2(t);if(s){let n=Bn(s,this.data.decimals);this.tf_rest.text=`${at.truncateToTwoDecimalPlaces(Number(n))}`}gt.hideLoading()}catch(s){console.error("获取余额失败",s),gt.hideLoading()}}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_CHARGE,this,this.onRequestChargeInfo),this.rechargeCode.off(Laya.Event.INPUT,this,this.testRechargeCodeInput)}};d_=H([_O("O0v8EHpMT0-wWgB8t3D14A")],d_);var f_=class extends Laya.Dialog{};var{regClass:xO}=Laya,g_=class extends f_{constructor(){super()}onEnable(){this.list_champ.visible=!1}onDisable(){}};g_=H([xO("y0xiZs-qSDWRAXN_oE10yg")],g_);et();ir();var b_=class extends Laya.Box{};var{regClass:vO}=Laya,y_=class extends b_{constructor(){super()}set dataSource(e){if(super.dataSource=e,!e){this.visible=!1;return}let t=JSON.parse(e),{createTime:s,coinType:n,amount:o}=t,{date:l,time:u}=Et.formatDayAndTime(s);this.tf_time.text=`${l}  ${u}`,this.img_coinType.skin=te.getMoneyIcon(n),this.tf_amounte.text=`${o}`,this.tf_token.text=`${t.symbol}`,this.tf_operate.text=fn.isDepositRecord?"Deposit":"Withdraw";let p=this.parent?.parent?.array?.indexOf(e)??0;this.img_bg.visible=p%2===1}};y_=H([vO("tbS8gPlOTWuMdXb9g8wZAg")],y_);var __=class extends Laya.Dialog{};We();nt();Rt();mt();gr();ut();Xe();ds();lr();ni();Pt();var{regClass:IO}=Laya,x_=class extends __{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.btnLock=!1;this.withDrawData=null;this.withdrawText=null}onEnable(){v.on("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW,this,this.onRequestWithdraw),v.on("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW_INFO,this,this.onRequestChargeInfo),v.on(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),this.btn_withdraw.on(Laya.Event.CLICK,this,this.onBtnWithdraw),this.withdrawText=this.withdrawCode.prompt,this.withdrawCode.on(Laya.Event.INPUT,this,this.testRechargeCodeInput)}setOpenData(t){this.data=t,this.showWithDrawData(t),this.requestChargeInfo(),console.log("data",t)}async showWithDrawData(t){let s=He.walletAddress;this.tf_address.text=at.shortenString(s,6,4),this.tf_token.text=t.symbol,this.tf_web.text=t.chainName,this.tf_appAmount.text=`${t.balance}`}requestChargeInfo(){let t=y.snake.socket.MessageType.MSG_WITHDRAW_INFO,s=this.data.symbolId,n=y.snake.socket.CS_WITHDRAW_INFO.fromObject({symbolId:s});ge.send(t,n)}async onBtnWithdraw(){if(this.btnLock)return;this.btnLock=!0,Laya.timer.once(2e3,this,()=>{this.btnLock=!1}),this.testWithdrawCodeInput();let t=Number(this.withdrawCode.text);if(!t){Me.notice(O.getLanguage(63));return}let s=Number(this.tf_appAmount.text);if(t>s){Me.notice(O.getLanguage(64));return}if(t>this.withDrawData.maxLimit){Me.notice(O.getLanguage(65));return}else if(t<this.withDrawData.minLimit){Me.notice(O.getLanguage(66));return}gt.showLoadingByInfo();let n=y.snake.socket.MessageType.MSG_WITHDRAW,o=y.snake.socket.CS_WITHDRAW.fromObject({symbolId:this.data.symbolId,amount:t});ge.send(n,o)}onRequestWithdraw(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_WITHDRAW);if(s==y.snake.socket.MessageCode.SYS_NORMAL){Me.notice(O.getLanguage(67)),console.log("SC_WITHDRAW MsgBody",n);let o=JSON.parse(n.resp);console.log("resp",o),gt.hideLoading(),v.event(E.UPDATE_ASSETS)}}onRechargewithdrawCodeInput(){let t=Number(this.withdrawCode.text),s=at.isNumber(this.withdrawCode.text);(t<0||!s)&&this.withdrawCode.text!==this.withdrawText&&(this.withdrawCode.text="0");let n=at.multiplyWithPrecision(this.withDrawData.feeRate/100,t);this.tf_arrive.text=`${at.subtractWithPrecision(t,Number(n))}`}testWithdrawCodeInput(){let t=this.withdrawCode.text;if(t&&!/^[0-9]+\.?[0-9]*$/.test(t)){this.withdrawCode.text="",Me.notice(O.getLanguage(1802));return}}onRequestChargeInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_WITHDRAW_INFO);if(s==y.snake.socket.MessageCode.SYS_NORMAL){console.log("CS_WITHDRAW_INFO",n);let o=JSON.parse(n.resp);this.withDrawData=o,console.log("resp",o),this.showWithdrawData()}}showWithdrawData(){this.tf_fee.text=`${this.withDrawData.feeRate}%`}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW,this,this.onRequestWithdraw),v.off("msg_"+y.snake.socket.MessageType.MSG_WITHDRAW_INFO,this,this.onRequestChargeInfo),v.off(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate),this.withdrawCode.off(Laya.Event.INPUT,this,this.onRechargewithdrawCodeInput),this.btn_withdraw.off(Laya.Event.CLICK,this,this.onBtnWithdraw)}onTokenBalanceUpdate(t){if(!this.data||!t)return;let s=t.find(n=>n.symbolId===this.data.symbolId);s&&(this.data.balance=s.balance,this.tf_appAmount.text=`${s.balance}`)}testRechargeCodeInput(){let t=this.withdrawCode.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let l="";for(let u=0;u<t.length;u++){let p=t.charAt(u);(p>="0"&&p<="9"||p==="."&&l.indexOf(".")===-1)&&(l+=p)}this.withdrawCode.text=l}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.withdrawCode.text=t.substring(1))}let s=Number(this.withdrawCode.text),n=at.multiplyWithPrecision(this.withDrawData.feeRate/100,s);this.tf_arrive.text=`${at.subtractWithPrecision(s,Number(n))}`}};x_=H([IO("-G96ocIBRFacV4Xozyt5NQ")],x_);wi();mt();Ri();ut();We();mn();Ze();nt();Rt();var v_=class extends Laya.Scene{};Pt();var{regClass:SO}=Laya,I_=class extends v_{constructor(){super(...arguments);this.currTab=0;this.type=1;this.selectItemId=-1;this.shopId=1}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){t&&t.length>0?(this.type=t[0],t[1]!=null&&(this.selectItemId=t[1]),this.onClickTab(this.type)):(this.selectItemId=1,this.onClickTab(this.selectItemId)),this.initBagInfo()}onEnable(){this.snakeList.visible=!1,this.propList.visible=!1;for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);Bt.startJellyScaleAnimation(this.tf_tittle),v.on("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),v.on(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.on(E.EVENT_SNAKE_UPDATE,this,this.onSnakePackInfo),v.on(E.UPDATE_BAG_INFO,this,this.initBagInfo)}setTab(t){for(let s=1;s<3;s++)t==s?(this["btn_"+s].getChildByName("selectBox1").visible=!0,this["btn_"+s].getChildByName("selectBox2").visible=!1):(this["btn_"+s].getChildByName("selectBox1").visible=!1,this["btn_"+s].getChildByName("selectBox2").visible=!0)}async onClickTab(t){this.currTab!=t&&(this.type=t,this.setTab(t),t==1?(this.box_nft.visible=!0,this.box_prop.visible=!1,this.tf_nft.stroke=5,this.tf_nft.fontSize=32,this.tf_props.stroke=0,this.tf_props.fontSize=25):t==2&&(this.box_prop.visible=!0,this.box_nft.visible=!1,this.tf_nft.stroke=0,this.tf_nft.fontSize=25,this.tf_props.stroke=5,this.tf_props.fontSize=32))}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}onTabClick(t){let n="res/shop/img_Button_1.png",o="res/shop/img_btlv.png",l="res/shop/img_bt1_2.png",u="res/shop/img_Button_4.png",p="#009815";for(let d=1;d<3;d++){let f=this[`btn${d}`],g=f.getChildByName("tf_tit"),_=t===d,S=d===0;this.selectItemId=t,f.skin=S?_?n:l:_?o:u,g.stroke=_?5:0,g.strokeColor=p}}onBuySuccess(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_SHOP_BUY);s==y.snake.socket.MessageCode.SYS_NORMAL?n&&n.items&&Laya.Scene.open("dialog/TipsDialog",!1,{content:"购买成功!",autoClose:!0}):Laya.Scene.open("dialog/TipsDialog",!1,{content:"购买失败，请稍后重试",autoClose:!0})}onRecruit(t=1){let s=y.snake.socket.MessageType.MSG_SHOP_BUY;var n=$.m_dicSnakes.get(this.shopId);if(console.log(n),this.shopId){let o=y.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopId});ge.send(s,o)}}initBagInfo(){let t=y.snake.socket.MessageType.MSG_PACK_INFO;ge.send(t)}onPackInfo(){var t=Ei.getAllKnapsackItems();let s=t.filter(n=>n.id!==10001&&n.num>0);this.propList.array=s,this.propList.visible=!0}onSnakePackInfo(){let t=Ei.getAllSnakeItems();console.log("蛇信息返回处理",t);let s={id:-999,isShopEntry:!0};this.snakeList.array=[...t,s],this.snakeList.visible=!0}onDisable(){for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab);v.off("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),v.off(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.off(E.EVENT_SNAKE_UPDATE,this,this.onSnakePackInfo),v.off(E.UPDATE_BAG_INFO,this,this.initBagInfo)}};I_=H([SO("fGHujQp_QpOG4OhbMXNszQ")],I_);Xe();et();Vt();qt();var S_=class extends Laya.Box{};nt();Rt();wi();Ri();Ze();We();ot();Pt();ni();var{regClass:kO}=Laya,k_=class extends S_{constructor(){super()}onEnable(){this.btn_upgrade.on(Laya.Event.CLICK,this,this.toUpGradeDialog),this.btn_battle.on(Laya.Event.CLICK,this,this.onBattleClick)}onDisable(){this.btn_upgrade.off(Laya.Event.CLICK,this,this.toUpGradeDialog),this.btn_battle.off(Laya.Event.CLICK,this,this.onBattleClick),this.box_emply.off(Laya.Event.CLICK,this,this.toShopScene),v.off("msg_"+y.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback)}set dataSource(t){if(super.dataSource=t,!t)return;if(t.isShopEntry){this.box_emply.visible=!0,this.box_nft.visible=!1,this.box_emply.hasListener(Laya.Event.CLICK)||this.box_emply.on(Laya.Event.CLICK,this,this.toShopScene);return}this.box_emply.visible=!1,this.box_nft.visible=!0,this.nftItem=t;let s=$.m_dicItems.get(this.nftItem.id);this.tf_name.text=O.getLanguage(s.name),this.img_icon.skin=te.getSnakeIcon(this.nftItem.skin||101);let n=!this.nftItem.upgrade;this.btn_upgrade.visible=!n;let o=P.playerDto.snakeId==this.nftItem.unkey;this.Img_battleState.visible=o,this.btn_battle.visible=!o,n?this.btn_battle.x=58:(this.btn_battle.x=6,this.btn_upgrade.x=o?58:111)}toUpGradeDialog(){Oe.intance.openModule(w.SnakeUpgradeDialog,this.nftItem)}onBattleClick(){if(!this.nftItem)return;let t=y.snake.socket.MessageType.MSG_SNAKE_FIGHT;v.off("msg_"+y.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback),v.on("msg_"+y.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback);let s=y.snake.socket.CS_SNAKE_FIGHT.fromObject({unkey:this.nftItem.unkey});ge.send(t,s)}onBattleCallback(t,s){if(s==y.snake.socket.MessageCode.SYS_NORMAL){var n=_e.getMsgBody(t,y.snake.socket.CS_SNAKE_FIGHT);console.log(n),Me.notice(O.getLanguage(75)),P.playerDto.snakeId=n.unkey,v.off("msg_"+y.snake.socket.MessageType.MSG_SNAKE_FIGHT,this,this.onBattleCallback);let o=y.snake.socket.MessageType.MSG_PACK_INFO;ge.send(o)}}toShopScene(){je.setCurrentScene(he.M_SCENE_SHOP)}};k_=H([kO("GyHLyzIaRva11NfPDbiBfw")],k_);Xe();et();Ze();var E_=class extends Laya.Box{};var{regClass:EO}=Laya,L_=class extends E_{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toShowBuyDialog)}set dataSource(t){if(super.dataSource=t,this.propItem=t,!this.propItem){this.visible=!1;return}this.visible=!0;let s=$.m_dicItems.get(this.propItem.id);if(!s){this.visible=!1;return}this.updateUI(s)}updateUI(t){this.tf_name.text=O.getLanguage(t.name),this.tf_num.text=`x${this.propItem.num}`,this.img_icon.skin=te.getItemIcon(t.icon)}toShowBuyDialog(){console.log("点击事件")}};L_=H([EO("TqPcmjhTSVerr9-YhbASXA")],L_);Xe();mt();Vt();ut();We();mn();qt();Ze();nt();Rt();var w_=class extends Laya.Dialog{};Pt();rr();et();var{regClass:LO}=Laya,T_=class extends w_{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),this.btn_upgrade.on(Laya.Event.CLICK,this,this.onUpdateClick),v.on("msg_"+y.snake.socket.MessageType.MSG_SNAKE_UPGRADE,this,this.onUpgradeCallback)}setOpenData(t){t&&(this.nftItem=t,this.initProp())}initProp(){let t=[1201,1202,1203,1204,1205],s=!0;for(let n=0;n<t.length;n++){let o=$.m_dicItems.get(t[n]);if(o){let l=this["item_"+n];if(l){let u=l.getChildByName("tf_name"),p=l.getChildByName("img_icon"),m=Ei.getKnapsackItemCount(t[n]);u.text=`${O.getLanguage(o.name)} x${m}`,p.skin=te.getItemIcon(o.icon),console.log("num",m),m<1&&(s=!1)}}}}onUpdateClick(){this.close();let t=y.snake.socket.MessageType.MSG_SNAKE_UPGRADE,s=y.snake.socket.CS_SNAKE_UPGRADE.fromObject({unkey:this.nftItem.unkey});ge.send(t,s)}onUpgradeCallback(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_SNAKE_UPGRADE);if(s==y.snake.socket.MessageCode.SYS_NORMAL){qe.playSoundByName(qe.soundName_snakeUpdate),n&&(v.event(E.UPDATE_BAG_INFO),Oe.intance.openModule(w.SnakeUpgradeSuccessDialog,n));let o=y.snake.socket.MessageType.MSG_PACK_INFO;ge.send(o)}}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_SNAKE_UPGRADE,this,this.onUpgradeCallback)}};T_=H([LO("K6ZKHKhaTvCBmQcFdrneHQ")],T_);Xe();mt();var C_=class extends Laya.Dialog{};var{regClass:wO}=Laya,A_=class extends C_{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){this.alertTitle.text=O.getLanguage(74),this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),this.initProp()}setOpenData(t){if(t){let s=t.snake.attr;for(let n=0;n<s.length;n++)if(s[n]){let o=s[n].split(","),l=o[0],u=o[1];this["upgradeAwarditem_"+l].getChildByName("tf_award").text=u}}}onDisable(){}initProp(){Bt.startElasticPopupAnimation(this.img_di,150,1.1,100,.95,80),this.box_snake.source="gameIcon/spine/snakeUpgrade/img_shengj.json",this.box_snake.on(Laya.Event.COMPLETE,this,this.onAnimationComplete),Laya.timer.once(1300,this,this.onAnimationComplete)}onAnimationComplete(){this.box_snake.off(Laya.Event.COMPLETE,this,this.onAnimationComplete),this.box_snake.animationName==="animation1"&&this.box_snake.play("animation2",!0)}};A_=H([wO("OjPqAteAQeOIAjHFO-yihA")],A_);Qu();mt();var M_=class extends Laya.Dialog{};var{regClass:TO}=Laya,R_=class extends M_{constructor(){super();this.destroyDoCancel=!1;this.canClose=!0;this.m_iLayerType=ee.M_TOP}onEnable(){this.on(Laya.Event.CLICK,this,this.onClickEvent)}onClickEvent(t){let s=t.target;s.name=="okBtn"?(this._okHandler&&this._okHandler.runWith(null),this.close()):(s.name=="cancleBtn"||s.name=="btn_close")&&(this.destroyDoCancel=!1,this._cancelHandler&&this._cancelHandler.runWith(null),this.close())}setOpenData(t){t&&(this._okHandler=t.okHandler,this._cancelHandler=t.cancelHandler,this.destroyDoCancel=t.destroyDoCancel,t.flag<0?(this.cancleBtn.visible=!1,this.okBtn.visible=!1,this.canClose=!1):t.flag&Ne.YES&&!(t.flag&Ne.NO)?(this.okBtn.x=this.width-this.okBtn.width>>1,this.cancleBtn.visible=!1,this.okBtn.label="OK"):t.flag&Ne.NO&&!(t.flag&Ne.YES)?this.okBtn.visible=!1:t.flag&Ne.YES&&t.flag&Ne.NO,t.data&&this.alertDesc&&(t.data instanceof Array?(this.alertTitle.text=t.data[0],this.alertDesc.text=t.data[1]):this.alertDesc.text=t.data),t.initHandler&&t.initHandler.runWith(this))}onDisable(){this.destroyDoCancel&&this._cancelHandler&&this._cancelHandler.run(),this._okHandler=null,this._cancelHandler=null}close(t){this.canClose&&super.close(t)}};R_=H([TO("8G0DBvD7T_2CVupdfQXrBw")],R_);mt();cn();var B_=class extends Laya.Dialog{};Xe();ot();nt();Rt();var{regClass:CO}=Laya,D_=class extends B_{constructor(){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.headId=0;this.headNew=0}setOpenData(t){t&&t.length>0&&(this.headId=t[0],this.headNew=t[0])}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.btn_close.on(Laya.Event.CLICK,this,this.close),this.initContainer()}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList()}handleSelectHead(t){if(t!=-1){let s=this.list_head.selectedItem;this.headNew=s}}createHeadList(){let t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16];this.list_head.array=t,this.list_head.visible=!0;let s=-1,n=0;for(let o of t){if(o==this.headId){s=n;break}n++}this.list_head.selectedIndex=s}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,s=O.getUILang("Upload picture"),n=O.getUILang("Select Image"),o=O.getUILang("Save changes");openUploadPic(this,t,s,n,o)}async openPicEnd(t,s){if(s.length>500){let n=await ei.requestPost("wxgame/player/uploadImg",{base64Str:s},!1,!1);n&&(P.headId=n.imgUrl,console.log(n.imgUrl))}}onChangeClubHead(){if(this.headId===this.headNew){this.close();return}this.sendChangeInfoRequest(this.headNew)}sendChangeInfoRequest(t){let s=y.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,n=y.snake.socket.CS_CLUB_CHANGE_INFO.fromObject({type:1,value:t.toString()});ge.send(s,n),this.close()}onDisable(){this.btn_confirm.off(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_custom.off(Laya.Event.CLICK,this,this.onBtnChangePic)}};D_=H([CO("HBE3SmMAQpGmkMrOFuAVQQ")],D_);et();var O_=class extends Laya.Box{};var{regClass:AO}=Laya,N_=class extends O_{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.playerDto=t,this.playerDto&&(this.addEvent(),this.setCurrentOutPut())}set headSkin(t){parseInt(t)>0?this.img_head.skin=te.getClubIcon(t):this.setImage(t)}async setCurrentOutPut(){if(!this.playerDto)return;let t=this.playerDto.icon;parseInt(t)>0?this.img_head.skin=te.getClubIcon(t):this.setImage(t)}setImage(t){this.clearImage();var s=this;Laya.loader.load(t,Laya.Handler.create(this,()=>{s.destroyed||(this.img_head.skin=t)}),null,Laya.Loader.IMAGE,-1,!0,"1111",!1,!1)}clearImage(){this.img_head&&(this.img_head.texture=null)}destroy(t=!0){this.clearImage(),super.destroy(t)}toDetail(){!this.playerDto||this.playerDto.needTip}};N_=H([AO("koRLgfbMQ127yxRmmRHybg")],N_);var F_=class extends Laya.Box{};var{regClass:MO}=Laya,P_=class extends F_{set dataSource(t){super.dataSource=t,this.headItem=t,this.headItem&&this.setCurrentOutPut()}async setCurrentOutPut(){let t=this.headItem;this.clubBigIcon.headSkin=t}onChange(t){}};P_=H([MO("uklnPq1ZQmOhfyUyF_6oWQ")],P_);Xe();et();Ze();var U_=class extends Laya.Box{};var{regClass:RO}=Laya,H_=class extends U_{set dataSource(t){if(super.dataSource=t,t){console.log("ClubPropListItem",t);let s=$.m_dicItems.get(t.id);this.img_icon.skin=te.getItemIcon(s.icon),this.tf_data.text=`${O.getLanguage(s.name)}X${t.count}`}}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};H_=H([RO("S77mjsF1RLqmnYyXCTSkVw")],H_);Cr();ir();var z_=class extends Laya.Box{};Vt();qt();var{regClass:BO}=Laya,j_=class extends z_{constructor(){super()}createChildren(){super.createChildren()}onEnable(){this.on(Laya.Event.CLICK,this,this.onItemClick)}onDisable(){this.off(Laya.Event.CLICK,this,this.onItemClick)}onItemClick(){if(this.referralData){let t=[this.referralData.id,this.referralData.endTime,this.referralData.symbolId,this.referralData.cost,this.referralData.map,this.referralData.fruit,this.referralData.bgm];Oe.intance.openModule(w.JoinClubRoomDialog,t)}}set dataSource(t){if(!t)return;let s=t.split(",");super.dataSource=t,this.referralData={id:s[0],endTime:s[1],symbolId:s[2],cost:s[3],map:s[4],fruit:s[5],bgm:s[6],playerNum:s[7]},this.tf_roomId.text=this.referralData.id;let n=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=n%2===1,this.updateEndTimeDisplay();let o=xt.getTokenDataBySyId(Number(this.referralData.symbolId));o?this.tf_tickets.text=`${parseFloat(this.referralData.cost)} ${o.symbol}`:this.tf_tickets.text=`${parseFloat(this.referralData.cost)}`,this.tf_playerNum.text=`${s[7]}/3`}updateEndTimeDisplay(){this.referralData&&this.referralData.endTime&&(this.tf_endTime.text=Et.getRestTime(Math.floor(this.referralData.endTime/1e3)))}};j_=H([BO("euaIDdILQNabNW0qaF17nA")],j_);Xe();mt();Ri();wi();ni();var G_=class extends Laya.Scene{};ot();qt();Vt();Rt();nt();Pt();ir();We();Cr();Ze();var BS=class i{constructor(){this.m_clubData=null;this.m_roomData=[];this.m_memberData=[];this.m_communityData=[];this.m_profitRatio=0}static getInstance(){return i._instance||(i._instance=new i),i._instance}setClubData(e){e&&(this.m_clubData=e,e.rooms&&(this.m_roomData=e.rooms),e.members&&(this.m_memberData=e.members),e.community&&(this.m_communityData=e.community))}getClubData(){return this.m_clubData}getRoomData(){return this.m_roomData}setRoomData(e){e&&(this.m_roomData=e)}getMemberData(){return this.m_memberData}setMemberData(e){e&&(this.m_memberData=e)}getCommunityData(){return this.m_communityData}setCommunityData(e){e&&(this.m_communityData=e)}setProfitRatio(e){this.m_profitRatio=e}getProfitRatio(){return this.m_profitRatio}clearClubData(){this.m_clubData=null,this.m_roomData=[],this.m_memberData=[],this.m_communityData=[],this.m_profitRatio=0}updateClubIcon(e){this.m_clubData&&(this.m_clubData.icon=e)}updateClubName(e){this.m_clubData&&(this.m_clubData.name=e)}},gn=BS.getInstance();St();var{regClass:DO}=Laya,V_=class extends G_{constructor(){super(...arguments);this.countdownTimer=null;this.roomData=[];this.memberData=[];this.profitData=[];this.roomRefreshTimer=null;this.currentProfitPage=1;this.isLoadingProfits=!1;this.hasMoreProfits=!0;this.profitPageSize=20;this.isEnteringRoom=!1;this.currentMemberPage=1;this.isLoadingMembers=!1;this.hasMoreMembers=!0;this.memberPageSize=20;this.memberTotal=0;this.myMemberData=[];this.currentMyMemberPage=1;this.isLoadingMyMembers=!1;this.hasMoreMyMembers=!0;this.myMemberPageSize=20;this.isSearchMode=!1}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onEnable(){this.clubRoomList.visible=!1,this.memberMyList.visible=!1,this.memberClubList.visible=!1,this.profitList.visible=!1;let t=this.btn_3;t&&(t.getChildByName("tf_tittle").text=O.getLanguage(61));let s=5;for(let o=0;o<s;o++)this["btn_"+o].on(Laya.Event.CLICK,this,this.onTabClick,[o]);this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene);let n=2;for(let o=0;o<n;o++)this["btnMember"+o].on(Laya.Event.CLICK,this,this.onMembersTabClick,[o]);this.btn_copy.on(Laya.Event.CLICK,this,this.onCopy),this.btn_createRoom.on(Laya.Event.CLICK,this,this.onCreateRoom),this.btn_playNow.on(Laya.Event.CLICK,this,this.onGoRoom),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,this,this.onClubChangeInfoResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_ROOM,this,this.onClubRoomResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_QUERY_TOKEN,this,this.onRequestInfo),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_PROFIT,this,this.onProfitDataResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_MEMBER,this,this.onClubMemberResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_MY_PROFIT,this,this.onMyProfitResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_PROFIT_LIST,this,this.onMyMemberListResponse),this.btn_changeName.on(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.on(Laya.Event.CLICK,this,this.sendChangeInfoRequest),this.btn_changeHead.on(Laya.Event.CLICK,this,this.onChangeClubHead),this.btn_inviteFriend.on(Laya.Event.CLICK,this,this.onInviteFriend),this.btnSetting.on(Laya.Event.CLICK,this,this.onAddressSearch),this.requestClubInfo(),this.initProfitsList(),xt.getTokenData()?this.startCountdownTimer():this.requestCoinInfo(),this.startRoomRefreshTimer(),this.getMyCommunityProfit(),this.resetMyMemberList(),this.profitList.scrollBar.on(Laya.Event.CHANGE,this,this.onProfitListScroll),this.memberClubList.scrollBar.on(Laya.Event.CHANGE,this,this.onMemberListScroll),this.memberMyList.scrollBar.on(Laya.Event.CHANGE,this,this.onMyMemberListScroll),Bt.startJellyScaleAnimation(this.tf_tittle)}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}onOpened(t){}removeEvent(){for(let n=0;n<5;n++)this["btn_"+n].off(Laya.Event.CLICK,this,this.onTabClick,[n]);let s=2;for(let n=0;n<s;n++)this["btnMember"+n].off(Laya.Event.CLICK,this,this.onMembersTabClick,[n]);this.btn_copy.off(Laya.Event.CLICK,this,this.onCopy),this.btn_createRoom.off(Laya.Event.CLICK,this,this.onCreateRoom),this.btn_playNow.off(Laya.Event.CLICK,this,this.onGoRoom),this.btn_changeName.off(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.off(Laya.Event.CLICK,this,this.sendChangeInfoRequest),this.btnSetting.off(Laya.Event.CLICK,this,this.onAddressSearch),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,this,this.onClubChangeInfoResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_ROOM,this,this.onClubRoomResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_PROFIT,this,this.onProfitDataResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_MEMBER,this,this.onClubMemberResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_MY_PROFIT,this,this.onMyProfitResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_PROFIT_LIST,this,this.onMyMemberListResponse),Laya.stage.off("MSG_CLUB_INFO",this,this.onClubInfoResponse),this.clearCountdownTimer(),Laya.timer.clear(this,this.requestClubRooms),this.profitList.scrollBar.off(Laya.Event.CHANGE,this,this.onProfitListScroll),this.memberClubList.scrollBar.off(Laya.Event.CHANGE,this,this.onMemberListScroll),this.memberMyList.scrollBar.off(Laya.Event.CHANGE,this,this.onMyMemberListScroll)}startCountdownTimer(){this.clearCountdownTimer(),this.countdownTimer=Laya.timer.loop(1e3,this,this.updateAllCountdowns)}clearCountdownTimer(){this.countdownTimer&&(Laya.timer.clear(this,this.updateAllCountdowns),this.countdownTimer=null)}updateAllCountdowns(){for(let t=0;t<this.clubRoomList.cells.length;t++){let s=this.clubRoomList.cells[t];s&&s.updateEndTimeDisplay()}}onTabClick(t){for(let n=0;n<5;n++){let l=this[`btn_${n}`].getChildByName("tf_tittle"),u=t===n;l.stroke=u?4:0,this["btn_"+n].getChildByName("selectBox1").visible=u,this["btn_"+n].getChildByName("selectBox2").visible=!u}switch(t){case 0:this.box_room.visible=!0,this.box_member.visible=!1,this.box_myProfits.visible=!1,this.box_profile.visible=!1,this.startCountdownTimer(),this.requestClubRooms();break;case 1:this.box_room.visible=!1,this.box_member.visible=!0,this.box_myProfits.visible=!1,this.box_profile.visible=!1,this.clearCountdownTimer();break;case 2:this.box_room.visible=!1,this.box_member.visible=!1,this.box_myProfits.visible=!0,this.box_profile.visible=!1,this.clearCountdownTimer(),this.resetProfitList();break;case 3:this.box_room.visible=!1,this.box_member.visible=!1,this.box_myProfits.visible=!1,this.box_profile.visible=!0,this.clearCountdownTimer();break;default:break}}onMembersTabClick(t){for(let n=0;n<2;n++){let o=this["btnMember"+n],l=t===n;o.getChildByName("tab1").visible=l,o.getChildByName("tab2").visible=!l;let u=o.getChildByName("tf_tit");u.stroke=l?5:0,u.fontSize=l?26:24,u.color=l?"#ffffff":"#7bc6fb"}switch(t){case 0:this.myCommuityBox.visible=!0,this.clubBox.visible=!1;break;case 1:this.myCommuityBox.visible=!1,this.clubBox.visible=!0,this.resetMemberList();break}}onCopy(){let t=this.tf_clubId.text;doCopy(t),Me.notice(O.getLanguage(19))}initMemberList(){}initProfitsList(){this.profitData=[],this.profitList.array=this.profitData,this.profitList.visible=!0,this.resetProfitList()}resetProfitList(){this.currentProfitPage=1,this.isLoadingProfits=!1,this.hasMoreProfits=!0,this.profitData=[],this.getProfitData()}onProfitListScroll(){if(this.isLoadingProfits||!this.hasMoreProfits)return;let t=this.profitList.scrollBar,s=t.value,n=t.max;n>0&&s>=n*.8&&this.loadNextProfitPage()}loadNextProfitPage(){this.isLoadingProfits=!0,this.currentProfitPage++,this.getProfitData()}getProfitData(){this.isLoadingProfits=!0;let t=new y.snake.socket.CS_REQUEST_PROFIT({pageNo:this.currentProfitPage,pageSize:this.profitPageSize}),s=y.snake.socket.MessageType.MSG_REQUEST_PROFIT;ge.send(s,t)}onProfitDataResponse(t,s){if(this.isLoadingProfits=!1,s==y.snake.socket.MessageCode.SYS_NORMAL){let n=_e.getMsgBody(t,y.snake.socket.SC_REQUEST_PROFIT);if(this.tf_totalIncome.text=`${n.profitTotal} USDT`,this.tf_totalIncomeToday.text=`${n.profitToday} USDT`,this.tf_battles.text=`${n.total}`,n&&n.profits&&n.profits.length>0){let o=this.profitData.length,l=n.profits.map((u,p)=>u+","+(o+p));this.profitData=this.profitData.concat(l),this.profitList.array=this.profitData}else this.hasMoreProfits=!1}else this.currentProfitPage>1&&this.currentProfitPage--}initProfile(){this.tf_createerName.text=P.playerDto.name}onCreateRoom(){Oe.intance.openModule(w.CreateClubRoomDialog)}onDisable(){this.removeEvent(),this.clearRoomRefreshTimer(),this.clearCountdownTimer(),gn.clearClubData(),Laya.timer.clear(this,()=>{this.isEnteringRoom=!1})}requestClubInfo(){let t=new y.snake.socket.CS_CLUB_INFO,s="1_00",n=P.nodeId,o=$.getNodeByType(n);o&&K.vType!==0&&(s=o.point),t.point=s;let l=y.snake.socket.MessageType.MSG_CLUB_INFO;ge.send(l,t)}onClubInfoResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CLUB_INFO);if(s==y.snake.socket.MessageCode.SYS_NORMAL){this.clubData=n,this.roomData=n.rooms,this.community=n.community;let o=n.myRate;gn.setClubData(n),this.updateClubInfo(n),this.resetMemberList(),P.clubCreater=n.createrId,n.createrId==P.playerDto.pid?(this.btn_createRoom.visible=!0,this.btn_changeHead.visible=!0,this.btn_playNow.y=225,this.btn_inviteFriend.y=335,this.btn_changeName.visible=!0):(this.btn_createRoom.visible=!1,this.btn_changeHead.visible=!1,this.btn_playNow.y=114,this.btn_inviteFriend.y=224,this.btn_changeName.visible=!1),this.btn_playNow.visible=!0,this.btn_inviteFriend.visible=!0}}updateClubInfo(t){let s=$.getClubById(t.type);P.clubType=t.type,this.tf_clubId.text=`${t.clubId}`,s&&(this.tf_clubType.text=O.getLanguage(s.name)),this.tf_createerName.text=`${t.creater}`,this.tf_createName.text=`${Et.getYearMonthDat(t.createTime,"/")}`,this.tf_clubName.text=`${t.name}`,this.clubIcon.headSkin=t.icon}onChangeClubHead(){Oe.intance.openModule(w.ChangeClubHeadDialog,[parseInt(this.clubData.icon)])}onInviteFriend(){let t=P.playerDto.code,s=getVAddress(),n=P.m_strLanguage,o=O.getLanTypeById(n),l=`${s}?referral=${t}&lang=${o}`;doCopy(l),Me.notice(O.getLanguage(19))}onClubChangeInfoResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.CS_CLUB_CHANGE_INFO);s==y.snake.socket.MessageCode.SYS_NORMAL&&(n.type==1?this.clubData&&(this.clubIcon.headSkin=n.value,gn.updateClubIcon(n.value)):n.type==2&&this.clubData&&(this.tf_clubName.text=n.value,this.nameBox.visible=!0,this.changeNameBox.visible=!1,gn.updateClubName(n.value)))}startRoomRefreshTimer(){this.clearRoomRefreshTimer(),this.roomRefreshTimer=Laya.timer.loop(1e4,this,this.requestClubRooms),this.requestClubRooms()}clearRoomRefreshTimer(){this.roomRefreshTimer&&(Laya.timer.clear(this,this.requestClubRooms),this.roomRefreshTimer=null)}requestClubRooms(){let t=y.snake.socket.MessageType.MSG_CLUB_ROOM;ge.send(t)}onClubRoomResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CLUB_ROOM);s==y.snake.socket.MessageCode.SYS_NORMAL&&(this.roomData=n.rooms,gn.setRoomData(n.rooms),this.clubRoomList.array=this.roomData,this.tf_roomCount.text=`${this.roomData.length}`,this.clubRoomList.visible=!0,this.tf_battleCount.text=`${n.dailyFight}`,this.tf_battles.text=`${n.totalFight}`)}onRequestInfo(t,s){s==y.snake.socket.MessageCode.SYS_NORMAL&&this.startCountdownTimer()}requestCoinInfo(){let t=y.snake.socket.MessageType.MSG_QUERY_TOKEN;ge.send(t)}onGoRoom(){if(this.isEnteringRoom)return;if(!this.roomData||this.roomData.length===0){Me.notice(O.getLanguage(57));return}let t=xt.getTokenData();if(!t||t.length===0){Me.notice(O.getLanguage(57));return}let s=this.roomData.filter(u=>{let p=u.split(","),m=parseInt(p[2]),d=parseFloat(p[3]),f=t.find(g=>g.symbolId===m);return f&&f.balance>=d});if(s.length===0){Me.notice(O.getLanguage(68));return}this.isEnteringRoom=!0;let n=Math.floor(Math.random()*s.length),l=s[n].split(",");Oe.intance.openModule(w.JoinClubRoomDialog,l),Laya.timer.once(3e3,this,()=>{this.isEnteringRoom=!1})}onBtnChangeNameClick(){this.nameBox.visible=!1,this.changeNameBox.visible=!0,this.input_name.text=this.tf_clubName.text}sendChangeInfoRequest(){let t=y.snake.socket.MessageType.MSG_CLUB_CHANGE_INFO,s=y.snake.socket.CS_CLUB_CHANGE_INFO.fromObject({type:2,value:this.input_name.text});ge.send(t,s)}resetMemberList(){this.currentMemberPage=1,this.isLoadingMembers=!1,this.hasMoreMembers=!0,this.memberData=[],this.requestClubMembers()}onMemberListScroll(){if(this.isLoadingMembers||!this.hasMoreMembers)return;let t=this.memberClubList.scrollBar,s=t.value,n=t.max;n>0&&s>=n*.8&&this.loadNextMemberPage()}loadNextMemberPage(){this.isLoadingMembers=!0,this.currentMemberPage++,this.requestClubMembers()}requestClubMembers(){if(!this.clubData||!this.clubData.clubId)return;this.isLoadingMembers=!0;let t=new y.snake.socket.CS_CLUB_MEMBER({pageNo:this.currentMemberPage,pageSize:this.memberPageSize,clubIb:this.clubData.clubId}),s=y.snake.socket.MessageType.MSG_CLUB_MEMBER;ge.send(s,t)}getMyCommunityProfit(){let t=y.snake.socket.MessageType.MSG_REQUEST_MY_PROFIT;ge.send(t)}onClubMemberResponse(t,s){if(this.isLoadingMembers=!1,s==y.snake.socket.MessageCode.SYS_NORMAL){let n=_e.getMsgBody(t,y.snake.socket.SC_CLUB_MEMBER);if(n.total!==void 0&&(this.memberTotal=n.total,this.tf_memberNum.text=`${this.memberTotal}`),n&&n.members&&n.members.length>0){let o=this.memberData.length,l=n.members.map((u,p)=>u+","+(o+p));this.memberData=this.memberData.concat(l),this.memberClubList.array=this.memberData,this.memberClubList.visible=!0}else this.hasMoreMembers=!1}else this.currentMemberPage>1&&this.currentMemberPage--}onMyProfitResponse(t,s){if(s==y.snake.socket.MessageCode.SYS_NORMAL){let n=_e.getMsgBody(t,y.snake.socket.SC_MY_PROFIT);if(gn.setProfitRatio(n.profitRatio),this.tf_Commission){let l=(n.profitRatio*100).toFixed(2);l.endsWith("0")&&(l=l.slice(0,-1),l.endsWith(".0")&&(l=l.slice(0,-2))),this.tf_Commission.text=l+"%"}this.tf_numberOfFriend&&(this.tf_numberOfFriend.text=n.inviteCount.toString())}}resetMyMemberList(){this.currentMyMemberPage=1,this.isLoadingMyMembers=!1,this.hasMoreMyMembers=!0,this.myMemberData=[],this.isSearchMode=!1,this.getMemberMyList()}onMyMemberListScroll(){if(this.isLoadingMyMembers||!this.hasMoreMyMembers)return;let t=this.memberMyList.scrollBar,s=t.value,n=t.max;n>0&&s>=n*.8&&this.loadNextMyMemberPage()}loadNextMyMemberPage(){this.isSearchMode=!1,this.isLoadingMyMembers=!0,this.currentMyMemberPage++,this.getMemberMyList()}getMemberMyList(){this.isLoadingMyMembers=!0;let t=new y.snake.socket.CS_REQUEST_PROFIT_LIST({pageNo:this.currentMyMemberPage,pageSize:this.myMemberPageSize}),s=y.snake.socket.MessageType.MSG_REQUEST_PROFIT_LIST;ge.send(s,t)}onMyMemberListResponse(t,s){if(this.isLoadingMyMembers=!1,s==y.snake.socket.MessageCode.SYS_NORMAL){let n=_e.getMsgBody(t,y.snake.socket.SC_REQUEST_PROFIT_LIST);if(n&&n.community&&n.community.length>0){this.currentMyMemberPage===1&&this.isSearchMode&&(this.myMemberData=[]);let o=this.myMemberData.length,l=n.community.map((u,p)=>u+","+(o+p));this.myMemberData=this.myMemberData.concat(l),this.memberMyList.array=this.myMemberData,this.memberMyList.visible=!0,this.currentMyMemberPage===1&&this.isSearchMode&&(this.isSearchMode=!1)}else this.hasMoreMyMembers=!1,this.isSearchMode&&(this.myMemberData=[],this.memberMyList.array=this.myMemberData,this.isSearchMode=!1)}else this.currentMyMemberPage>1&&this.currentMyMemberPage--,this.isSearchMode&&(this.isSearchMode=!1)}onAddressSearch(){let t=this.input_address.text;this.currentMyMemberPage=1,this.isLoadingMyMembers=!1,this.hasMoreMyMembers=!0,this.myMemberData=[],this.isSearchMode=!0,this.searchMemberByAddress(t)}searchMemberByAddress(t){this.isLoadingMyMembers=!0;let s;t===""?s=new y.snake.socket.CS_REQUEST_PROFIT_LIST({pageNo:this.currentMyMemberPage,pageSize:this.myMemberPageSize}):s=new y.snake.socket.CS_REQUEST_PROFIT_LIST({pageNo:this.currentMyMemberPage,pageSize:this.myMemberPageSize,childAddress:t});let n=y.snake.socket.MessageType.MSG_REQUEST_PROFIT_LIST;ge.send(n,s)}};V_=H([DO("ONHYlGbrToqo_uNbZuaf3A")],V_);Xe();var W_=class extends Laya.Box{};var{regClass:OO}=Laya,K_=class extends W_{set dataSource(t){super.dataSource=t,t&&(this.tf_data.text=O.getLanguage(t.name))}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};K_=H([OO("lH_RWSpjQtuPd9t0m34t5A")],K_);wi();Xe();mt();Ri();We();ot();Ze();Rt();nt();Pt();ni();var $_=class extends Laya.Dialog{};var{regClass:NO}=Laya,q_=class extends $_{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.clubType=1;this.isCreating=!1}onEnable(){this.btn_create.on(Laya.Event.CLICK,this,this.onCreate),v.on("msg_"+y.snake.socket.MessageType.MSG_CREATE_CLUB,this,this.onCreateSuccess),this.list_clubType.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_clubType.selectHandler=new Laya.Handler(this,this.handleSelectToken),this.ClubBox.on(Laya.Event.CLICK,this,this.showSelecePanel),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.initCreateClubData()}initCreateClubData(){let t=$.m_dicClub.values;this.list_clubType.array=t,this.list_clubType.selectedIndex=0}onCreate(){if(this.isCreating)return;this.isCreating=!0;let t=y.snake.socket.MessageType.MSG_CREATE_CLUB,s=y.snake.socket.CS_CREATE_CLUB.fromObject({name:"CLUB",icon:"1",type:this.clubType});ge.send(t,s),Laya.timer.once(3e3,this,()=>{this.isCreating=!1})}onCreateSuccess(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CREATE_CLUB);s==y.snake.socket.MessageCode.SYS_NORMAL?(Me.notice(O.getLanguage(79)),console.log("SC_WITHDRAW MsgBody",n),P.playerDto.club=`${n.clubId}`,je.setCurrentScene(he.M_SCENE_CLUB,n),this.close()):s==y.snake.socket.MessageCode.NOT_ENOUGH_TOKEN?Me.notice(O.getLanguage(72)):Me.notice(O.getLanguage(80))}onTokenItemRender(t,s){t&&t.onChange&&t.onChange(this.list_clubType.selectedIndex==s)}handleSelectToken(t){if(t!=-1){let s=this.list_clubType.selectedItem;this.tf_clubType.text=O.getLanguage(s.name),this.tf_maxMember.text=`${s.maxMember}`,this.tf_MaxRoom.text=`${s.maxRoom}`,this.tf_referrCommission.text=`${s.ownerCommission}`,this.tf_referralCommission.text=`${s.referalCommission}`,this.tf_points.text=`${s.fightReward}`,this.tf_dayCard.text=`${s.dailyRoom}`,this.tf_weekCard.text=`${s.weeklyRoom}`,this.tf_price.text=`${s.price} USDT`,this.clubType=s.id}this.img_club_pad.visible=!1,this.btn_hideBox.visible=!1}showSelecePanel(){this.img_club_pad.visible=!0,this.btn_hideBox.visible=!0}onCloseTab(){this.img_club_pad.visible&&(this.btn_hideBox.visible=!1,this.img_club_pad.visible=!1)}onDisable(){this.btn_create.off(Laya.Event.CLICK,this,this.onCreate),v.off("msg_"+y.snake.socket.MessageType.MSG_CREATE_CLUB,this,this.onCreateSuccess),this.ClubBox.off(Laya.Event.CLICK,this,this.showSelecePanel),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),Laya.timer.clear(this,()=>{this.isCreating=!1})}};q_=H([NO("7vh7JPfDTn2jn2qa3Tzn4A")],q_);wi();Xe();et();mt();Ri();ut();We();St();ot();mn();Ze();Cr();Rt();nt();gr();Pt();ni();var Y_=class extends Laya.Dialog{};var{regClass:FO}=Laya,Q_=class extends Y_{constructor(){super();this.roomMoney=0;this.isCreating=!1;this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){this.btn_create.on(Laya.Event.CLICK,this,this.onCreate),this.btn_shop.on(Laya.Event.CLICK,this,this.onGoShop),this.CardBox.on(Laya.Event.CLICK,this,this.showSelecePanel),this.TokenBox.on(Laya.Event.CLICK,this,this.showTokenPanel),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.btn_tip.on(Laya.Event.CLICK,this,this.onShowTip),this.ticketInput.on(Laya.Event.INPUT,this,this.testTicketMoneyInput),v.on(`msg_${y.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),v.on(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.on("msg_"+y.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM,this,this.onCreateRoomResponse),this.list_item.renderHandler=Laya.Handler.create(this,this.onTimeItemRender,null,!1),this.list_item.selectHandler=new Laya.Handler(this,this.handleSelectTime),this.list_token.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_token.selectHandler=new Laya.Handler(this,this.handleSelectToken),this.initBagInfo(),this.img_tel.visible=!1,this.btn_hideBox.visible=!1,xt.getTokenData()?this.showTokenArray(xt.getTokenData()):this.requestCoinInfo()}onTimeItemRender(t,s){t&&t.onChange&&(t.onChange(this.list_item.selectedIndex==s),this.img_card_pad.visible=!1,this.btn_hideBox.visible=!1)}handleSelectTime(t){if(t!=-1){let s=this.list_item.selectedItem,n=$.m_dicItems.get(s.id);switch(this.img_card.skin=te.getItemIcon(n.icon),this.tf_cardName.text=`${O.getLanguage(n.name)} X${s.count}`,n.id){case 1101:this.tf_maxTime.text="1 Hour";break;case 1102:this.tf_maxTime.text="1 Day";break;case 1103:this.tf_maxTime.text="1 Week";break;default:this.tf_cardName.text=`${O.getLanguage(n.name)} X${s.count}`}console.log(s)}}onCreate(){if(this.isCreating)return;if(this.roomMoney<=0){Me.notice(O.getLanguage(58));return}this.isCreating=!0;let t=this.list_item.selectedItem.id,s="1_00",n=P.nodeId,o=$.getNodeByType(n);o&&K.vType!==0&&(s=o.point);let l=new y.snake.socket.CS_CREATE_CUSTOM_ROOM({type:2,ticketId:this.list_token.selectedItem,ticketValue:this.roomMoney,map:"default",fruit:"apple",bgm:"bgm1",point:s,itemId:t}),u=y.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM;ge.send(u,l),Laya.timer.once(3e3,this,()=>{this.isCreating=!1})}onGoShop(){this.close(),je.setCurrentScene(he.M_SCENE_SHOP,[2])}initBagInfo(){let t=y.snake.socket.MessageType.MSG_PACK_INFO;ge.send(t)}onPackInfo(){let t=[1101,1102,1103],s=[],n=!1;t.forEach(l=>{s.push({id:l,count:0})}),Ei.getAllKnapsackItems().forEach(l=>{let u=t.indexOf(l.id);u!==-1&&(s[u].count=l.num||0)});let o=s.filter(l=>l.count>0);n=o.length>0,n?(this.btn_create.disabled=!1,this.tf_itemNo.visible=!1,this.btn_shop.visible=!1,this.CardBox.visible=!0):(this.btn_create.disabled=!0,this.tf_itemNo.visible=!0,this.btn_shop.visible=!0,this.CardBox.visible=!1),this.list_item.array=o,this.showDefaultCard(o)}onCreateRoomResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CREATE_CUSTOM_ROOM);if(s===y.snake.socket.MessageCode.SYS_NORMAL){Me.notice(O.getLanguage(56));let o=y.snake.socket.MessageType.MSG_CLUB_ROOM;ge.send(o),this.close()}else s===y.snake.socket.MessageCode.CREATE_ROOM_MAX&&Me.notice(O.getLanguage(59))}onDisable(){this.btn_create.off(Laya.Event.CLICK,this,this.onCreate),this.btn_shop.off(Laya.Event.CLICK,this,this.onGoShop),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),this.btn_tip.off(Laya.Event.CLICK,this,this.onShowTip),v.off(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.off("msg_"+y.snake.socket.MessageType.MSG_CREATE_CUSTOM_ROOM,this,this.onCreateRoomResponse),Laya.timer.clear(this,()=>{this.isCreating=!1})}onCloseTab(){this.img_card_pad.visible&&(this.btn_hideBox.visible=!1,this.img_card_pad.visible=!1),this.img_tel.visible&&(this.btn_hideBox.visible=!1,this.img_tel.visible=!1),this.img_token_pad.visible&&(this.btn_hideBox.visible=!1,this.img_token_pad.visible=!1)}showSelecePanel(){this.img_card_pad.visible=!0,this.btn_hideBox.visible=!0}showTokenPanel(){this.img_token_pad.visible=!0,this.btn_hideBox.visible=!0}showDefaultCard(t){let s=t.findIndex(n=>n.count>0);s!==-1&&(this.list_item.selectedIndex=s,this.handleSelectTime(s))}onShowTip(){this.img_tel.visible=!0,this.btn_hideBox.visible=!0}requestCoinInfo(){let t=y.snake.socket.MessageType.MSG_QUERY_TOKEN;ge.send(t)}onRequestInfo(t,s){let n=_e.getMsgBody(t,y.snake.socket.SC_QUERY_TOKEN);if(s==y.snake.socket.MessageCode.SYS_NORMAL){let o=at.parseTokenData(n.token);this.showTokenArray(o)}}showTokenArray(t){let s=[];t.forEach(n=>{s.push(n.symbolId)}),this.list_token.array=s,this.list_token.selectedIndex=0}onTokenItemRender(t,s){t&&t.onChange&&t.onChange(this.list_token.selectedIndex==s)}handleSelectToken(t){if(t!=-1){let s=xt.getTokenData()[t];s&&(this.tf_tokenName.text=s.symbol)}this.img_token_pad.visible=!1,this.btn_hideBox.visible=!1}testTicketMoneyInput(){let t=this.ticketInput.text;if(t){if(!/^[0-9]+\.?[0-9]*$/.test(t)){let n="";for(let o=0;o<t.length;o++){let l=t.charAt(o);(l>="0"&&l<="9"||l==="."&&n.indexOf(".")===-1)&&(n+=l)}this.ticketInput.text=n}t.length>1&&t.startsWith("0")&&t.charAt(1)!=="."&&(this.ticketInput.text=t.substring(1)),this.roomMoney=Number(this.ticketInput.text)}}};Q_=H([FO("Trnh8WLVQT-6W4h3KUeNgA")],Q_);mt();var X_=class extends Laya.Dialog{};Rt();nt();et();Cr();wi();Ri();lS();zs();kr();ha();Ni();fi();gi();var J_=class{constructor(){this.connectAddr="ws://175.27.154.72:10001";this.groupApplyList=[];this.groupData=[];this.watch=[]}};We();Rt();nt();Pt();ni();Vt();qt();ot();Ze();St();Xe();var DS=class i{static getInstance(){return i._instance==null&&(i._instance=new i),i._instance}constructor(){this.init()}init(){v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR,this,this.onRequestRoomAddr)}onRequestRoomAddr(e,t){var s=_e.getMsgBody(e,y.snake.socket.SC_REQUEST_ROOM_ADDR);if(t==y.snake.socket.MessageCode.SYS_NORMAL){var n=s.addr;if(console.log("onRequestRoomAddr: "+n),n){var o=n.lastIndexOf("#");o!=-1&&(n=n.slice(0,o))}var l=new J_;l.connectAddr=n,Ce.roomDto=l,Oe.intance.closeAll(),je.isCloseAll=!1,Oe.intance.openModule(w.MatchReadyView),je.setCurrentScene(he.M_SCENE_SNAKE_MATCH)}else t==y.snake.socket.MessageCode.NOT_ENOUGH_TOKEN&&Me.notice(O.getLanguage(72))}goPvpArenaScene(e,t,s){this.closePvpMatchScene(),Te.matchType=Te.MATCH_TYPE_PVP,Te.arenaType=Te.ARENA_TYPE_PVP;var n=y.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR;let o="1_00",l=P.nodeId,u=$.getNodeByType(l);u&&K.vType!==0&&(o=u.point);var p=y.snake.socket.CS_REQUEST_ROOM_ADDR.fromObject({type:1,ticketId:t,ticketValue:s,roomType:e,point:o});ge.send(n,p)}goCLubArenaScene(e,t,s,n){this.closePvpMatchScene(),Te.matchType=Te.MATCH_TYPE_PVP,Te.arenaType=Te.ARENA_TYPE_JULEBU;var o=y.snake.socket.MessageType.MSG_REQUEST_ROOM_ADDR;let l="1_00",u=P.nodeId,p=$.getNodeByType(u);p&&K.vType!==0&&(l=p.point);var m=y.snake.socket.CS_REQUEST_ROOM_ADDR.fromObject({ticketId:t,ticketValue:s,roomType:e,point:"1_00",roomNo:n});ge.send(o,m)}async goAiArenaScene(){this.closePveMatchScene(),Oe.intance.closeAll(),je.isCloseAll=!1,Oe.intance.openModule(w.MatchReadyView),Te.matchType=Te.MATCH_TYPE_PVE,Te.arenaType=Te.ARENA_TYPE_PVE;var e=new bm;e.members=await ne.getInstance().spawnSnakes();var t=ne.getInstance().spawnRandomPlayerObject("",!0,!0);e.members.push(t),e.myPlayerObject=t,e.item=Lt.spawnFoods(),e.matchType=Te.MATCH_TYPE_PVE,e.remainderCd=Q.snake.battleCd,Ce.matchDto=e,wr.sendAiEnter(),je.setCurrentScene(he.M_SCENE_AI_ARENA)}closePvpMatchScene(){je.currSceneName==he.M_SCENE_SNAKE_MATCH&&(je.m_sceneCurrent.close(),je.m_sceneCurrent=null)}closePveMatchScene(){je.currSceneName==he.M_SCENE_AI_ARENA&&(je.m_sceneCurrent.close(),je.m_sceneCurrent=null)}},mo=DS.getInstance();var{regClass:PO}=Laya,Z_=class extends X_{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){this.initEvents(),this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:.7},200,Laya.Ease.linearIn)}onDisable(){this.removeEvents()}initEvents(){this.btn_font.on(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.on(Laya.Event.CLICK,this,this.closeDialog)}removeEvents(){this.btn_font.off(Laya.Event.CLICK,this,this.onEnterMatch),this.backLayer.off(Laya.Event.CLICK,this,this.closeDialog)}onEnterMatch(){if(!this.roomInfo)return;let t=parseInt(this.roomInfo[2]),s=parseFloat(this.roomInfo[3]),n=this.roomInfo[0];mo.goCLubArenaScene(7,t,s,n)}requestCoinInfo(){let t=y.snake.socket.MessageType.MSG_QUERY_TOKEN;ge.send(t)}setOpenData(t){if(t){console.log(t),this.roomInfo=t;let s=parseInt(t[2]),n=parseFloat(t[3]);this.img_coin.skin=te.getCurrencyIcon(s),this.tf_number.text=String(n);let o=xt.getTokenData().find(l=>l.symbolId==s);xt.getTokenData()&&o&&(this.tf_coin.text=o.symbol)}}closeDialog(){this.close()}};Z_=H([PO("ONfjH328RXe-7G3_K7WK1Q")],Z_);et();var e0=class extends Laya.Box{};var{regClass:UO}=Laya,t0=class extends e0{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}onDisable(){}set dataSource(t){if(!t)return;super.dataSource=t,this.referralData=t,console.log("MemberClubListItem",t);let s=t.split(",");this.tf_name.text=s[3],this.PlayerIcon.headSkin=s[2],this.tf_memberLevel.text=s[4],this.tf_match.text=s[5],this.img_flag.skin=te.getCountryIcon(s[1]);let n=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=n%2===1}};t0=H([UO("3U7la1usRgKQbfApkNfiHQ")],t0);et();Vt();qt();var i0=class extends Laya.Box{};We();ut();gr();var{regClass:HO}=Laya,r0=class extends i0{constructor(){super()}createChildren(){super.createChildren()}onEnable(){this.btnSetting.on(Laya.Event.CLICK,this,this.onOpenSettingDialog),v.on(E.EVENT_CHANGE_CLUB_RATE,this,this.onUpdateRate)}onDisable(){v.off(E.EVENT_CHANGE_CLUB_RATE,this,this.onUpdateRate)}set dataSource(t){if(!t)return;super.dataSource=t;let s=t.split(",");this.referralData=s,console.log("MemberMyListItem",t),this.img_flag.skin=te.getCountryIcon(s[1]),this.tf_name.text=s[3],this.PlayerIcon.headSkin=s[2],this.tf_memberLevel.text=s[4],this.tf_referrals.text=s[5];let n=at.multiplyWithPrecision(s[6],100);this.tf_rate.text=`${n}%`;let o=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=o%2===1}onOpenSettingDialog(){Oe.intance.openModule(w.SettingRateDialog,this.referralData)}onUpdateRate(t){if(t&&this.referralData&&t.roleId===this.referralData[0]){this.referralData[6]=t.rateValue;let s=t.rateValue*100,n=Math.round(s*1e3)/1e3,o=parseFloat(n.toFixed(3)).toString();this.tf_rate.text=`${o}%`}}};r0=H([HO("_-8v_mmLR1CuN--HtoX-Uw")],r0);et();Cr();var s0=class extends Laya.Box{};var{regClass:zO}=Laya,n0=class extends s0{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}onDisable(){}set dataSource(e){if(!e)return;let t=e.split(",");super.dataSource=e,this.img_flag.skin=te.getCountryIcon(t[1]),this.tf_name.text=`${t[3]}`,this.PlayerIcon.headSkin=t[2];let s=parseInt(t[4]);if(xt.getTokenData()){let _=xt.getTokenData().find(S=>S.symbolId==s);this.tf_income.text=`${t[5]} ${_.symbol}`}this.tf_rate.text=`${t[6]}`;let n=t.length>7?parseInt(t[7]):0;this.img_bg.visible=n%2===1;let o=t[0],l=parseInt(o),u=new Date(String(l).length>10?l:l*1e3),p=String(u.getMonth()+1).padStart(2,"0"),m=String(u.getDate()).padStart(2,"0"),d=String(u.getHours()).padStart(2,"0"),f=String(u.getMinutes()).padStart(2,"0"),g=String(u.getSeconds()).padStart(2,"0");this.tf_time.text=`${p}/${m} ${d}:${f}:${g}`}};n0=H([zO("gevXZPT3TWCi4DUrM__uOg")],n0);mt();var o0=class extends Laya.Dialog{};We();ut();Pt();Rt();nt();gr();Xe();var{regClass:jO}=Laya,a0=class extends o0{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.addL=1;this.maxValue=5;this.minValue=15}onEnable(){this.btn_plus.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_plus]),this.btn_reduce.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_reduce]),this.btn_ok.on(Laya.Event.CLICK,this,this.onComfirm),this.btn_close.on(Laya.Event.CLICK,this,this.close),v.on("msg_"+y.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse)}setOpenData(t){if(this.data=t,!t)return;let s=t[6];this.PlayerIcon.headSkin=t[2];let n=gn.getProfitRatio();this.maxValue=parseFloat((n*100).toFixed(3)),this.addL=parseFloat(at.multiplyWithPrecision(parseFloat(s),100)),this.minValue=this.addL;let o=this.addL%1===0?this.addL.toFixed(0):this.addL.toFixed(1);this.tf_rateNum.text=`${o} %`,console.log("data",t);let l=t[3];this.tf_msg.text=O.getLanguage(77,l,o),this.tf_tip1.text=O.getLanguage(76,o,this.maxValue),this.tf_tip2.text=O.getLanguage(78)}onComfirm(){let t=y.snake.socket.MessageType.MSG_SET_COMMISSION,s=Number(at.divideWithPrecision(this.addL,100)),n=y.snake.socket.CS_SET_COMMISION.fromObject({roleId:this.data[0],rate:s});ge.send(t,n)}onSetCommissionResponse(t,s){v.off("msg_"+y.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse);var n=_e.getMsgBody(t,y.snake.socket.CS_SET_COMMISION);if(s==y.snake.socket.MessageCode.SYS_NORMAL){let o={roleId:this.data[0],rateValue:n.rate};v.event(E.EVENT_CHANGE_CLUB_RATE,o),this.close()}}handleClickBtn(t){switch(t){case this.btn_reduce:this.addL>this.minValue&&(this.addL=parseFloat((this.addL-.1).toFixed(1))),this.setItemNum();break;case this.btn_plus:this.addL<this.maxValue&&(this.addL=parseFloat((this.addL+.1).toFixed(1))),this.setItemNum();break}}setItemNum(){let t=this.addL%1===0?this.addL.toFixed(0):this.addL.toFixed(1);this.tf_rateNum.text=`${t} %`}onDisable(){this.btn_ok.off(Laya.Event.CLICK,this,this.onComfirm),this.btn_close.off(Laya.Event.CLICK,this,this.close),v.off("msg_"+y.snake.socket.MessageType.MSG_SET_COMMISSION,this,this.onSetCommissionResponse)}};a0=H([jO("T4HZSfZ-Ry6DwwvmwW29RA")],a0);mt();ut();We();cn();var l0=class extends Laya.Dialog{};Xe();ot();Ze();nt();Rt();Pt();var{regClass:GO}=Laya,c0=class extends l0{constructor(){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.dialogType=0}setOpenData(t){t&&t.length>0&&(this.dialogType=t[0])}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.btn_close.on(Laya.Event.CLICK,this,this.close),v.on("msg_"+y.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),this.initContainer()}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList()}handleSelectHead(t){if(t!=-1){let s=this.list_head.selectedItem;P.headId=s.id,this.playerIcon.headSkin=P.headId}}createHeadList(){let t=$.m_dicHead;this.list_head.array=t.values,this.list_head.visible=!0;let s=-1,n=0;this.playerIcon.headSkin=P.headId;for(let o of t.values){if(o.id==P.headId){s=n;break}n++}this.list_head.selectedIndex=s}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,s=O.getUILang("Upload picture"),n=O.getUILang("Select Image"),o=O.getUILang("Save changes");openUploadPic(this,t,s,n,o)}async openPicEnd(t,s){if(s.length>500){let n=await ei.requestPost("wxgame/player/uploadImg",{base64Str:s},!1,!1);n&&(P.headId=n.imgUrl,t.playerIcon.headSkin=n.imgUrl,console.log(n.imgUrl))}}onRegister(){let t=P.headId;this.dialogType===1?this.sendChangeInfoRequest(t):v.event(E.EVENT_MODIFY_HEAD,[t]),this.close()}sendChangeInfoRequest(t){let s=y.snake.socket.MessageType.MSG_CHANGE_INFO,n=y.snake.socket.CS_CHANGE_INFO.fromObject({type:1,value:t.toString()});ge.send(s,n),P.headId=t}onChangeInfoResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.CS_CHANGE_INFO);s==y.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CHANGE_INFO",n),P.playerDto.icon=n.value,v.event(E.ROLE_INFO_CHANGE),this.close())}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),this.btn_confirm.off(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.off(Laya.Event.CLICK,this,this.onBtnChangePic)}};c0=H([GO("BmtPy79ySCyg4IuEQC4zsQ")],c0);var u0=class extends Laya.ComboBox{};var{regClass:VO}=Laya,p0=class extends u0{set defaultLabel(e){this._defaultLabel=e,this._selectedIndex<0&&(this._button.label=e)}onEnable(){this.list=this.comboList,this.list.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1)}set dataSource(e){super.dataSource=e;var t=e;if(t){this.list.repeatY=t.length,this.list.width=this.width;var s=[];t.forEach(n=>{n instanceof Array?s.push(n[1]):s.push(n)}),this.labels=s.join(","),console.log("comboData.length: "+t.length,this.labels)}}onCountryItemRender(e,t){e.onChange(this.list.selectedIndex==t)}set isOpen(e){if(console.log("isOpen: "+e),this._isOpen!=e)if(this._isOpen=e,this._button.selected=this._isOpen,this._isOpen){this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem();var t=this.localToGlobal(Laya.Point.TEMP.setTo(0,0)),s=t.y+this._button.height;s=s+this._listHeight<=Laya.stage.height||t.y-this._listHeight<0?s:t.y-this._listHeight,this.img_pad.addChild(this._list),this.img_pad.pos(t.x,s),this.img_pad.visible=!0,Laya.stage.addChild(this.img_pad),this.img_pad.zOrder=1001,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.removeList),Laya.stage.on(Laya.Event.MOUSE_WHEEL,this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex}else this._list&&this._list.removeSelf(),this.img_pad&&this.img_pad.removeSelf()}};p0=H([VO("AqEOSlrnRkmI9RUPCJUVqQ")],p0);var m0=class extends Laya.List{};var{regClass:WO}=Laya,h0=class extends m0{};h0=H([WO("7DDHp602Rs6dL3bjAu4ArA")],h0);Xe();et();var d0=class extends Laya.Box{};var{regClass:KO}=Laya,f0=class extends d0{addEvent(){}set dataSource(t){super.dataSource=t;var s=t;s&&(this.addEvent(),t.id==999?(this.img_icon.visible=!1,this.tf_name.text="All"):(this.img_icon.visible=!0,this.img_icon.skin=te.getCountryIcon(s.id),this.tf_name.text=O.getLanguage(s.name)))}onChange(t){t?(this.selectImg.visible=!0,this.tf_name.color="#ffffff"):(this.tf_name.color="#357cc0",this.selectImg.visible=!1)}onDisable(){}};f0=H([KO("LJ8PUf7kRCGUr4eT8Mhy3g")],f0);mt();Vt();qt();xd();ut();We();cn();nt();var g0=class extends Laya.Dialog{};var Zl=class extends Laya.Event{constructor(){super()}};Zl.INIT_CREATELOGIN_EVENT="CreateLoginEvent:INIT_CREATELOGIN_EVENT";Xe();et();ds();Ji();ot();lr();ni();Rt();gr();Ze();Pt();St();var{regClass:$O}=Laya,b0=class extends g0{constructor(){super(...arguments);this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_PANEL;this.m_iPositionType=ee.CENTER}onEnable(){v.on(Zl.INIT_CREATELOGIN_EVENT,this,this.initCreateLoginView),v.on("msg_"+y.snake.socket.MessageType.MSG_USER_REGISTER,this,this.onWaitPlayerInfoBack),v.on(E.EVENT_MODIFY_HEAD,this,this.onChangeModifyHead),v.on(E.EVENT_WAIT_PLAYERINFO,this,this.onWaitPlayerInfoBack),this.box_change.on(Laya.Event.CLICK,this,this.onChangeHead),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),this.btn_register.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_register]),this.initCountry(),this.initCreateLoginView(),this.initReferral(),it.sendCustumEvent(23)}initCountry(){this.list_country.selectHandler=new Laya.Handler(this,this.handleSelectCountry),this.createCountryList(),this.box_country.on(Laya.Event.CLICK,this,this.onOpenCountry),this.list_country.on(Laya.Event.MOUSE_DOWN,this,this.onListDown),this.list_country.mouseHandler=Laya.Handler.create(this,this.onCountryItemMouse,null,!1),this.list_country.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1),this.list_country.scrollBar&&this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN,this,this.onScrollBarDown)}onCountryItemMouse(t,s){t.type===Laya.Event.CLICK&&(this.list_country.selectedIndex=s,this.onHideCountry())}handleClickBtn(t){switch(t){case this.btn_register:this.onRegister();break;case this.btn_setting:Oe.intance.openModule(w.GameSettingLanguageDialog);break}}onListDown(t){t.stopPropagation()}onScrollBarDown(t){t.stopPropagation()}onCountryItemRender(t,s){t.onChange(this.list_country.selectedIndex==s)}onOpenCountry(){this.img_country_pad.visible==!1&&(this.img_country_pad.visible=!0,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.onHideCountry))}onHideCountry(){this.img_country_pad.visible=!1,Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideCountry)}handleSelectCountry(t){if(console.log("handleSelectCountry: "+t),t!=-1){let s=this.list_country.selectedItem;P.countryId=s.id,this.img_flag.skin=te.getCountryIcon(s.id),this.tf_country.text=O.getLanguage(s.name)}}createCountryList(){let t=$.m_dicCountry;this.list_country.array=t.values,this.list_country.visible=!0;let s=-1,n=0;for(let o of t.values){if(o.id==P.countryId){s=n;break}n++}this.list_country.selectedIndex=s}onChangeHeadBack(t,s){this.input_name.text=t,P.headId=s,this.playerIcon.headSkin=s}onChangeModifyHead(t){P.headId=t,this.playerIcon.headSkin=t}onChangeHead(){Oe.intance.openModule(w.ChangeHeadDialog,[0])}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,s=O.getUILang("Upload picture"),n=O.getUILang("Select Image"),o=O.getUILang("Save changes");openUploadPic(this,t,s,n,o)}async openPicEnd(t,s){if(s.length>500){let n=await ei.requestPost("wxgame/player/uploadImg",{base64Str:s},!1,!1);n&&(P.headId=n.imgUrl,t.playerIcon.headSkin=n.imgUrl,console.log(n.imgUrl))}}async onRegister(){let t=this.input_name.text,s=1;if(t=t.trim(),t==""){Me.notice(O.getLanguage(25));return}if(P.countryId==-1){Me.notice(O.getLanguage(33));return}let n=new URL(window.location.href),l=new URLSearchParams(n.search).get("referral");if(l||(l=new URLSearchParams(n.hash.substring(1)).get("referral")),!l){let p=window.location.href.match(/referral=([^&]+)/);p&&p[1]&&(l=p[1])}console.log("referral: ",l),await He.createAcccount(t,s,P.headId.toString(),P.countryId,l)}onWaitPlayerInfoBack(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_USER_REGISTER);if(s==y.snake.socket.MessageCode.SYS_NORMAL&&n){gt.hideLoading();var o=n.roleInfo,l=new In;l.pid=o.roleId,l.name=o.userName,l.lv=o.lv,l.icon=o.icon,l.exp=o.score,l.code=o.code,l.country=o.country,l.invite=o.invite,l.snakeId=o.snakeId,l.skinId=o.skin,l.createTime=o.createTime,l.maxKill=o.maxKill,l.maxAlive=o.maxAlive,l.score=o.score,l.club=o.club,P.playerDto=l,this.close(),v.event(E.EVENT_ENTER_MAIN)}}requestInvitePlayerInfo(t){let s=y.snake.socket.MessageType.MSG_REQUEST_INFO,n=y.snake.socket.CS_REQUEST_INFO.fromObject({roleId:t,type:2});ge.send(s,n)}initReferral(){let t=new URL(window.location.href),n=new URLSearchParams(t.search).get("referral");if(n)this.requestInvitePlayerInfo(n);else{let l=new URLSearchParams(t.hash.substring(1)).get("referral");if(l)this.requestInvitePlayerInfo(l);else{let p=window.location.href.match(/referral=([^&]+)/);p&&p[1]?this.requestInvitePlayerInfo(p[1]):this.box_code.visible=!1}}}initCreateLoginView(){}onDisable(){this.removeEvent()}removeEvent(){v.off(Zl.INIT_CREATELOGIN_EVENT,this,this.initCreateLoginView),v.off(E.EVENT_MODIFY_HEAD,this,this.onChangeModifyHead),v.off(E.EVENT_WAIT_PLAYERINFO,this,this.onWaitPlayerInfoBack),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse)}onRequestInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_REQUEST_INFO);if(s==y.snake.socket.MessageCode.SYS_NORMAL){var o=n.roleInfo;this.tf_inviteName.text=at.truncateUnicodeString(o.userName,9),this.playerIcon2.headSkin=o.icon,o.club?(this.requestClubInfo(o.club),this.clubBox.visible=!0,this.nameBox.x=320):(this.clubBox.visible=!1,this.nameBox.x=89),console.log("玩家信息",o)}}requestClubInfo(t){let s="1_00",n=P.nodeId,o=$.getNodeByType(n);o&&K.vType!==0&&(s=o.point);let l=y.snake.socket.CS_CLUB_INFO.fromObject({point:s,clubId:Number(t)}),u=y.snake.socket.MessageType.MSG_CLUB_INFO;ge.send(u,l)}onClubInfoResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CLUB_INFO);s==y.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CLUB_INFO",n),this.img_clubIcon.skin=te.getClubIcon(n.icon),this.tf_clubName.text=at.truncateUnicodeString(n.name,7))}};b0=H([$O("1K2SyFxcQY-12SasSSRXyQ")],b0);mt();We();ot();nt();Rt();var y0=class extends Laya.Dialog{};Pt();var{regClass:qO}=Laya,_0=class extends y0{constructor(t){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.currentPage=1;this.isLoading=!1;this.hasMoreData=!0;this.pageSize=20;this.inviteTotal=0}onEnable(){this.list_rental.visible=!1,v.on("msg_"+y.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onRequestInfo),this.list_rental.scrollBar.on(Laya.Event.END,this,this.onScrollEnd),this.currentPage=1,this.isLoading=!1,this.hasMoreData=!0,this.initContainer()}initContainer(){if(this.isLoading||!this.hasMoreData)return;this.isLoading=!0;let t=P.playerDto;var s=y.snake.socket.MessageType.MSG_INVITE_LIST,n=y.snake.socket.CS_INVITE_LIST.fromObject({pageNo:this.currentPage,pageSize:this.pageSize});ge.send(s,n)}onScrollEnd(){var t=this.list_rental.scrollBar;t.value>=t.max-t.height&&this.hasMoreData&&!this.isLoading&&(this.currentPage++,this.initContainer())}onRequestInfo(t,s){this.isLoading=!1;var n=_e.getMsgBody(t,y.snake.socket.SC_INVITE_LIST);if(s==y.snake.socket.MessageCode.SYS_NORMAL){var o=n.info;if(this.inviteTotal=n.inviteCount||0,this.currentPage==1)this.list_rental.array=o;else{var l=this.list_rental.array||[];this.list_rental.array=l.concat(o)}this.list_rental.visible=!0,this.hasMoreData=this.list_rental.array.length<this.inviteTotal}}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onRequestInfo),this.list_rental&&this.list_rental.scrollBar&&this.list_rental.scrollBar.off(Laya.Event.END,this,this.onScrollEnd)}};_0=H([qO("ULWdMgcOTD-Y9ATVEVTfpg")],_0);Xe();et();Vt();qt();Ze();gr();ir();var x0=class extends Laya.Box{};var{regClass:YO}=Laya,v0=class extends x0{constructor(){super()}createChildren(){super.createChildren()}onEnable(){}set dataSource(t){if(!t)return;super.dataSource=t,this.referralData=t;let[s,n,,o,l,u]=t.split(","),p={headId:s,nickName:n,country:Number(o),battle:l,online:u};this.tf_name.text=p.nickName,this.playerIcon.headSkin=p.headId;let m=$.m_dicCountry.get(p.country);m&&(this.img_country.skin=te.getCountryIcon(m.id),this.tf_country.text=at.truncateString(O.getLanguage(m.name),9)),this.tf_battle.text=p.battle;let d=p.online==="0";this.tf_online.text=d?"online":Et.formatTimeAgoFromTimestamp(Number(p.online)),this.tf_online.color=d?"#12f801":"#ffffff"}onBtn12(){this.referralData.remNum>0&&Oe.intance.openModule(w.ReferralL2Dialog,this.referralData)}};v0=H([YO("UE9rYjENQbOU-0ZTLzyHGw")],v0);mt();rr();var I0=class extends Laya.Dialog{};var{regClass:QO}=Laya,S0=class extends I0{constructor(t){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){qe.playSoundByName(qe.soundName32)}onDisable(){}};S0=H([QO("szfg-Zt_RRWZ_nHMppjUMA")],S0);Xe();var k0=class extends Laya.Box{};var{regClass:XO}=Laya,E0=class extends k0{set dataSource(e){super.dataSource=e;var t=e;t&&(this.img_icon.skin="res/role/img_icon_"+t[0]+".png",this.tf_name.text=O.getUILang(t[1]),this.tf_num.text=t[2])}};E0=H([XO("WJ5TDeRBSkC9yMqJ72B0Ow")],E0);var L0=class extends Laya.Box{};var{regClass:JO}=Laya,w0=class extends L0{set dataSource(t){super.dataSource=t,this.headItem=t,this.headItem&&this.setCurrentOutPut()}async setCurrentOutPut(){let t=this.headItem.id;this.playerIcon.headSkin=t}onChange(t){}};w0=H([JO("AwN_JFPwQsKswm1N53Bmkg")],w0);mt();Vt();wi();qt();ut();We();Rt();nt();var T0=class extends Laya.Scene{};Xe();et();ot();lr();ni();Ze();Ri();Pt();ir();gr();St();var{regClass:ZO}=Laya,C0=class extends T0{constructor(t){super()}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onEnable(){this.tf_tittle.text=O.getLanguage(60),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.btn_copy.on(Laya.Event.CLICK,this,this.onCopy),this.btn_copy2.on(Laya.Event.CLICK,this,this.onCopy2),this.btn_copy3.on(Laya.Event.CLICK,this,this.onCopy3),this.btn_changeHead.on(Laya.Event.CLICK,this,this.onChangeHead),this.btn_detail.on(Laya.Event.CLICK,this,this.onDetail),this.btn_changeName.on(Laya.Event.CLICK,this,this.onBtnChangeNameClick),this.btn_confirm.on(Laya.Event.CLICK,this,this.sendChangeInfoRequest),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),v.on(E.ROLE_INFO_CHANGE,this,this.updateRoleInfo),v.on("msg_"+y.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),v.on("msg_"+y.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onInviteListResponse),this.updateRoleInfo(),Bt.startJellyScaleAnimation(this.tf_tittle)}updateRoleInfo(){let t="1",s=P.playerDto;if(!s){console.warn("Player data is not available");return}this.requestPlayerInfo(s.pid),this.requestInviteList(),this.updateBasicInfo(s),this.updateReferralInfo(s),this.updateCountryInfo(s.country),this.updateWalletAddress(),this.updatePlayerIcon(s.icon||t),this.showClubInfo()}requestPlayerInfo(t){let s=y.snake.socket.MessageType.MSG_REQUEST_INFO,n=y.snake.socket.CS_REQUEST_INFO.fromObject({roleId:t,type:1});ge.send(s,n)}requestInviteList(){let t=y.snake.socket.MessageType.MSG_INVITE_LIST,s=y.snake.socket.CS_INVITE_LIST.fromObject({pageNo:1,pageSize:1});ge.send(t,s)}updateBasicInfo(t){this.tf_name.text=at.fitTextToLabel(t.name,this.tf_name),this.tf_roleId.text=t.pid,this.tf_createTime.text=`${Et.formatDateDDMMYYYY(t.createTime)}`,this.tf_kill.text=`${t.maxKill}`,this.tf_longTime.text=`<span style="color:#6aeb2b;font-size:46px;">${t.maxAlive}</span><span style="color:#6aeb2b;font-size:10px;vertical-align:bottom;">s</span>`,this.tf_level.text=`${t.lv}`}updateReferralInfo(t){t.code?(this.tf_myCode.text=t.code,this.btn_copy2.disabled=!1):(this.tf_myCode.text="",this.btn_copy2.disabled=!0)}updateCountryInfo(t){let s=$.m_dicCountry.get(t);s&&(this.tf_country.text=O.getLanguage(s.name),this.img_country.skin=te.getCountryIcon(s.id))}updateWalletAddress(){let t=He.walletAddress;this.tf_address.text=at.shortenString(t,6,4)}updatePlayerIcon(t){this.playerIcon.headSkin=t}onChangeHead(){Oe.intance.openModule(w.ChangeHeadDialog,[1])}onCopy(){let t=He.walletAddress;doCopy(t),Me.notice(O.getLanguage(19))}onCopy2(){let t=this.tf_myCode.text,s=getVAddress(),n=P.m_strLanguage,o=O.getLanTypeById(n),l=`${s}?referral=${t}&lang=${o}`;doCopy(l),Me.notice(O.getLanguage(19))}onCopy3(){let t=this.tf_roleId.text;doCopy(t),Me.notice(O.getLanguage(19))}onRequestInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_REQUEST_INFO);if(s==y.snake.socket.MessageCode.SYS_NORMAL&&n.roleInfo){var o=n.roleInfo;n.roleInfo.roleId==P.playerDto.pid?(this.tf_totalNum.text=`${o.num}`,this.tf_totalKill.text=`${o.kills}`,this.tf_kill.text=`${o.maxKill}`,this.tf_longTime.text=`<span style="color:#6aeb2b;font-size:46px;">${o.maxAlive}</span><span style="color:#6aeb2b;font-size:32px;vertical-align:bottom;">s</span>`,o.invite?this.requestPlayerInfo(o.invite):(this.InviterPlayerIcon.visible=!1,this.tf_myReferee.text="None")):(this.tf_myReferee.text=o.userName,this.InviterPlayerIcon.visible=!0,this.InviterPlayerIcon.headSkin=o.icon)}}onInviteListResponse(t,s){if(s==y.snake.socket.MessageCode.SYS_NORMAL){var n=_e.getMsgBody(t,y.snake.socket.SC_INVITE_LIST);n&&(this.ally_num.text=`${n.inviteCount||0}`)}}onDisable(){v.off(E.ROLE_INFO_CHANGE,this,this.updateRoleInfo),this.btn_copy.off(Laya.Event.CLICK,this,this.onCopy),this.btn_copy2.off(Laya.Event.CLICK,this,this.onCopy2),this.btn_changeHead.off(Laya.Event.CLICK,this,this.onChangeHead),this.btn_detail.off(Laya.Event.CLICK,this,this.onDetail),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onRequestInfo),v.off("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_CHANGE_INFO,this,this.onChangeInfoResponse),v.off("msg_"+y.snake.socket.MessageType.MSG_INVITE_LIST,this,this.onInviteListResponse),v.offAllCaller(this)}onDetail(){Oe.intance.openModule(w.ReferralDialog)}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}onBtnChangeNameClick(){this.nameBox.visible=!1,this.changeNameBox.visible=!0,this.input_name.text=P.playerDto.name}sendChangeInfoRequest(){let t=y.snake.socket.MessageType.MSG_CHANGE_INFO,s=y.snake.socket.CS_CHANGE_INFO.fromObject({type:2,value:this.input_name.text});ge.send(t,s)}onChangeInfoResponse(t,s){if(s==y.snake.socket.MessageCode.SYS_NORMAL){var n=_e.getMsgBody(t,y.snake.socket.CS_CHANGE_INFO);this.nameBox.visible=!0,this.changeNameBox.visible=!1,n.type==1?this.updatePlayerIcon(n.value):(this.tf_name.text=at.fitTextToLabel(n.value,this.tf_name),P.playerDto.name=n.value)}else this.nameBox.visible=!0,this.changeNameBox.visible=!1;v.event(E.ROLE_INFO_CHANGE)}showClubInfo(){P.playerDto.club&&(this.requestClubInfo(P.playerDto.club),v.on("msg_"+y.snake.socket.MessageType.MSG_CLUB_INFO,this,this.onClubInfoResponse))}requestClubInfo(t){let s="1_00",n=P.nodeId,o=$.getNodeByType(n);o&&K.vType!==0&&(s=o.point);let l=y.snake.socket.CS_CLUB_INFO.fromObject({point:s,clubId:Number(t)}),u=y.snake.socket.MessageType.MSG_CLUB_INFO;ge.send(u,l)}onClubInfoResponse(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_CLUB_INFO);s==y.snake.socket.MessageCode.SYS_NORMAL&&(console.log("SC_CLUB_INFO",n),this.tf_clubName.text=at.truncateUnicodeString(n.name,30))}};C0=H([ZO("Ra6hof-DS3-o_gxRa_2t0g")],C0);mt();Io();ut();We();cn();var A0=class extends Laya.Dialog{};$l();Xe();et();ot();GI();ni();Ze();var{regClass:eN}=Laya,M0=class extends A0{constructor(){super(...arguments);this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}setOpenData(t){}onEnable(){this.list_head.vScrollBarSkin="",this.btn_confirm.on(Laya.Event.CLICK,this,this.onRegister),this.btn_custom.on(Laya.Event.CLICK,this,this.onBtnChangePic),this.input_name.prompt=O.getLanguage(25),this.initContainer();let t=$.getGeneralValueById(13);this.tf_nameGold.text=t[1],this.img_nameGold.skin=te.getMoneyIcon(t[0]),console.log(t)}initContainer(){this.list_head.vScrollBarSkin="",this.list_head.selectHandler=new Laya.Handler(this,this.handleSelectHead),this.createHeadList(),this.initCountry()}handleSelectHead(t){if(t!=-1){let s=this.list_head.selectedItem;P.headId=s.id,this.playerIcon.headSkin=P.headId}}createHeadList(){let t=$.m_dicHead;this.list_head.array=t.values,this.list_head.visible=!0;let s=-1,n=0;P.headId=P.playerDto.icon,this.playerIcon.headSkin=P.headId,this.input_name.text=P.playerDto.name;for(let o of t.values){if(o.id==P.headId){s=n;break}n++}this.list_head.selectedIndex=s}initCountry(){this.list_country.selectHandler=new Laya.Handler(this,this.handleSelectCountry),this.createCountryList(),this.box_country.on(Laya.Event.CLICK,this,this.onOpenCountry),this.list_country.on(Laya.Event.MOUSE_DOWN,this,this.onListDown),this.list_country.mouseHandler=Laya.Handler.create(this,this.onCountryItemMouse,null,!1),this.list_country.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1),this.list_country.scrollBar&&this.list_country.scrollBar.on(Laya.Event.MOUSE_DOWN,this,this.onScrollBarDown)}onCountryItemMouse(t,s){t.type===Laya.Event.CLICK&&(this.list_country.selectedIndex=s,this.onHideCountry())}onListDown(t){t.stopPropagation()}onScrollBarDown(t){t.stopPropagation()}onCountryItemRender(t,s){t.onChange(this.list_country.selectedIndex==s)}onOpenCountry(){this.img_country_pad.visible==!1&&(this.img_country_pad.visible=!0,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.onHideCountry))}onHideCountry(){this.img_country_pad.visible=!1,Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideCountry)}handleSelectCountry(t){if(console.log("handleSelectCountry: "+t),t!=-1){let s=this.list_country.selectedItem;P.countryId=s.id,this.img_flag.skin=te.getCountryIcon(s.id),this.tf_country.text=O.getLanguage(s.name)}}createCountryList(){let t=$.m_dicCountry;this.list_country.array=t.values,this.list_country.visible=!0;let s=-1,n=0;P.countryId=P.playerDto.country;for(let o of t.values){if(o.id==P.countryId){s=n;break}n++}this.list_country.selectedIndex=s}onBtnChangePic(){var t=Laya.Render.canvas.style.zIndex,s=O.getUILang("Upload picture"),n=O.getUILang("Select Image"),o=O.getUILang("Save changes");openUploadPic(this,t,s,n,o)}async openPicEnd(t,s){if(s.length>500){let n=await ei.requestPost("wxgame/player/uploadImg",{base64Str:s},!1,!1);n&&(P.headId=n.imgUrl,t.playerIcon.headSkin=n.imgUrl,t.list_head.selectedIndex=-1,console.log(n.imgUrl))}}onRegister(){let t=this.input_name.text;if(t=t.trim(),t==""){Me.notice(O.getLanguage(25));return}if(P.playerDto.name!==t&&P.getConsumeValue(tt.TYPE_GOLD)<Number(this.tf_nameGold.text)){Me.notice(ki.get(51));return}P.headId!=-1?this.onModify(t,P.headId,P.countryId):Me.notice(O.getLanguage(28))}async onModify(t,s,n){if(t==""){Me.notice(O.getLanguage(25));return}let o=await Ny.updateProfile(t,s.toString(),n);this.destroyed||(o?(P.playerDto=o,this.close(),v.event(E.ROLE_INFO_CHANGE)):Me.notice(O.getLanguage(29)))}};M0=H([eN("3CibwwHGSPG2Qkeq4rbMag")],M0);var R0=class extends Laya.ComboBox{};var{regClass:tN}=Laya,B0=class extends R0{set defaultLabel(e){this._defaultLabel=e,this._selectedIndex<0&&(this._button.label=e),this._button.labelAlign="center"}onEnable(){this.list=this.comboList}set dataSource(e){super.dataSource=e;var t=e;t&&(this.labels=t.join(","),console.log("comboData.length: "+t.length),this.list.repeatY=t.length,this.list.width=this.width,this.list.renderHandler=Laya.Handler.create(this,this.onCountryItemRender,null,!1))}onCountryItemRender(e,t){e.onChange(this.list.selectedIndex==t)}set isOpen(e){if(console.log("isOpen: "+e),this._isOpen!=e)if(this._isOpen=e,this._button.selected=this._isOpen,this._isOpen){this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem();var t=this.localToGlobal(Laya.Point.TEMP.setTo(0,0)),s=t.y+this._button.height;s=s+this._listHeight<=Laya.stage.height||t.y-this._listHeight<0?s:t.y-this._listHeight,this.img_pad.addChild(this._list),this.img_pad.pos(t.x,s),this.img_pad.visible=!0,Laya.stage.addChild(this.img_pad),this.img_pad.zOrder=1001,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,this.removeList),Laya.stage.on(Laya.Event.MOUSE_WHEEL,this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex}else this._list&&this._list.removeSelf(),this.img_pad&&this.img_pad.removeSelf()}};B0=H([tN("Fns-7UW3RpSb95NWnjiDFQ")],B0);Xe();mt();Vt();Ji();rr();ot();qt();fx();um();ni();var D0=class extends Laya.Dialog{};var{regClass:iN}=Laya,ho=class extends Laya.Script{constructor(){super();this._isLeft=!1}onAwake(){}get isLeft(){return this._isLeft}set isLeft(t){this._isLeft=t,this.btn_bg=this.owner.getChildByName("btn_bg"),this.label_left=this.owner.getChildByName("label_left"),this.label_right=this.owner.getChildByName("label_right"),this.isLeft?(this.btn_bg.x=4,this.label_left.color="#213343",this.label_right.color="#52a5e0"):(this.btn_bg.x=this.owner.width-this.btn_bg.width-4,this.label_left.color="#52a5e0",this.label_right.color="#213343")}};ho=H([iN("-1MGS4JRSMOn_RKPUuuV9Q")],ho);var{regClass:rN}=Laya,O0=class extends D0{constructor(t){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.totalLans=[1,6,7];this.currLan=0}onEnable(){this.musicSwitchButton=this.box_music.getComponent(ho),this.soundSwitchButton=this.box_sound.getComponent(ho),this.initContainer(),this.box_music.on(Laya.Event.CLICK,this,this.onClickHandler,[this.box_music]),this.box_sound.on(Laya.Event.CLICK,this,this.onClickHandler,[this.box_sound]),this.btn_copy.clickHandler=new Laya.Handler(this,this.onClickHandler,[this.btn_copy]),this.btn_referral.on(Laya.Event.CLICK,this,this.onClickHandler,[this.btn_referral]);for(let s=0;s<this.totalLans.length;s++){var t=this.totalLans[s];this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t])}}onClickHandler(t){switch(t){case this.box_music:this.musicSwitchButton.isLeft=!this.musicSwitchButton.isLeft,qe.switchMusic(this.musicSwitchButton.isLeft);break;case this.box_sound:this.soundSwitchButton.isLeft=!this.soundSwitchButton.isLeft,qe.switchSound(this.soundSwitchButton.isLeft);break;case this.btn_referral:Oe.intance.openModule(w.InviteRewardDialog);break;case this.btn_copy:{let s=this.inviteUrl;doCopy(s),Me.notice(O.getLanguage(19))}break}}initContainer(){this.musicSwitchButton.isLeft=qe.m_bPlayMusic,this.soundSwitchButton.isLeft=qe.m_bPlayeSound,this.currLan=P.m_strLanguage,this.setTab(P.m_strLanguage),this.inviteUrl=xs.getInviteUrl(),this.label_url.text=bs.shortStr(this.inviteUrl,50)}onClickTab(t){if(this.currLan==t)return;this.currLan=t,this.setTab(t);let s=O.getLanTypeById(t);O.FGM_SetLanguage(s),it.reload()}setTab(t){for(let n=0;n<this.totalLans.length;n++){var s=this.totalLans[n];t==s?(this["btn_"+s].getChildByName("btn_yellowBg").visible=!0,this["btn_"+s].getChildByName("Label").color="#213343"):(this["btn_"+s].getChildByName("btn_yellowBg").visible=!1,this["btn_"+s].getChildByName("Label").color="#52a5e0")}}webCopyString(t){let s=t,n=window.document.createElement("textarea");n.value=s,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";let o=window.getSelection(),l=!1;o.rangeCount>0&&(l=o.getRangeAt(0)),window.document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=s.length;let u=!1;try{u=window.document.execCommand("copy")}catch(p){console.error(p)}return window.document.body.removeChild(n),l&&(o.removeAllRanges(),o.addRange(l)),u}};O0=H([rN("yJfJZzgZRluE_rgB44yTvg")],O0);mt();var N0=class extends Laya.Dialog{};Ze();Rt();nt();We();Pt();et();Cr();var{regClass:sN}=Laya,OS=3,S2={selected:["res/main/join/img_tbl1.png","res/main/join/img_tbm1.png","res/main/join/img_tbr1.png"],unselected:["res/main/join/img_tbl2.png","res/main/join/img_tbm2.png","res/main/join/img_tbr2.png"]},k2={selected:"#0c6917",unselected:"#405073"},nN=[2,3,4],F0=class extends N0{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.isEntering=!1}onEnable(){this.initEvents(),this.backLayer.alpha=0,this.backLayer.visible=!0,Laya.Tween.to(this.backLayer,{alpha:.7},200,Laya.Ease.linearIn),xt.getTokenData()?this.onTabClick(0):this.requestCoinInfo()}onDisable(){this.removeEvents(),Laya.timer.clear(this,()=>{this.isEntering=!1})}initEvents(){for(let t=0;t<OS;t++)this[`tab${t}`].on(Laya.Event.CLICK,this,this.onTabClick,[t]);v.on(`msg_${y.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),this.img_di1.on(Laya.Event.CLICK,this,this.onCheakTab),this.btn_hideBox.on(Laya.Event.CLICK,this,this.onCloseTab),this.btn_font.on(Laya.Event.CLICK,this,this.onEnterMatch),this.list_token.renderHandler=Laya.Handler.create(this,this.onTokenItemRender,null,!1),this.list_token.selectHandler=new Laya.Handler(this,this.handleSelectToken)}removeEvents(){v.off(`msg_${y.snake.socket.MessageType.MSG_QUERY_TOKEN}`,this,this.onRequestInfo),this.img_di1.off(Laya.Event.CLICK,this,this.onCheakTab),this.btn_hideBox.off(Laya.Event.CLICK,this,this.onCloseTab),this.btn_font.off(Laya.Event.CLICK,this,this.onEnterMatch);for(let t=0;t<OS;t++)this[`tab${t}`].off(Laya.Event.CLICK,this,this.onTabClick);this.list_token.renderHandler=null,this.list_token.selectHandler=null}onEnterMatch(){this.isEntering||this.roomData&&(this.isEntering=!0,mo.goPvpArenaScene(this.roomData.id,this.roomData.ticketType[this.roomIndex],this.roomData.ticketAmount[this.roomIndex]),Laya.timer.once(3e3,this,()=>{this.isEntering=!1}))}onCheakTab(){xt.getTokenData()&&(this.img_token_pad.visible=!0,this.btn_hideBox.visible=!0)}onCloseTab(){this.img_token_pad.visible&&(this.btn_hideBox.visible=!1,this.img_token_pad.visible=!1)}onTabClick(t){xt.getTokenData()&&(this.updateTabsAppearance(t),this.roomType=nN[t],this.updateRoomData())}updateTabsAppearance(t){for(let s=0;s<OS;s++){let n=this[`tab${s}`],o=n.getChildByName("tf_tit"),l=t===s;n.skin=l?S2.selected[s]:S2.unselected[s],o.strokeColor=l?k2.selected:k2.unselected}}updateRoomData(){let s=($.m_dicRoom?.values).filter(n=>n.roomType==this.roomType);s.length!==0&&(this.roomData=s[0],this.list_token.array=this.roomData.ticketType,this.list_token.selectedIndex=0,this.updateTokenInfo(0))}updateTokenInfo(t){this.roomIndex=t;let s=xt.getTokenData().find(n=>n.symbolId==this.roomData.ticketType[t]);s&&(this.tf_coin.text=s.symbol,this.img_coin.skin=te.getCurrencyIcon(this.roomData.ticketType[t]),this.tf_number.text=String(this.roomData.ticketAmount[t]))}onTokenItemRender(t,s){t&&t.onChange&&(t.onChange(this.list_token.selectedIndex==s),this.img_token_pad.visible=!1,this.btn_hideBox.visible=!1)}handleSelectToken(t){t!=-1&&this.updateTokenInfo(t)}requestCoinInfo(){let t=y.snake.socket.MessageType.MSG_QUERY_TOKEN;ge.send(t)}onRequestInfo(t,s){let n=_e.getMsgBody(t,y.snake.socket.SC_QUERY_TOKEN);s==y.snake.socket.MessageCode.SYS_NORMAL&&this.onTabClick(0)}setOpenData(t){}};F0=H([sN("NM3GHDnJRD6AnD7XkkQaig")],F0);mt();wi();ut();We();var P0=class extends Laya.Scene{};nt();Vt();qt();Xe();Ji();ot();lr();ni();Ze();Ri();et();Pt();Jy();ut();We();Jy();var xm=class{static pushNotice(e){v.event(E.EVENT_NEW_NOTICE,e)}static startAutoPush(e=6e4){let t=["测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试","欢迎来到nake游戏，祝您游戏愉快！","新版本V1.2.5已发布，增加了新的游戏玩法和优化了游戏体验。","游戏将于明日凌晨2:00-4:00进行维护，请提前做好准备。","服务器即将进行维护，预计停机时间2小时。"];Laya.timer.loop(e,null,()=>{let s=Math.floor(Math.random()*t.length),n=t[s];this.pushNotice(n)})}static stopAutoPush(){Laya.timer.clearAll(null)}static clearAllNotices(){Vs.clearNotices()}};Rt();mn();gr();var{regClass:oN}=Laya,bn=class extends P0{constructor(){super(...arguments);this.isAnimationRunning=!1;this.lastPingTime=0;this.pingInProgress=!1;this.pingAbortControllers=[];this.shouldAbortPing=!1;this.currIconAni=1}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP,P.playerDto.club==""?this.btn_guild.visible=!1:(this.btn_guild.visible=!0,this.btn_guildCreate.visible=!1),this.initSpineEvent(),this.initMarquee(),this.initBagInfo()}async onOpened(t){this.startBackgroundAnimation(),this.mouseThrough=this.mouseThrough=!0,this.headBox.mouseThrough=!0;let s=this.getChildByName("mcMain");if(s&&(s.mouseThrough=!0),this.updateTopInfo(),this.updateModeBoxLayout(),it.sendCustumEvent(34),!!P.playerDto){var o=null;showChatBtn(!0,He.walletAddress,o),bn.hasTestedNodesThisSession?this.checkCurrentNode():(console.log("本次游戏启动，测试节点延迟并选择最佳节点"),bn.hasTestedNodesThisSession=!0,this.testNodeDelays()),Vs.setInMainScene(!0)}}startBtnAni(){this.currIconAni>5&&(this.currIconAni=1),this["spine_"+this.currIconAni].play(0,!1),this["spine_"+this.currIconAni].visible=!0,this.currIconAni++,Laya.timer.once(2e3,this,this.startBtnAni)}updateTopInfo(){let t=P.playerDto;if(!t)return;this.tf_roleName.text=at.fitTextToLabel(t.name,this.tf_roleName),t.needTip=!0,this.playerIcon.dataSource=t,this.tf_lv.text=`${t.lv}`;let s=$.getLevelById(t.lv);this.prog_exp.value=t.exp/s.needExp,console.log("playerDto.exp / levelItem.needExp："+t.exp/s.needExp);let n=new Date(P.m_serverTime);console.log("server time toLocaleString："+n.toLocaleString()),console.log("server time offset date："+P.timeZoneOff/60/60)}onGetRoleInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_REQUEST_INFO);if(s==y.snake.socket.MessageCode.SYS_NORMAL){var o=n.roleInfo;console.log("玩家信息",o)}}onEnable(){for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);for(let t=1;t<=4;t++)this[`btn_join_${t}`].on(Laya.Event.CLICK,this,this.joinRoomClick,[t]);this.playerIcon.on(Laya.Event.CLICK,this,this.onClickHead),this.btn_shop.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_shop]),this.btn_guild.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_guild]),this.btn_guildCreate.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_guildCreate]),this.btn_backpack.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_backpack]),this.btn_asset.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_asset]),this.btn_mail.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_mail]),this.btn_setting.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_setting]),this.btn_rank.clickHandler=new Laya.Handler(this,this.onclickBtnHandler,[this.btn_rank]),this.btn_node.on(Laya.Event.CLICK,this,this.showNodeBox),this.backLayer.on(Laya.Event.CLICK,this,this.hideNodeBox),this.btn_1.on(Laya.Event.CLICK,this,this.showJoinBox),this.btn_closeJoin.on(Laya.Event.CLICK,this,this.hideJoinBox),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onGetRoleInfo),v.on(E.ROLE_INFO_CHANGE,this,this.updateTopInfo),v.on(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.on(E.EVENT_ENTER_MATCH_ROOM,this,this.onEnterMatchRoom),v.on(E.EVENT_CHANGE_NODE,this,this.onChangeNode),v.on(E.EVENT_NEW_NOTICE,this,this.onReceiveNewNotice),v.on(E.EVENT_MARQUEE_EMPTY,this,this.onMarqueeEmpty),v.on(E.EVENT_NEW_NOTICE_ADDED,this,this.onNewNoticeAdded),v.on(E.ROLE_INFO_CHANGE,this,this.updateModeBoxLayout),this.initNodeList(),Laya.timer.loop(15e3,this,this.startPing),this.updateModeBoxLayout(),console.log("GlobalDataManager.playerDto.club："+P.playerDto.club)}onClickTab(t){t==2}onReceiveNewNotice(t){console.log("主界面接收到新公告事件:",t)}initSpineEvent(){let t;t=this.btn_guild,this.initSpineLoadEvent(this.AniSk_guild,this.btn_guild),this.initSpineLoadEvent(this.AniSk_shop,this.btn_shop),this.initSpineLoadEvent(this.AniSk_backpack,this.btn_backpack),this.initSpineLoadEvent(this.AniSk_asset,this.btn_asset),this.initSpineLoadEvent(this.AniSk_rank,this.btn_rank),this.initSpineLoadEvent(this.AniSk_btn1,this.btn_1),this.initSpineLoadEvent(this.AniSk_btn2,this.btn_2)}async onclickBtnHandler(t){switch(this.abortAllPingTests(),t){case this.btn_shop:je.setCurrentScene(he.M_SCENE_SHOP);break;case this.btn_backpack:je.setCurrentScene(he.M_SCENE_KNAPSACK);break;case this.btn_setting:je.setCurrentScene(he.M_SCENE_SETTING);break;case this.btn_asset:je.setCurrentScene(he.M_SCENE_ASSET);break;case this.btn_rank:je.setCurrentScene(he.M_SCENE_RANK);break;case this.btn_guild:console.log("GlobalDataManager.playerDto.club："+P.playerDto.club),je.setCurrentScene(he.M_SCENE_CLUB);break;case this.btn_guildCreate:console.log("GlobalDataManager.playerDto.club："+P.playerDto.club),Oe.intance.openModule(w.CreateClubDialog);break;case this.btn_mail:je.setCurrentScene(he.M_SCENE_MAIL);break;default:Me.notice(O.getLanguage(52));break}}onHideList(){Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHideList)}async onClickHead(){this.abortAllPingTests(),je.setCurrentScene(he.M_SCENE_ROLE)}onDisable(){for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab);for(let t=1;t<=4;t++)this[`btn_join_${t}`].off(Laya.Event.CLICK,this,this.joinRoomClick);this.playerIcon.off(Laya.Event.CLICK,this,this.onClickHead),this.btn_node.off(Laya.Event.CLICK,this,this.showNodeBox),this.backLayer.off(Laya.Event.CLICK,this,this.hideNodeBox),this.btn_1.off(Laya.Event.CLICK,this,this.showJoinBox),this.btn_closeJoin.off(Laya.Event.CLICK,this,this.hideJoinBox),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_INFO,this,this.onGetRoleInfo),v.off(E.ROLE_INFO_CHANGE,this,this.updateTopInfo),v.off(E.EVENT_ENTER_MATCH_ROOM,this,this.onEnterMatchRoom),v.off(E.EVENT_CHANGE_NODE,this,this.onChangeNode),v.off(E.EVENT_ITEM_UPDATE,this,this.onPackInfo),v.off(E.ROLE_INFO_CHANGE,this,this.updateModeBoxLayout),v.off(E.EVENT_NEW_NOTICE,this,this.onReceiveNewNotice),v.off(E.EVENT_MARQUEE_EMPTY,this,this.onMarqueeEmpty),v.off(E.EVENT_NEW_NOTICE_ADDED,this,this.onNewNoticeAdded),this.stopBackgroundAnimation(),this.destroySpineEventListeners(),this.destroySpineAnimations(),Laya.timer.clearAll(this),Vs.setInMainScene(!1),xm.stopAutoPush(),Laya.timer.clear(this,this.startPing),showChatBtn(!1),v.offAllCaller(this),Laya.Tween.clearAll(this)}destroySpineAnimations(){for(let t=1;t<8;t++){let s=this["spine_"+t];s&&(s.stop(),s.removeSelf())}}onEnterMatchRoom(t){t?Laya.timer.once(2e3,this,this.startBtnAni):Laya.timer.clear(this,this.startBtnAni)}startBackgroundAnimation(){!this.isAnimationRunning&&this.bgAni&&(this.isAnimationRunning=!0,Bt.startCircleAnimation(this.bgAni,Laya.stage.width/2,Laya.stage.height/2,30,3500,!0,0,null))}stopBackgroundAnimation(){this.isAnimationRunning&&this.bgAni&&(this.isAnimationRunning=!1,Bt.stopCircleAnimation(this.bgAni))}onSpineReady(t){if(!t){console.warn("Button component is null in onSpineReady");return}t==this.btn_guildCreate&&console.log("spine == this.btn_guildCreate"),t.skin="",t==this.btn_guild&&(P.playerDto.club==""||P.playerDto.club)}getSpineNode(t){return t?t.box_sk?t.box_sk:(console.warn("Spine skeleton node is null in AniSk component"),null):(console.warn("AniSk component is null"),null)}initSpineLoadEvent(t,s){if(!t||!s){console.warn("Invalid parameters in initSpineLoadEvent");return}let n;if(t===this.AniSk_guild2)n=this.AniSk_guild2;else if(t===this.AniSk_guild)n=this.AniSk_guild;else if(this.isAniSk(t))n=this.getSpineNode(t);else{console.warn("Unknown spine animation type");return}n&&(n.off(Laya.Event.READY,this,this.onSpineReady),n.on(Laya.Event.READY,this,this.onSpineReady,[s]))}destroySpineEventListeners(){let t;t=this.btn_guild,[{anisk:this.AniSk_guild,button:t},{anisk:this.AniSk_shop,button:this.btn_shop},{anisk:this.AniSk_backpack,button:this.btn_backpack},{anisk:this.AniSk_asset,button:this.btn_asset},{anisk:this.AniSk_rank,button:this.btn_rank},{anisk:this.AniSk_btn1,button:this.btn_1},{anisk:this.AniSk_btn2,button:this.btn_2}].forEach(({anisk:n,button:o})=>{if(n&&o)if(this.isAniSk(n)){let l=this.getSpineNode(n);l&&l.off(Laya.Event.READY,this,this.onSpineReady)}else n===this.AniSk_guild2?this.AniSk_guild2&&this.AniSk_guild2.off(Laya.Event.READY,this,this.onSpineReady):n===this.AniSk_guild&&this.AniSk_guild&&this.AniSk_guild.off(Laya.Event.READY,this,this.onSpineReady)})}isAniSk(t){return t&&"box_sk"in t}showNodeBox(){if(!this.nodeBox){console.warn("nodeBox is not defined in MainScene");return}if(!this.btn_node){console.warn("btn_node is not defined in MainScene");return}this.executePing(!0),this.backLayer.visible=!0,this.nodeBox.scaleX=0,this.nodeBox.scaleY=0,this.nodeBox.visible=!1;let t=this.btn_node.localToGlobal(new Laya.Point(this.btn_node.width/2,this.btn_node.height/2));t.x+=90,t.y+=20;let s=this.nodeBox.parent;if(!s){console.warn("nodeBox parent is null");return}let n=s.globalToLocal(t);this.nodeBox.pos(n.x,n.y),Bt.startElasticPopupAnimation(this.nodeBox,150,1.1,100,.95,80,Laya.Handler.create(this,()=>{console.log("NodeBox show animation complete")}))}hideNodeBox(){if(!this.nodeBox){console.warn("nodeBox is not defined in MainScene for hiding");return}Bt.startLinearShrinkAnimation(this.nodeBox,80,Laya.Handler.create(this,()=>{this.backLayer.visible=!1,console.log("NodeBox hide animation complete")}))}initNodeList(){let t=$.m_dicNodes.values,s=P.nodeId,n;for(let o=0;o<t.length;o++)if(t[o].id===s){n=t[o];break}if(n){let o=$.m_dicCountry.get(n.area);o&&(this.tf_nowNodeFlag.skin=te.getNodeIcon(o.id),this.tf_nowNodeFlag2.skin=te.getCountryIcon(o.id)),this.tf_nowNode.text=O.getLanguage(n.name),this.tf_nowNode2.text=O.getLanguage(n.name);let l=t.filter(p=>p.id!==s);this.NodeList.array=l;let u=n.url;P.currentNodeUrl=u}else this.NodeList.array=t}showJoinBox(){this.abortAllPingTests(),this.joinBox.scaleX=0,this.joinBox.scaleY=0,this.btn_closeJoin.visible=!1,this.img_guangTop.visible=!0,this.backLayer.visible=!0,this.backLayer.off(Laya.Event.CLICK,this,this.hideNodeBox),this.joinBox.visible=!0,this.updateModeBoxLayout(),Laya.Tween.to(this.joinBox,{scaleX:1.15,scaleY:1.15},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.joinBox,{scaleX:1,scaleY:1},60,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.btn_closeJoin.visible=!0,this.backLayer.on(Laya.Event.CLICK,this,this.hideNodeBox)}))}))}joinRoomClick(t){switch(this.abortAllPingTests(),this.hideJoinBox(),t){case 1:Oe.intance.openModule(w.JoinRoomDialog,t);break;case 2:P.playerDto.club!==""&&P.playerDto.club!==void 0?je.setCurrentScene(he.M_SCENE_CLUB):Oe.intance.openModule(w.CreateClubDialog);break;case 3:mo.goAiArenaScene();break;case 4:break}}hideJoinBox(){this.btn_closeJoin.visible=!1,Laya.Tween.to(this.joinBox,{scaleX:1.15,scaleY:1.15},50,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.joinBox,{scaleX:.2,scaleY:.2},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.joinBox.visible=!1,this.backLayer.visible=!1,this.img_guangTop.visible=!1}))}))}startPing(t=!1){setTimeout(()=>{if(window.requestIdleCallback)window.requestIdleCallback(()=>this.executePing(t),{timeout:1e3});else{let n=0,o=l=>{requestAnimationFrame(()=>{++n>=3?l():o(l)})};o(()=>this.executePing(t))}},t?1e3:2e3)}executePing(t=!1){if(this.shouldAbortPing||this.pingInProgress)return;let s=Date.now();if(!t&&s-this.lastPingTime<15e3){this.nodeBox&&this.nodeBox.visible&&!this.shouldAbortPing&&this.updateNodeListDelays();return}this.lastPingTime=s,this.pingInProgress=!0;let n=P.currentNodeUrl||"https://wss-room-sg.queengame.io/test-ping";this.pingServerLite(n).then(o=>{v.event(E.EVENT_Game_Delay,o),(this.nodeBox&&this.nodeBox.visible||t)&&!this.shouldAbortPing&&this.updateNodeListDelays()}).catch(o=>{v.event(E.EVENT_Game_Delay,9999);let l=P.nodeId,u=$.m_dicNodes.get(l);u&&u.setDelay(9999),(this.nodeBox&&this.nodeBox.visible||t)&&!this.shouldAbortPing&&this.updateNodeListDelays()}).finally(()=>{this.pingInProgress=!1})}pingServerLite(t){return new Promise((s,n)=>{if(this.shouldAbortPing||!t)return;let o=new AbortController;this.pingAbortControllers.push(o);let l=o.signal,p=setTimeout(()=>{let _=this.pingAbortControllers.indexOf(o);_!==-1&&this.pingAbortControllers.splice(_,1),o.abort(),n(new Error("请求超时"))},3e3),m=Date.now(),d=Math.floor(Math.random()*1e5),f=`${t}?_t=${m}&r=${d}`,g=Date.now();try{fetch(f,{method:"GET",mode:"no-cors",cache:"no-cache",signal:l}).then(()=>{let _=this.pingAbortControllers.indexOf(o);_!==-1&&this.pingAbortControllers.splice(_,1);let S=Date.now()-g;clearTimeout(p),s(S)}).catch(_=>{let S=this.pingAbortControllers.indexOf(o);if(S!==-1&&this.pingAbortControllers.splice(S,1),_.name==="AbortError"){if(this.shouldAbortPing){n(new Error("用户操作中断"));return}this.pingWithImage(t).then(x=>s(x)).catch(()=>n(_))}else n(_)})}catch(_){let S=this.pingAbortControllers.indexOf(o);if(S!==-1&&this.pingAbortControllers.splice(S,1),clearTimeout(p),this.shouldAbortPing){n(new Error("用户操作中断"));return}this.pingWithImage(t).then(x=>s(x)).catch(()=>n(_))}})}pingWithImage(t){return new Promise((s,n)=>{if(this.shouldAbortPing){n(new Error("用户操作中断"));return}let o=new Image,l=Date.now(),u=!1,p=2e3,m=setTimeout(()=>{u||(u=!0,n(new Error("图片加载超时")))},p),d=()=>{clearTimeout(m),o.onload=null,o.onerror=null;try{delete o.src}catch{o.src=""}};o.onload=()=>{if(!u){u=!0,d();let I=Date.now()-l;s(I)}},o.onerror=()=>{if(!u){u=!0,d();let I=Date.now()-l;I<800?s(I):n(new Error("图片加载失败"))}};let f=Date.now(),g=Math.floor(Math.random()*1e5),_=`${t}?_t=${f}&r=${g}&type=image`;o.src=_;let S=()=>this.shouldAbortPing&&!u?(u=!0,d(),n(new Error("用户操作中断")),!0):!1;S();let x=setInterval(()=>{(S()||u)&&clearInterval(x)},100);setTimeout(()=>{clearInterval(x),u||(u=!0,d(),n(new Error("图片加载未完成")))},p+200)})}updateNodeListDelays(){if(this.shouldAbortPing){console.log("有用户操作正在进行，中断节点列表更新");return}if(!this.NodeList||!this.NodeList.array||this.NodeList.array.length===0)return;let t=this.NodeList.array,s=6e3,n=Date.now(),o=0,l=t.length,u=t.map((p,m)=>new Promise(d=>{let f=100+Math.floor(m*700/t.length);setTimeout(()=>{if(this.shouldAbortPing){console.log(`节点${p.id}测试被用户操作中断`),d();return}if(Date.now()-n>s){d();return}p&&p.url?this.pingServerLite(p.url).then(g=>{p.setDelay(g),this.updateNodeItemDelay(m,g)}).catch(g=>{g?.message==="用户操作中断"?console.log(`节点 ${p.id} 测试被用户中断`):(p.setDelay(9999),this.updateNodeItemDelay(m,9999))}).finally(()=>{o++,d()}):(o++,d())},f)}));Promise.all(u).then(()=>{}),setTimeout(()=>{o<l&&!this.shouldAbortPing&&this.abortAllPingTests()},s+1e3)}async testNodeDelays(){if(this.shouldAbortPing){console.log("有用户操作正在进行，跳过节点测试");return}if(await new Promise(m=>setTimeout(m,1e3)),this.shouldAbortPing){console.log("延迟后检测到用户操作，跳过节点测试");return}let t=$.m_dicNodes.values;if(!t||t.length===0){console.log("节点列表为空，无法进行延迟测试");return}let s=[],n=3,o=500,l=0,u=Math.ceil(t.length/n),p=m=>new Promise(d=>{if(this.shouldAbortPing){console.log("批次处理中检测到用户操作，中断当前批次"),d();return}let f=0;m.forEach(g=>{g&&g.url&&g.open===1?setTimeout(()=>{if(this.shouldAbortPing){f++,f>=m.length&&d();return}this.pingServerLite(g.url).then(_=>{if(s.push({nodeId:g.id,url:g.url,delay:_,name:g.name}),g.setDelay(_),this.NodeList&&this.NodeList.array&&this.NodeList.array.length>0){let x=this.NodeList.array.findIndex(I=>I.id===g.id);x!==-1&&this.updateNodeItemDelay(x,_)}}).catch(_=>{if(!this.shouldAbortPing&&(s.push({nodeId:g.id,url:g.url,delay:9999,name:g.name}),g.setDelay(9999),this.NodeList&&this.NodeList.array&&this.NodeList.array.length>0)){let x=this.NodeList.array.findIndex(I=>I.id===g.id);x!==-1&&this.updateNodeItemDelay(x,9999)}}).finally(()=>{f++,f>=m.length&&d()})},Math.random()*100):(f++,f>=m.length&&d())}),m.length===0&&d()});for(let m=0;m<t.length;m+=n){if(this.shouldAbortPing){console.log("批次循环中检测到用户操作，中断剩余批次处理");break}let d=t.slice(m,m+n);await p(d),l++,m+n<t.length&&!this.shouldAbortPing&&await new Promise(f=>setTimeout(f,o))}if(console.log(`节点批次处理完成: ${l}/${u}`),this.shouldAbortPing){console.log("用户已中断节点测试，保持当前节点不变");return}if(s.length>0){s.sort((d,f)=>d.delay-f.delay);let m=s[0];if(m.delay<9999)console.log(`选择最佳节点: ${m.nodeId}(${m.name})，延迟: ${m.delay}ms`),P.nodeId=m.nodeId,P.currentNodeUrl=m.url,this.initNodeList(),v.event(E.EVENT_Game_Delay,m.delay),v.event(E.EVENT_CHANGE_NODE);else{console.warn("所有节点测试都失败，使用默认节点1001"),P.nodeId=1001;let d=t.find(f=>f.id===1001);d&&d.url?P.currentNodeUrl=d.url:P.currentNodeUrl="https://wss-room-sg.queengame.io/test-ping",this.initNodeList(),v.event(E.EVENT_CHANGE_NODE)}}}initMarquee(){if(!this.runBox||!this.tf_run1){console.warn("跑马灯组件不存在，无法初始化");return}Vs.init(this.runBox,this.tf_run1,2),Vs.setMaxPlayCount(2),Vs.hasNotices()?this.marqueeBox.visible=!0:this.marqueeBox.visible=!1}updateNodeItemDelay(t,s){let n=this.NodeList.getCell(t);n&&n.setDelay&&n.setDelay(s)}onMarqueeEmpty(){this.marqueeBox&&(this.marqueeBox.visible=!1)}onNewNoticeAdded(){this.marqueeBox&&(this.marqueeBox.visible=!0)}initBagInfo(){let t=y.snake.socket.MessageType.MSG_PACK_INFO;ge.send(t)}onPackInfo(){let t=Ei.getAllKnapsackItems().find(s=>s.id===10001);t&&(console.log(t),this.tf_score.text=`${parseFloat(t.num.toFixed(4)).toString()}`)}updateModeBoxLayout(){let t=P.playerDto.club!==""&&P.playerDto.club!==void 0;if(this.modeBox_2&&(this.modeBox_2.visible=t),!t&&this.middleBox){let u=this.middleBox.width/2-841/2+255/2;this.modeBox_1&&(this.modeBox_1.x=u),this.modeBox_3&&(this.modeBox_3.x=u+255+38),this.modeBox_4&&(this.modeBox_4.x=u+(255+38)*2)}else this.modeBox_1&&(this.modeBox_1.x=130.5),this.modeBox_2&&(this.modeBox_2.x=415.5),this.modeBox_3&&(this.modeBox_3.x=703.5),this.modeBox_4&&(this.modeBox_4.x=988.5)}abortAllPingTests(){this.shouldAbortPing=!0,this.pingAbortControllers.length>0&&(console.log(`中断${this.pingAbortControllers.length}个正在进行的ping测试`),this.pingAbortControllers.forEach(t=>{try{t.abort()}catch{}}),this.pingAbortControllers=[]),this.pingInProgress=!1,setTimeout(()=>{this.shouldAbortPing=!1},1e3)}onChangeNode(){this.initNodeList(),this.executePing(!0)}checkCurrentNode(){let t=P.nodeId,s=$.m_dicNodes.get(t);if(!s||!s.url){this.testNodeDelays();return}(!P.currentNodeUrl||P.currentNodeUrl!==s.url)&&(P.currentNodeUrl=s.url),this.executePing(!0)}};bn.M_B_FIRST_Open=!0,bn.hasTestedNodesThisSession=!1,bn=H([oN("pxhiJrX5SkKKvyFr8uIlNA")],bn);var Ws=class{constructor(){}};Ws.GREEN="#2ac84b",Ws.YELLOW="#e8c833",Ws.RED="#e04343";ut();We();Ze();var U0=class extends Laya.Box{};var{regClass:aN}=Laya,H0=class extends U0{constructor(){super()}onEnable(){v.on(E.EVENT_Game_Delay,this,this.onGameDelay),this.tf_delay&&(this.tf_delay.text="-",this.tf_delay.color&&(this.tf_delay.color="#FFFFFF"),this.img_delay&&(this.img_delay.skin="res/common/comm/img_xh1.png"))}onGameDelay(e){if(!this.tf_delay||!this.img_delay){console.error("NetDelaySign组件未完全初始化");return}var t=$.getGeneralValueById(6),s=t?t[0]:200,n=t?t[1]:500;e===1e4?(this.tf_delay.text="-",this.tf_delay.color="#FFFFFF",this.img_delay.skin="res/common/comm/img_xh1.png"):e>=9999?(this.tf_delay.text="Timeout",this.tf_delay.color=Ws.RED,this.img_delay.skin="res/common/comm/img_xh1.png",console.log("NetDelaySign显示超时状态")):e>n?(this.tf_delay.text=e+"ms",this.tf_delay.color=Ws.RED,this.img_delay.skin="res/common/comm/img_xh1.png"):e>s?(this.tf_delay.text=e+"ms",this.tf_delay.color=Ws.YELLOW,this.img_delay.skin="res/common/comm/img_xh2.png"):(this.tf_delay.text=e+"ms",this.tf_delay.color=Ws.GREEN,this.img_delay.skin="res/common/comm/img_xh3.png")}onDisable(){v.off(E.EVENT_Game_Delay,this,this.onGameDelay)}};H0=H([aN("AhgzWGWoRFetvSMsEOSkSg")],H0);var z0=class extends Laya.Box{};Xe();et();Ze();ot();We();ut();var{regClass:lN}=Laya,j0=class extends z0{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.changeNode)}set dataSource(t){if(super.dataSource=t,!t)return;this.nodeItem=t,this.tf_country.text=O.getLanguage(t.name);let s=$.m_dicCountry.get(t.area);this.img_flag.skin=te.getCountryIcon(s.id),t.dT!==void 0?this.setDelay(t.dT):this.tf_delay.text=""}changeNode(){if(P.nodeId=this.nodeItem.id,P.currentNodeUrl=this.nodeItem.url,console.log("新节点",P.nodeId),this.nodeItem){let t=this.nodeItem.getDisplayDelay();v.event(E.EVENT_Game_Delay,t)}v.event(E.EVENT_CHANGE_NODE)}setDelay(t){if(!this.tf_delay)return;this.nodeItem&&this.nodeItem.setDelay(t);let s=this.nodeItem?this.nodeItem.getDisplayDelay():t;s===1e4?(this.tf_delay.text="-",this.tf_delay.color="#FFFFFF",this.img_delay.skin="res/common/comm/img_xh1.png"):s>=9999?(this.tf_delay.text="Timeout",this.tf_delay.color="#FF0000",this.img_delay.skin="res/common/comm/img_xh1.png"):s>500?(this.tf_delay.text=s+"ms",this.tf_delay.color="#FF0000",this.img_delay.skin="res/common/comm/img_xh1.png"):s>200?(this.tf_delay.text=s+"ms",this.tf_delay.color="#FFFF00",this.img_delay.skin="res/common/comm/img_xh2.png"):(this.tf_delay.text=s+"ms",this.tf_delay.color="#00FF00",this.img_delay.skin="res/common/comm/img_xh3.png")}};j0=H([lN("PayHrcvHRHadv1wSa6XTzA")],j0);et();var G0=class extends Laya.Box{};var{regClass:cN}=Laya,V0=class extends G0{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.playerDto=t,this.playerDto&&(this.addEvent(),this.setCurrentOutPut())}set headSkin(t){parseInt(t)>0?this.img_head.skin=te.getPlayerIcon(t):this.setImage(t)}async setCurrentOutPut(){if(!this.playerDto)return;let t=this.playerDto.icon;parseInt(t)>0?this.img_head.skin=te.getPlayerIcon(t):this.setImage(t)}setImage(t){this.clearImage();var s=this;Laya.loader.load(t,Laya.Handler.create(this,()=>{s.destroyed||(this.img_head.skin=t)}),null,Laya.Loader.IMAGE,-1,!0,"1111",!1,!1)}clearImage(){this.img_head&&(this.img_head.texture=null)}destroy(t=!0){this.clearImage(),super.destroy(t)}toDetail(){!this.playerDto||this.playerDto.needTip}};V0=H([cN("OPT5t2CoSmuYp2zUJWwUWA")],V0);et();mt();Ze();var W0=class extends Laya.Dialog{};var{regClass:uN}=Laya,K0=class extends W0{constructor(){super();this.m_iLayerType=ee.M_TOP;this.m_iPositionType=ee.CENTER}onEnable(){Laya.Tween.to(this.backLayer,{alpha:1},200,Laya.Ease.linearIn),Bt.startElasticPopupAnimation(this.allBox,150,1.1,100,.95,80),this.btn_ok.on(Laya.Event.CLICK,this,this.close)}setOpenData(t){if(t){console.log("收到升级通知:",t);let s=t.items[0],n=s.itemId,o=s.num,l=$.m_dicItems.get(n);this.img_icon.skin=te.getItemIcon(l.icon),this.tf_num.text=`+${o}`}}onDisable(){}};K0=H([uN("gNPNtfC8SYW_NR7gSnpNlg")],K0);et();Cr();var $0=class extends Laya.Box{};var{regClass:pN}=Laya,q0=class extends $0{set dataSource(t){if(super.dataSource=t,t){let s=xt.getTokenDataBySyId(t);this.tf_data.text=s.symbol,this.img_coin.skin=te.getCurrencyIcon(s.symbolId)}}onDisable(){}onChange(t){t?(this.selectImg.visible=!0,this.tf_data.color="#ffffff"):(this.tf_data.color="#357cc0",this.selectImg.visible=!1)}};q0=H([pN("7DyPeY0BQZaSycl2nmV5qg")],q0);var Y0=class extends Laya.Box{};var{regClass:mN}=Laya,ya=class extends Y0{constructor(){super();this.isReady=!1;this.needChangeAni=!0;this.loop=!0;this.isInited=!1}onEnable(){this.sk=this.box_sk,this.sk.on(Laya.Event.READY,this,this.onSkReady),this.sk.loop=this.loop,console.log("onEnable: + this.animationName： "+this.animationName),this.animationName&&(this.sk.animationName=this.animationName),this.spineTemplet?(this.sk.templet=this.spineTemplet,console.log("onEnable: + this.spineTemplet ")):this.templateUrl?Laya.loader.load(this.templateUrl,Laya.Loader.SPINE).then(t=>{this.destroyed||(this.sk.templet=t,console.log("this.templateUrl: "+this.templateUrl))}):this.animationName||(this.sk.animationName="animation"),this.isInited=!0}onSkReady(){this.isReady=!0,console.log("onSkReady this.visible: "+this.visible)}play(t,s,n,o,l,u,p){if(!this.isReady){console.log("动画未准备好，不能play");return}this.sk.play(t,s,n,o,l,u,p)}stop(){if(!this.isReady){console.log("动画未准备好，不能stop");return}this.sk.stop()}init(t,s="animation",n=!0){console.log("init: ",s,t),this.animationName=s,this.spineTemplet=t,this.loop=n,this.visible=!0,this.isInited&&(this.animationName&&(this.sk.animationName=this.animationName),this.sk.templet=this.spineTemplet)}initUrl(t,s="animation",n=!0){console.log("initUrl: ",t),this.animationName=s,this.templateUrl=t,this.loop=n,this.visible=!0,this.isInited&&Laya.loader.load(this.templateUrl,Laya.Loader.SPINE).then(o=>{this.destroyed||(this.animationName&&(this.sk.animationName=this.animationName),this.sk.templet=o,console.log("this.templateUrl: "+this.templateUrl))})}onDisable(){Laya.Pool.recover(ya.aniSkPrefab,this),this.box_sk.off(Laya.Event.READY,this,this.onSkReady),this.sk.templet=null}};ya.aniSkPrefab="aniSkPrefab",ya=H([mN("2rJV0EbMT9K2L6-6HOpDHw")],ya);Vt();qt();Io();Xe();ot();var fo=class i{static toFixed(e,t){if(e.toString().indexOf(".")==-1)return e;{let s=e.toFixed(t);return parseFloat(s)}}static toFixedWithPercent(e,t,s="+"){let n;return e.toString().indexOf(".")==-1?n=s+e*100+"%":(t=t-2,t<0&&(t=0),n=s+(e*100).toFixed(t)+"%"),n}static getGoldStr(e){let t;return e>999999?t=parseInt(String(e/1e5))+"m":t=e,t}static numStringFormat(e){let t=e;return P.m_strLanguage==2?e.length>4&&(t=String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")):t=String(e).replace(/(\d)(?=(\d{3})+$)/g,"$1,"),t}static numSimple(e){let t=e,s=parseInt(parseInt(t)/1e3+"");return s>0?s+"k":i.numStringFormat(t)}static numStringFormat2(e){let t;if(e>999999)t=i.getNumStr(e,1e6,"M");else if(e>999)t=i.getNumStr(e,1e3,"K");else return e+"";return t}static getNumStr(e,t,s){return parseInt(Math.floor(e/t)+"")+s}static getTimeStr(e){let t;return e<3600?t=O.getLanguage(9024,Math.ceil(e/60)):e<3600*24?t=O.getLanguage(9025,Math.ceil(e/3600)):t=O.getLanguage(9025,Math.ceil(e/(3600*24))),t}static isInteger(e){return e%1===0}static isNumber(e){return typeof e=="number"}static formatNumber(e,t=8){return Number.isInteger(e)?e:parseFloat(e.toFixed(t))}static formatNumberStr(e,t=2){return Number.isInteger(e)?e:parseFloat(e.toFixed(t)).toString()}static filterNumFormat(e,t=2,s=!1,n=!1){if(!e)return e;if(e<1e3&&e>0)if(n){var o=Math.floor(Number(parseFloat(e*10**t+"").toPrecision(16)))/10**t;return parseFloat(o.toFixed(t)).toString()}else return parseFloat(e.toFixed(t)).toString();if(e==="0.00")return e;var l=[{value:1,symbol:""},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"}];s&&(l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"}]);var u=/\.0+$|(\.[0-9]*[1-9])0+$/,p;for(p=l.length-1;p>0&&!(e>=l[p].value);p--);let m=(e/l[p].value).toString();return m.indexOf(".")>-1&&(t>0?m=m.substr(0,m.indexOf(".")+t+1):m=m.substr(0,m.indexOf(".")+t)),m.replace(u,"$1")+l[p].symbol}static fromWei(e,t,s=0){if(!e)return 0;let n=e.length-t+s;if(n<=0)return 0;let o=e.toString().slice(0,n);if(s){let l=o.length-s;if(l<=0){let u="0.";for(let p=0;p<Math.abs(l);p++)u+="0";o=u+o}else o=o.slice(0,o.length-s)+"."+o.slice(o.length-s)}return o}static getNumberSuffix(e){let t=parseInt(e,10);return isNaN(t)?e:(t%1e9).toString()}};var Q0=class extends Laya.Box{};var{regClass:hN}=Laya,X0=class extends Q0{constructor(){super();this.showAdd=!1;this.isAddEvent=!1}addEvent(){this.isAddEvent||(this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.itemVo=t,this.itemVo&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){if(!this.itemVo)return;this.itemVo.id==tt.TYPE_QUAN_MNT?(this.tf_quanId.visible=!0,this.tf_quanId.text=this.itemVo.m_iPk):this.tf_quanId.visible=!1;let t=this.itemVo.itemItem;Oe.intance.hasOpenView(w.PveChoosePropsDialog)&&(this.txt_num.visible=!1),this.itemVo?(this.showAdd?this.txt_num.text=""+fo.formatNumber(this.itemVo.newAddCnt,8):this.itemVo.num?this.txt_num.text=""+fo.formatNumber(this.itemVo.num,8):this.txt_num.text=""+fo.formatNumber(this.itemVo.newAddCnt,8),this.img_icon.skin=this.itemVo.iconURL,this.img_box.skin="gameIcon/items/itemBg/img_"+this.itemVo.quality+".png"):(this.txt_num.text="",this.img_icon.skin=null,this.img_box.skin="gameIcon/items/itemBg/img_0.png"),this.tf_isSch.visible=this.itemVo.isScholarship}};X0=H([hN("LzxJYKybT_m3CJav3RyDmg")],X0);Xe();mt();Ze();var J0=class extends Laya.Dialog{};var{regClass:dN}=Laya,Z0=class extends J0{constructor(){super(...arguments);this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}setOpenData(t){if(t){this.itemVo=t;let s=this.itemVo.id,n=$.m_dicItems.get(s);this.item.dataSource=this.itemVo,this.tf_name.text=this.itemVo.itemName,n?(this.txt_type.text=O.getLanguage(6060)+O.getLanguage(n.type),this.txt_desc.text=O.getLanguage(n.des),this.txt_desc.visible=n.des!==0):(this.txt_type.text="",this.txt_desc.text="")}}removeEvent(){}};Z0=H([dN("or8jNdIhRpSbAG2JBhH-wA")],Z0);mt();Xl();var e1=class extends Laya.Dialog{};rr();var{regClass:fN}=Laya,t1=class extends e1{constructor(t){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){qe.playSoundByName(qe.soundName32)}setOpenData(t){t&&(this.reward=t);var s=[],n=this.reward;n.forEach(m=>{if(m.itemId&&m.itemId>0){var d=new nr(m.itemId);d.newAddCnt=m.num,m.itemId==3011&&(d.itemItem.icon=m.itemId),s.push(d)}});var o=this.list_reward.spaceX,l=this.list_reward.itemTemplate.width,u=s.length;this.list_reward.repeatX=u;var p=u*l+o*(u-1);this.list_reward.width=p,this.list_reward.x=this.width-p>>1,this.list_reward.array=s}};t1=H([fN("xwYUFnd4S3uJGIJSjjbRag")],t1);var i1=class extends Laya.Scene{};mt();Vt();wi();qt();_d();ut();We();gr();oi();cn();Xe();et();ds();Ji();rr();ot();lr();gi();ni();Er();Ze();Ri();St();nt();var NS=class i{constructor(){this.comIdMap=new Map}static getInstance(){return i._instance||(i._instance=new i),i._instance}init(){this.comIdMap.set(y.snake.socket.MessageType.MSG_PLAYER_OPR,"CS_"),this.comIdMap.set(y.snake.socket.MessageType.MSG_AI_ENTER,"CS_"),this.comIdMap.set(y.snake.socket.MessageType.MSG_NOTICE_ENTER,"SS_");for(let t in y.snake.socket.MessageType)if(isNaN(Number(t))){let s=y.snake.socket.MessageType[t],n="";var e=this.comIdMap.get(s);if(e)if(!e.endsWith("_"))n=e;else{let l=this.comIdMap.get(s),u=t.substring(4);n=l+u}else{let l="SC_",u=t.substring(4);n=l+u}let o=y.snake.socket[n];o&&Laya.ClassUtils.regClass(s+"",o)}}},E2=NS.getInstance();var{regClass:gN}=Laya,ec=class extends i1{constructor(){super(...arguments);this.isLogout=!1;this.m_nProgress=0}onAwake(){Laya.loader.on(Laya.Event.ERROR,this,this.onError),Laya.loader.load(["res/loading/progress_load1.png","res/loading/progress_load1$bar.png"]).then(()=>{this.createUI(),this.initBasic()})}onError(t){console.log("加载失败: "+t)}createUI(){qe.init(),qe.playMusicByName(qe.soundName_bg,".mp3"),v.on(E.EVENT_BACK_TO_LOGIN,this,this.backToLogin),v.on(E.EVENT_LOGIN_GAME_END,this,this.loginGameEnd),v.on(E.EVENT_ENTER_MAIN,this,this.loginCallBack),this.btn_teleLogin.on(Laya.Event.CLICK,this,this.teleLogin),O.FGM_GetLanguage();var t=getGameVersion();this.txtLoad.text=t,console.log("VERSION: "+t);let s=new Ks;s.ID=1,s.Event="加载版本信息 "+t,it.sendCustumEvent(1,null,s)}initBasic(){E2.init(),ee.instence.init(),te.init(),at.initParms(),je.init(),Oe.intance.init(),this.initLoad()}initLoad(){this.onAssetLoaded()}onAssetLoaded(){this.loadingProcess=.05,this.m_nProgress=.05,Bt.startRotationAnimation(this.img_circle,2e3,!0),Laya.timer.once(500,this,()=>{this.loadFirstBatch()});let t=Laya.timer.loop(1e3,this,this.onLoading,[this.m_nProgress])}loadFirstBatch(){this.m_nProgress=.15,this.loadingProcess=.15,Laya.timer.once(800,this,()=>{this.loadSecondBatch()})}loadSecondBatch(){this.m_nProgress=.3,this.loadingProcess=.3,Laya.timer.once(1e3,this,()=>{this.loadThirdBatch()})}loadThirdBatch(){P.init(),this.m_nProgress=.5,this.loadingProcess=.5,Laya.timer.once(1e3,this,()=>{this.loadFinalBatch()})}loadFinalBatch(){let t=new Ks;t.ID=3,t.Event="加载资源信息",it.sendCustumEvent(3,null,t),this.m_nProgress=.8,this.loadingProcess=.8}set loadingProcess(t){if(!(this.mcProcess&&t<this.mcProcess.value)){t>1&&(t=1),t<.05&&(t=.05),this.mcProcess.value=t,this.txtProcess.text=Math.floor(t*100)+"%";var s=t*this.mcProcess.width-70;s<0&&(s=0)}}backToLogin(){Laya.timer.clear(this,this.onLoading),this.m_nProgress=0,Laya.loader.load(te.m_arrInitResource,Laya.Handler.create(this,this.getLoginData),Laya.Handler.create(this,this.onLoading2,null,!1))}getLoginData(){it.sendCustumEvent(7),this.readyInitGame()}readyInitGame(){if(this.isLogout){v.event(E.EVENT_LOADING_SUC);return}this.mcProcess&&(this.loadingProcess=.9,Laya.timer.once(500,this,()=>{this.loadingProcess=1,Laya.timer.once(300,this,()=>{$.init(),K.isWhite?this.loginGame():this.onGetNotice()})}))}async onGetNotice(){Laya.loader.maxLoader=50,this.loginGame()}async loginGame(){v.event(E.EVENT_LOADED_COMPLETE),await He.init(),await He.dappLogin(),Ce.initMove()}async loginGameEnd(t){if(gt.showLoading(!0),it.sendCustumEvent(8),it.sendCustumEvent(22),!t){Oe.intance.openModule(w.NoServerView);return}t.loginState==1?(console.log("have no regist"),it.sendCustumEvent(23),Oe.intance.openModule(w.CreateLoginView)):(it.sendCustumEvent(30),t.playerDto?(it.sendCustumEvent(31),console.log("registed "+t.playerDto.name),P.playerDto=t.playerDto,this.loginCallBack()):(it.sendCustumEvent(32),console.log("getRegisted error"),Me.notice(O.getLanguage(29))))}async loginCallBack(){console.log("loginCallBack++++++++++++++++++++++++++++++++"),K.vType==2&&K.Debug==0&&(Laya.Browser.window.console.log=function(){}),P.initData(),gt.hideLoading();var t=P.playerDto;if(t.roomId>0){let s=await ei.requestPost("wxgame/room/info",{roomId:t.roomId});Ce.roomDto=s.roomDto,s.roomDto?t.roomState==10?ze.initSocket():Oe.intance.openModule(w.EnterRoomView):Me.notice(O.getLanguage(29))}else se.logs("进入主界面",5),it.sendCustumEvent(33),Bt.stopCircleAnimation(this.img_circle),je.setCurrentScene(he.M_SCENE_MAIN)}onLoading(t){let s=this.mcProcess?this.mcProcess.value:0,n=.01;this.m_nProgress<.15?n=.02:this.m_nProgress<.3?n=.015:this.m_nProgress<.5?n=.01:this.m_nProgress<.8?n=.005:n=.001,this.m_nProgress+=n,this.m_nProgress<s&&(this.m_nProgress=s),this.m_nProgress>.8&&(this.m_nProgress=.8),this.mcProcess&&t>this.mcProcess.value&&(this.loadingProcess=this.m_nProgress)}onLoading2(t){this.mcProcess&&(this.loadingProcess=0+t*1.1)}removeEvent(){v.off(E.EVENT_BACK_TO_LOGIN,this,this.backToLogin),v.off(E.EVENT_LOGIN_GAME_END,this,this.loginGameEnd),v.off(E.EVENT_ENTER_MAIN,this,this.loginCallBack)}teleLogin(){console.log("teleLogin++++++++++++++++++++++++++++++++"),He.connectTonWallet()}};ec.m_iState=1,ec=H([gN("xmaaYG8AQ1yC07pr_JvyPA")],ec);mt();var r1=class extends Laya.Box{};var{regClass:bN}=Laya,s1=class extends r1{constructor(){super();this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER}onEnable(){console.log("OpenScene onEnable："+this.m_strName)}getName(){console.log(this.m_strName)}onDisable(){}};s1=H([bN("sQS5mrqRQLWcBk-SgfBGJw")],s1);var n1=class extends Laya.Box{};Ze();et();var{regClass:yN}=Laya,o1=class extends n1{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toRead)}set dataSource(t){if(super.dataSource=t,this.rewardItem=t,!this.rewardItem){this.visible=!1;return}let s=$.m_dicItems.get(this.rewardItem.itemId);if(!s){this.visible=!1;return}s.icon<1e3?this.img_icon.skin=te.getSnakeIcon(s.icon):this.img_icon.skin=te.getItemIcon(s.icon),this.tf_num.text=`x${this.rewardItem.num}`}toRead(){}};o1=H([yN("cVATpJOeQgeVQnaU8vno-g")],o1);mt();We();nt();Ri();wi();ir();var a1=class extends Laya.Scene{};ni();Xe();Rt();Pt();var{regClass:_N}=Laya,l1=class extends a1{onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){}onEnable(){this.mailList.visible=!1,this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),v.on("msg_"+y.snake.socket.MessageType.MSG_MAIL_LIST,this,this.onGetRoleInfo),v.on("msg_"+y.snake.socket.MessageType.MSG_MAIL_DELETE,this,this.onDeleteResult),v.on("msg_"+y.snake.socket.MessageType.MSG_MAIL_CHECK,this,this.onReadResult),Bt.startJellyScaleAnimation(this.tf_tittle),this.requestAllMailData(),this.mailList.selectHandler=new Laya.Handler(this,this.handleSelectMail),this.btn_delete.on(Laya.Event.CLICK,this,this.deleteMail),this.btn_receive.on(Laya.Event.CLICK,this,this.onReceiveClick),v.on("msg_"+y.snake.socket.MessageType.MSG_MAIL_GET,this,this.onMailGetBack)}requestAllMailData(t=1){let s=y.snake.socket.MessageType.MSG_MAIL_LIST;ge.send(s)}onGetRoleInfo(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_MAIL_LIST);s==y.snake.socket.MessageCode.SYS_NORMAL&&n&&(this.mailList.array=n.mail,this.mailList.visible=!0,this.mailData=n.mail,this.checkReadNum(),n.mail.length>0?(this.box_1.visible=!1,this.box_2.visible=!0,this.mailList.selectedIndex=0):(this.box_1.visible=!0,this.box_2.visible=!1))}checkReadNum(){let s=`${this.mailData.filter(n=>n.read===!0).length}/${this.mailData.length}`;this.tf_read.text=O.getLanguage(20,s)}handleSelectMail(t){this.mailIndex=t;let s=this.mailData[t];this.tf_des.text=s.content;let n=Et.formatDayAndTime(s.sendTime);if(this.tf_time.text=`${n.date} ${n.time}`,this.tf_title.text=s.title,this.tf_from.text=O.getLanguage(21,s.sendName),s.items&&s.items.length>0?(this.rewardList.array=s.items,this.rewardList.visible=!0,this.btn_receive.visible=!s.get):(this.rewardList.visible=!1,this.btn_receive.visible=!1),s.read==!1){let o=y.snake.socket.MessageType.MSG_MAIL_CHECK,l=y.snake.socket.CS_MAIL_CHECK.fromObject({mailId:s.mailId});ge.send(o,l)}}onDeleteResult(t,s){s===y.snake.socket.MessageCode.SYS_NORMAL&&(this.mailList.array=this.mailData,this.mailData.length===0&&(this.box_1.visible=!0,this.box_2.visible=!1),Me.notice(O.getLanguage(69)),this.mailData.splice(this.mailIndex,1),this.mailList.array=this.mailData,this.checkReadNum(),this.handleSelectMail(this.mailIndex))}onReadResult(t,s){if(s===y.snake.socket.MessageCode.SYS_NORMAL){let n=this.mailData[this.mailIndex];this.mailList.array=this.mailData,n.read=!0,this.checkReadNum()}}deleteMail(){if(this.mailIndex>=0&&this.mailData&&this.mailData.length>0){let t=this.mailData[this.mailIndex],s=y.snake.socket.MessageType.MSG_MAIL_DELETE,n=y.snake.socket.CS_MAIL_DELETE.fromObject({mailId:t.mailId});ge.send(s,n)}}removeEvent(){this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}onReceiveClick(){if(this.mailIndex==-1)return;let t=y.snake.socket.MessageType.MSG_MAIL_GET,s=this.mailData[this.mailIndex],n=y.snake.socket.CS_MAIL_GET.fromObject({mailId:s.mailId});ge.send(t,n)}onMailGetBack(t,s){if(s==y.snake.socket.MessageCode.SYS_NORMAL){Me.notice(O.getLanguage(70));var n=_e.getMsgBody(t,y.snake.socket.SC_MAIL_GET);console.log(n);let o=this.mailList.array.find(l=>l.mailId===n.mailId);o&&(o.get=!0,this.handleSelectMail(this.mailIndex))}}onDisable(){v.off("msg_"+y.snake.socket.MessageType.MSG_MAIL_LIST,this,this.onGetRoleInfo),v.off("msg_"+y.snake.socket.MessageType.MSG_MAIL_DELETE,this,this.onDeleteResult),v.off("msg_"+y.snake.socket.MessageType.MSG_MAIL_CHECK,this,this.onReadResult),v.off("msg_"+y.snake.socket.MessageType.MSG_MAIL_GET,this,this.onMailGetBack),this.removeEvent(),this.btn_delete.off(Laya.Event.CLICK,this,this.deleteMail),this.btn_receive.off(Laya.Event.CLICK,this,this.onReceiveClick)}};l1=H([_N("25JYfnFtTzq1ju1OR6_GLQ")],l1);ir();var c1=class extends Laya.Box{};var{regClass:xN}=Laya,u1=class extends c1{constructor(){super()}onEnable(){}set dataSource(t){super.dataSource=t,this.mailItem=t,this.mailItem&&(this.tf_title.text=this.mailItem.title,this.tf_from.text=this.mailItem.sendName,this.img_red.visible=!this.mailItem.read,this.tf_time.text=Et.formatTimeAgoFromTimestamp(this.mailItem.sendTime))}};u1=H([xN("3h2PsGTIQV6ilXcpYeJ0cQ")],u1);un();var p1=class extends Laya.Box{};var{regClass:vN}=Laya,Qi=class extends p1{init(e,t,s=28){var n,o;switch(o=vt.getRandInRound(-30,30),t?n=Qi.TYPE_Kill:n=Qi.TYPE_Normal,t?this.pos(o,-180):this.pos(o,-110),this.alpha=1,this.scale(1,1),this.tf_damage.visible=!1,this.box_crit.visible=!1,n){case Qi.TYPE_Normal:this.tf_damage.text="+"+e,this.showNormalDamageEffect();break;case Qi.TYPE_Kill:this.showCriticalDamageEffect();break}}showNormalDamageEffect(){this.tf_damage.visible=!0,Laya.Tween.to(this,{y:this.y-50,alpha:0},1e3,Laya.Ease.linearNone,Laya.Handler.create(this,this.onComplete))}showCriticalDamageEffect(){this.box_crit.visible=!0,this.scale(.2,.2),Laya.Tween.to(this,{scaleX:1.3,scaleY:1.3,alpha:1,y:this.y-70},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{Laya.Tween.to(this,{scaleX:1,scaleY:1,alpha:0},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{this.onComplete()}))}))}onComplete(){this.removeSelf()}onDisable(){Laya.Pool.recover("damageNumber",this)}};Qi.WHITE="#FFFFFF",Qi.ORANGE="#FFA500",Qi.RED="#FF0000",Qi.GREEN="#119c09",Qi.BLUE="#78cefd",Qi.TYPE_Normal="Normal",Qi.TYPE_Kill="Kill",Qi=H([vN("nHp6WKzZRIWvyhguidEfqg")],Qi);var m1=class extends Laya.Dialog{};gi();var{regClass:IN}=Laya,h1=class extends m1{constructor(){super()}onEnable(){this.list.visible=!1;var e=Ce.msgEndbody,t=e.token;this.list.renderHandler=new Laya.Handler(this,(s,n)=>{s.setDataIndex(n)}),this.list.array=t,this.list.visible=!0,!t||t.length<=0?this.noDataBox.visible=!0:this.noDataBox.visible=!1}onDisable(){}};h1=H([IN("JH3DtUPTS_2FR6dTzhLHMw")],h1);Xe();et();Ze();ir();var d1=class extends Laya.Box{};var{regClass:SN}=Laya,f1=class extends d1{constructor(){super()}addEvent(){}set dataSource(e){if(super.dataSource=e,!e){this.visible=!1;return}this.setData(e),this.addEvent()}setData(e){var t=e.split(","),s=t[1],n=t[2],o=t[3],l=t[4];this.tf_time.text=Et.formatTimeStamp(Number.parseFloat(t[0]),"HH:MM:SS"),this.img_country.skin=te.getCountryIcon(s),this.tf_nickName.text=n;let u=$.m_dicItems.get(o),p=O.getLanguage(u.name);this.tf_token.text=l+" "+p}setDataIndex(e){this.bg.skin=e%2===0?"res/common/comm/img_wzbg_1.png":"res/common/comm/img_wzbg_2.png"}};f1=H([SN("po6_Uf6sTlaC-xEazLOk5Q")],f1);mt();wi();oi();Xl();nt();Pi();var g1=class extends Laya.Dialog{};Xe();Ji();rr();gi();Ri();zs();We();Pt();ha();Cr();t_();Vt();qt();ot();var{regClass:kN}=Laya,b1=class extends g1{constructor(){super(...arguments);this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_PANEL;this.m_iPositionType=ee.CENTER}onEnable(){v.on("msg_"+y.snake.socket.MessageType.MSG_AI_END,this,this.onAiEnd),qe.playSoundByName(qe.soundName_win),this.btn_fightAgain.on(Laya.Event.CLICK,this,this.goFightAgain),this.btn_home.on(Laya.Event.CLICK,this,this.setToAirdropScene),this.btn_help.on(Laya.Event.CLICK,this,this.onNext),it.sendCustumEvent(43)}onHelp(){se.commTipWithYes(O.getLanguage("HELP"))}onNext(){this.setToAirdropScene()}setToAirdropScene(){je.setCurrentScene(he.M_SCENE_MAIN)}setOpenData(t){var s=t[0];this.list_reward.visible=!1;var n,o;this.list_reward.vScrollBarSkin="",this.roomGameOverPush=Ce.msgEndbody,this.tf_rank.text=`${this.roomGameOverPush.rank}`,this.tf_score.text=`${this.roomGameOverPush.score}`,this.fontClip_kill.getComponent(dn).startIncrement(this.roomGameOverPush.kills,1,1),this.fontClip_length.getComponent(dn).startIncrement(this.roomGameOverPush.length,1,1),this.fontClip_challengeDuration.getComponent(dn).startIncrement(this.roomGameOverPush.alive,1,3),s==Te.MATCH_TYPE_PVP?(n=this.roomGameOverPush.items,o=this.roomGameOverPush.token,this.onSetReward(n,o)):wr.sendAiEnd(this.roomGameOverPush.kills,this.roomGameOverPush.score);let m=xt.getTokenDataBySyId(10);console.log("tokenData===========>",m)}onSetReward(t,s){var n=[],o=new Pe;t&&t.length>0&&t.forEach(f=>{var g=o.get(f.itemId);g?g.newAddCnt=g.newAddCnt+f.num:(g=new nr(f.itemId),g.newAddCnt=f.num,n.push(g),o.set(f.itemId,g))}),s&&s.length>0&&s.forEach(f=>{var g=f.split(","),_=g[1],S=g[2],x=g[3],I=g[4],M=parseInt(x),A=parseFloat(I),D=o.get(M);D?D.newAddCnt=D.newAddCnt+A:(D=new nr,D.type=ri.TYPE_TOKEN,D.m_iId=M,D.newAddCnt=A,n.push(D),o.set(M,D))});var l=this.list_reward.spaceX,u=this.list_reward.itemTemplate.width,p=n.length,m=p*u+l*(p-1);this.list_reward.repeatX=p,this.list_reward.width=m,this.list_reward.x=this.box_outside.width-this.list_reward.width>>1,this.list_reward.array=n,this.list_reward.visible=!0,!this.list_reward.array||this.list_reward.array.length<=0?this.noDataBox1.visible=!0:this.noDataBox1.visible=!1;let d=-1;this.list_reward.selectedIndex=d}onAiEnd(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_AI_END),o=n,l=o.items;this.onSetReward(l,[])}goFightAgain(){Te.arenaType==Te.ARENA_TYPE_PVP?Oe.intance.openModule(w.JoinRoomDialog,1):Te.arenaType==Te.ARENA_TYPE_JULEBU?P.playerDto.club!==""&&P.playerDto.club!==void 0?je.setCurrentScene(he.M_SCENE_CLUB):Oe.intance.openModule(w.CreateClubDialog):Te.arenaType==Te.ARENA_TYPE_PVE&&mo.goAiArenaScene()}onDisable(){this.removeEvent()}removeEvent(){v.off("msg_"+y.snake.socket.MessageType.MSG_AI_END,this,this.onAiEnd)}};b1=H([kN("y-nP_lRrQVef9uttVJ0rDw")],b1);zs();um();gi();var y1=class extends Laya.Box{};var{regClass:EN}=Laya,_1=class extends y1{constructor(){super();this.isAddEvent=!1}addEvent(){this.isAddEvent||(this.isAddEvent=!0)}set dataSource(t){this.snake=t,!(!this.snake||!this.snake.tag)&&(this.addEvent(),this.setCurrentOutPut())}setCurrentOutPut(){this.snake.tag&&(this.tf_rank.text=this.snake.rankNum+".  "+bs.abbreviateString(this.snake.tag.userName));var t=0;Ce.matchDto.matchType==Te.MATCH_TYPE_PVE?t=this.snake.getScore(!1):t=this.snake.getScore(!0),this.snake.rankNum==1?this.tf_kill.text=`<font><img src='res/match2/img_phb_icon2.png'/>${t}</font>`:this.tf_kill.text=`<font>${t}</font>`,this.snake.isSelf?(this.tf_rank.color="#ffe155",this.tf_kill.color="#ffe155"):(this.tf_rank.color="#ffffff",this.tf_kill.color="#ffffff")}};_1=H([EN("XTVFXeI_R768e0Elv_ePAA")],_1);Xe();mt();var x1=class extends Laya.Dialog{};var{regClass:LN}=Laya,v1=class extends x1{constructor(){super(...arguments);this.m_strName="我是OpenSceneRuntime";this.m_iLayerType=ee.M_PANEL;this.m_iPositionType=ee.CENTER;this.canClose=!1}onEnable(){this.tf_tittle.text=O.getLanguage(47)}onDisable(){}};v1=H([LN("8HZEMq_0TP2txNQ9o3uv3w")],v1);Vt();qt();Io();t_();var I1=class extends Laya.Box{};var{regClass:wN}=Laya,S1=class extends I1{constructor(){super();this.showAdd=!1;this.isAddEvent=!1;this.oriScale=1}onEnable(){this.oriScale=this.knapsackItem.img_icon.scaleX}createChildren(){super.createChildren()}addEvent(){this.isAddEvent||(this.on(Laya.Event.CLICK,this,this.toDetail),this.isAddEvent=!0)}set dataSource(t){super.dataSource=t,this.itemVo=t,this.itemVo&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){if(this.itemVo)if(this.itemVo.id==tt.TYPE_REWARD_TOKEN)this.img_tokens.visible=!0,this.knapsackItem.visible=!1;else{this.img_tokens.visible=!1,this.knapsackItem.visible=!0,this.knapsackItem.showAdd=!0,this.knapsackItem.dataSource=this.itemVo;var t=this.oriScale;this.itemVo.type==ri.TYPE_TOKEN&&(t=this.oriScale*.8),this.knapsackItem.img_icon.scale(t,t)}}toDetail(){!this.itemVo||!this.itemVo.needTip||(this.itemVo.id==tt.TYPE_REWARD_TOKEN?Oe.intance.openModule(w.MatchEndRewardTokensDialog):this.itemVo.type===ri.TYPE_Equipment?Oe.intance.openModule(w.EquipDetailDialog,this.itemVo):Oe.intance.openModule(w.KnapsackTipDialog,this.itemVo))}};S1=H([wN("WXpxCvqlQ2mKdcJCYlqOeg")],S1);et();var k1=class extends Laya.Box{};var{regClass:TN}=Laya,E1=class extends k1{constructor(){super();this.isBig=!1}set dataSource(t){super.dataSource=t,this.skillItem=t,this.skillItem&&(this.txt_num.text="",this.img_icon.skin=te.getMatchSkillIcon(this.skillItem.icon))}};E1=H([TN("iwuFUCOEQRyOjxpy6IkQ2Q")],E1);ut();We();var L1=class extends Laya.Button{};var{regClass:CN}=Laya,w1=class extends L1{constructor(){super();this.isAddEvent=!1;this.isCanClick=!0;this.skillCooldown=5e3;this.thisGlobalCooldown=1e4;this.globalCooldown=1e4;this.remainingSkillCooldown=0;this.remainingGlobalCooldown=0;this.reduceCooldown=0}onEnable(){this.addEvent()}addEvent(){this.isAddEvent||(v.on(E.EVENT_CLICK_NUM,this,this.onNumberClick),v.on(E.EVENT_UPDATE_ITEM_SKILL_COOL,this,this.updateItemRemainCooldown),v.on(E.EVENT_UPDATE_GLOBAL_COOL,this,this.updateGlobalCooldown),v.on(E.EVENT_UPDATE_REDECE_COOL,this,this.updateReduceCooldown),this.isAddEvent=!0,this.on(Laya.Event.CLICK,this,this.onSkillButtonClick),this.on(Laya.Event.MOUSE_UP,this,this.onSkillButtonUp))}onNumberClick(t){t==this.keyNum&&this.onSkillButtonClick(null)}set dataSource(t){super.dataSource=t,this.skillItem=t[0],this.itemItem=t[1],this.equipPos=t[2],this.count=t[3],this.skillItem&&(this.addEvent(),this.setCurrentOutPut())}async setCurrentOutPut(){this.skillItem&&(this.skillIconItem.isBig=this.skillItem.icon=="1001",this.skillIconItem.dataSource=this.skillItem,this.itemItem?(this.txt_num.visible=!0,this.updateCount(),this.skillCooldown=this.itemItem.cd*1e3):(this.txt_num.visible=!1,this.skillCooldown=this.skillItem.cd),this.thisGlobalCooldown=this.skillItem.commCd,Laya.timer.frameLoop(1,this,this.updateCooldown))}onSkillButtonUp(t){t&&t.stopPropagation(),Yi.clearClickFilter(this)}onSkillButtonClick(t){t&&t.stopPropagation()}updateSkillCooldown(t){this.remainingSkillCooldown=t}updateItemRemainCooldown(t){var s=t[0];console.log("updateItemRemainCooldown _skillId: "+s),this.itemItem&&s==this.skillItem.id&&(this.count=t[1],this.updateCount(),this.updateSkillCooldown(this.skillCooldown))}updateCount(){this.txt_num.text=this.count+"",this.disabled=!this.count}updateReduceCooldown(t,s){console.log("updateReduceCooldown skillType: "+t),this.skillItem&&t==this.skillItem.type&&(this.reduceCooldown=this.skillCooldown*s)}updateGlobalCooldown(t){this.itemItem||(this.globalCooldown=t,this.remainingGlobalCooldown=t)}updateCooldown(){if(this.remainingSkillCooldown+this.reduceCooldown>0){this.remainingSkillCooldown-=Laya.timer.delta;let t=(this.remainingSkillCooldown+this.reduceCooldown)/1e3;this.txt_time.text=t.toFixed(1),this.updateCooldownMask(this.skillCooldownMask,(this.remainingSkillCooldown+this.reduceCooldown)/this.skillCooldown,"#000000"),this.img_djs.visible=!0,this.txt_time.visible=!0}else this.img_djs.visible=!1,this.txt_time.visible=!1;this.remainingGlobalCooldown+this.reduceCooldown>0?(this.remainingGlobalCooldown-=Laya.timer.delta,this.updateCooldownMask(this.globalCooldownMask,(this.remainingGlobalCooldown+this.reduceCooldown)/this.globalCooldown,"#00000036"),this.globalCooldownMask.visible=!0):this.globalCooldownMask.visible=!1,this.skillIconItem.gray=this.remainingSkillCooldown+this.reduceCooldown>0||this.remainingGlobalCooldown+this.reduceCooldown>0}updateCooldownMask(t,s,n){let o=this.width/2,l=this.width/2,u=this.height/2;t.graphics.clear(),t.graphics.drawPie(l,u,o,-90+360*(1-s),270,n)}onDisable(){v.off(E.EVENT_UPDATE_ITEM_SKILL_COOL,this,this.updateItemRemainCooldown),v.off(E.EVENT_UPDATE_GLOBAL_COOL,this,this.updateGlobalCooldown),v.off(E.EVENT_UPDATE_REDECE_COOL,this,this.updateReduceCooldown),v.offAllCaller(this),Laya.timer.clearAll(this)}};w1=H([CN("x6t-z1VuR52yXWju0qxGBg")],w1);Ji();var T1=class extends Laya.Dialog{};var{regClass:AN}=Laya,C1=class extends T1{constructor(){super();this.canClose=!0}onEnable(){this.btn_refresh.on(Laya.Event.CLICK,this,this.onRefresh),this.alertDesc.on(Laya.Event.LINK,this,this.onLink)}onLink(t){console.log("点击了超链接："+t)}onRefresh(){it.reload()}setOpenData(t){if(t){var s=t[0];if(t.length>2?(this.alertTitle.text=t[1],this.alertDesc.text=t[2]):this.alertDesc.text=t[1],s==1){this.canClose=!1;var n=this.getChildByName("close");n.visible=!1,this.btn_refresh.visible=!0}else this.btn_refresh.visible=!1;this.alertDesc.height=this.alertDesc.textField.textHeight+20}}onDisable(){}close(t){this.canClose&&super.close(t)}};C1=H([AN("xATCTfSDSkaGtuYn669ofQ")],C1);var A1=class extends Laya.Dialog{};var{regClass:MN}=Laya,M1=class extends A1{constructor(){super()}onEnable(){this.img_show.on(Laya.Event.CLICK,this,this.close)}setOpenData(e){e&&(this.img_show.skin=e)}onDisable(){}};M1=H([MN("RUMV5hpfRdCRzhO9yBDCzg")],M1);Xe();Ji();var R1=class extends Laya.Dialog{};var{regClass:RN}=Laya,B1=class extends R1{constructor(){super();this.canClose=!0}onEnable(){this.btn_refresh.on(Laya.Event.CLICK,this,this.onRefresh),this.alertDesc.on(Laya.Event.LINK,this,this.onLink),this.btn_left.on(Laya.Event.CLICK,this,this.onChangePage,[!1]),this.btn_right.on(Laya.Event.CLICK,this,this.onChangePage,[!0])}onLink(t){console.log("点击了超链接："+t)}onRefresh(){it.reload()}setOpenData(t){if(t){var s=t[0],n=t[1];if(this.list=n.list,this.pageNo=1,this.pageTotal=this.list.length,this.pageTotal<2&&(this.box_page.visible=!1),this.updatePageList(),s==1){this.canClose=!1;var o=this.getChildByName("close");o.visible=!1,this.btn_refresh.visible=!0}else this.btn_refresh.visible=!1}}async onChangePage(t){if(t)this.pageNo++;else{if(this.pageNo<=1)return;this.pageNo--}this.updatePageList()}updatePageList(){this.txt_page.text=this.pageNo+"/"+this.pageTotal,this.btn_left.disabled=this.pageNo<=1,this.btn_right.disabled=this.pageNo>=this.pageTotal,this.setNoticeDetail()}setNoticeDetail(){if(this.pageNo){var t=this.list[this.pageNo-1];t&&(this.alertTitle.text=O.getMultiLan(t.title),this.alertDesc.text=O.getMultiLan(t.contents))}}onDisable(){}close(t){this.canClose&&super.close(t)}};B1=H([RN("iB7UvqEcQ1GFKaVEIy6Bmw")],B1);var D1=class extends Laya.Box{};var{regClass:BN}=Laya,O1=class extends D1{};O1=H([BN("ON5bkSuKSE2gwPDUnRGmrw")],O1);var N1=class extends Laya.Box{};var{regClass:DN}=Laya,F1=class extends N1{onEnable(){}notice(e){this.zOrder=1e7;let t=e;this.label_tf.text=t,this.label_tf.x=68,this.image_bg.width=68*2+this.label_tf.textField.textWidth,t.length/45>1&&(this.image_bg.height=this.label_tf.textField.textHeight+55),this.alpha=1,this.visible=!0}get view(){return this}get width(){return this.image_bg.width}onDisable(){console.log("txtNotice recover"),Laya.Pool.recover("txtNotice",this)}};F1=H([DN("Nm27xWbYSG6mj-EXqPOZ_A")],F1);Xe();et();gr();ni();var P1=class extends Laya.Box{};var{regClass:ON}=Laya,U1=class extends P1{constructor(){super()}onEnable(){this.btn_copy.on(Laya.Event.CLICK,this,this.copyAddress)}set dataSource(t){if(super.dataSource=t,!t){this.visible=!1;return}this.tf_address.text=at.shortenString(t.addr,6,4),this.PlayerIcon.headSkin=t.icon,this.tf_name.text=at.fitTextToLabel(t.userName,this.tf_name),this.tf_num.text=t.num,this.address=t.addr;let s=this.parent?.parent?.array?.indexOf(t)??0;this.img_bg.visible=s%2===1,this.tf_rank.text=`${s+1}`,this.img_flag.skin=te.getCountryIcon(t.country),s<3?(this.img_title.visible=!0,this.tf_rank.visible=!1,this.img_title.skin=`res/rank/img_b${s+1}.png`):(this.img_title.visible=!1,this.tf_rank.visible=!0)}copyAddress(){this.address&&(doCopy(this.address),Me.notice(O.getLanguage(19)))}};U1=H([ON("ILpWxZ9qRRiahqxWqEMA9g")],U1);mt();Ri();wi();var H1=class extends Laya.Scene{};nt();Rt();We();Pt();var{regClass:NN}=Laya,z1=class extends H1{constructor(){super(...arguments);this.currentTabIndex=0;this.allRankData=new Map}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onEnable(){this.RankList.visible=!1;for(let t=0;t<3;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),Bt.startJellyScaleAnimation(this.tf_tittle),v.on("msg_"+y.snake.socket.MessageType.MSG_REQUEST_RANK,this,this.onRankListReceived),this.onTabClick(0)}setTab(t){for(let s=1;s<3;s++)t==s?(this["btn_"+s].getChildByName("selectBox1").visible=!0,this["btn_"+s].getChildByName("selectBox2").visible=!1):(this["btn_"+s].getChildByName("selectBox1").visible=!1,this["btn_"+s].getChildByName("selectBox2").visible=!0)}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<3;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),v.off("msg_"+y.snake.socket.MessageType.MSG_REQUEST_RANK,this,this.onRankListReceived)}onTabClick(t){this.currentTabIndex=t;let s=3,n="res/common/comm/img_tab1.png",o="res/common/comm/img_tab2.png",l="#427030",u="#1449cb";for(let p=0;p<s;p++){let m=this[`tab${p}`],d=m.getChildByName("tf_tit"),f=t===p;switch(m.skin=f?n:o,d.strokeColor=f?l:u,t){case 0:this.box_daily.visible=!0,this.box_dailybest.visible=!1,this.box_over.visible=!1;break;case 1:this.box_daily.visible=!1,this.box_dailybest.visible=!0,this.box_over.visible=!1;break;case 2:this.box_daily.visible=!1,this.box_dailybest.visible=!1,this.box_over.visible=!0;break}if(f){let g=t+1;if(this.allRankData.has(g)){let _=this.allRankData.get(g);this.displayRankData(t,_)}else this.requestRankData(g)}}}requestRankData(t){let s=y.snake.socket.MessageType.MSG_REQUEST_RANK,n=y.snake.socket.CS_RANK_LIST.fromObject({type:t});ge.send(s,n)}onRankListReceived(t){let s=_e.getMsgBody(t,y.snake.socket.SC_RANK_LIST);if(console.log(s),!s||!s.rank||s.rank.length===0){this.showEmptyRankTip(),this.noDataBox.visible=!0;return}else this.RankList.visible=!0,this.noDataBox.visible=!1;this.allRankData.set(this.currentTabIndex+1,s.rank),this.displayRankData(this.currentTabIndex,s.rank)}displayRankData(t,s){this.RankList.array=s,this.RankList.visible=!0,this.RankList.refresh(),this.RankList.scrollTo(0)}clearRankList(){[this.box_daily.getChildByName("list_rank"),this.box_dailybest.getChildByName("list_rank"),this.box_over.getChildByName("list_rank")].forEach(s=>{s&&(s.array=[],s.refresh())})}showEmptyRankTip(){this.RankList.visible=!1,this.noDataBox.visible=!0}onDisable(){this.removeEvent()}};z1=H([NN("kxqXjP8sR7OnW67fK0960g")],z1);mt();Ri();rr();wi();ot();Ze();var j1=class extends Laya.Scene{};var{regClass:FN}=Laya,G1=class extends j1{onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){}onEnable(){for(let t=0;t<3;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_music_plus.on(Laya.Event.CLICK,this,this.onClickMusicPlus,[!0]),this.btn_music_reduce.on(Laya.Event.CLICK,this,this.onClickMusicPlus,[!1]),this.btn_sound_plus.on(Laya.Event.CLICK,this,this.onClickSoundPlus,[!0]),this.btn_sound_reduce.on(Laya.Event.CLICK,this,this.onClickSoundPlus,[!1]),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.btn_privacy.on(Laya.Event.CLICK,this,this.onPrivacyClick),this.btn_service.on(Laya.Event.CLICK,this,this.onServiceClick),this.initSettingData(),this.initLanguageData(),Bt.startJellyScaleAnimation(this.tf_tittle)}setTab(t){for(let s=1;s<3;s++)t==s?(this["btn_"+s].getChildByName("selectBox1").visible=!0,this["btn_"+s].getChildByName("selectBox2").visible=!1):(this["btn_"+s].getChildByName("selectBox1").visible=!1,this["btn_"+s].getChildByName("selectBox2").visible=!0)}initSettingData(){let t=qe.getMusicVolume();this.prog_music.value=t;let s=qe.getSoundVolume();this.prog_sound.value=s}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene)}onTabClick(t){let n="res/common/comm/img_tab1.png",o="res/common/comm/img_tab2.png",l="#427030",u="#1449cb";for(let p=0;p<3;p++){let m=this[`tab${p}`],d=m.getChildByName("tf_tit"),f=t===p;switch(m.skin=f?n:o,d.strokeColor=f?l:u,t){case 0:this.box_genred.visible=!0,this.box_language.visible=!1,this.box_saciel.visible=!1;break;case 1:this.box_genred.visible=!1,this.box_language.visible=!0,this.box_saciel.visible=!1;break;case 2:this.box_genred.visible=!1,this.box_language.visible=!1,this.box_saciel.visible=!0;break}}}onClickMusicPlus(t){let s=qe.getMusicVolume(),n=.1;t?s=Math.min(1,s+n):s=Math.max(0,s-n),this.prog_music.value=s,qe.setMusicVolume(s)}onClickSoundPlus(t){let s=qe.getSoundVolume(),n=.1;t?s=Math.min(1,s+n):s=Math.max(0,s-n),this.prog_sound.value=s,qe.setSoundVolume(s)}initLanguageData(){let t=$.m_dicLanguage.values;if(t){let s=t.filter(o=>o.if_open===1);this.list_language.array=s,this.list_language.renderHandler=new Laya.Handler(this,this.handleSelectLanguage),this.list_language.mouseHandler=Laya.Handler.create(this,this.onLanguageItemMouse,null,!1);let n=s.findIndex(o=>o.id===P.m_strLanguage);this.list_language.selectedIndex=n||0}}handleSelectLanguage(t,s){t.onChange(this.list_language.selectedIndex==s)}onLanguageItemMouse(t,s){t.type===Laya.Event.CLICK&&(this.list_language.selectedIndex=s)}onPrivacyClick(){window.open("https://drive.google.com/file/d/1JHQmFHsoM2m4qynP0tT2rycXHIm8xX-G/view","_blank")}onServiceClick(){window.open("https://drive.google.com/file/d/1ktcZ2P7lMKEJDsymetdqUzvWKbF0VR2n/view","_blank")}onDisable(){for(let t=0;t<3;t++)this[`tab${t}`].off(Laya.Event.CLICK,this,this.onTabClick,[t]);this.btn_music_plus.off(Laya.Event.CLICK,this,this.onClickMusicPlus,[!0]),this.btn_music_reduce.off(Laya.Event.CLICK,this,this.onClickMusicPlus,[!1]),this.btn_sound_plus.off(Laya.Event.CLICK,this,this.onClickSoundPlus,[!0]),this.btn_sound_reduce.off(Laya.Event.CLICK,this,this.onClickSoundPlus,[!1]),this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),this.list_language&&this.list_language.mouseHandler.clear(),Laya.timer.clearAll(this)}};G1=H([FN("MqlTAbYeQPe4_9ujUdePSg")],G1);var V1=class extends Laya.Box{};Xe();Ji();var{regClass:PN}=Laya,W1=class extends V1{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.checkSelect)}set dataSource(t){if(this.languageData=t,!t){this.visible=!1;return}this.languageData=t,this.tf_language.text=t.language}checkSelect(){let t=this.languageData.id,s=O.getLanTypeById(t);O.FGM_SetLanguage(s);let n=window.location.href,o=new URL(n);o.searchParams.has("lang")?(o.searchParams.delete("lang"),window.location.href=o.toString()):it.reload(),this.event("checkSelect",this.languageData)}onChange(t){console.log("isSelect",t),t?(this.img_btn.skin="res/setup/img_bt1.png",this.tf_language.fontSize=25,this.tf_language.color="#FFFFFF",this.tf_language.stroke=2,this.tf_language.strokeColor="#D26E02"):(this.img_btn.skin="res/setup/img_bt2.png",this.tf_language.fontSize=25,this.tf_language.color="#B8E5FE",this.tf_language.stroke=0)}onDisable(){this.languageData=null}};W1=H([PN("SnCse2C4Qiq0GdwkQNE3PA")],W1);mt();var K1=class extends Laya.Dialog{};ut();We();SS();nt();Rt();Xe();ni();Ze();et();Cr();Pt();var{regClass:UN}=Laya,$1=class extends K1{constructor(){super();this.m_iLayerType=ee.M_POP;this.m_iPositionType=ee.CENTER;this.addL=1;this.isButtonLocked=!1;this.buttonLockTime=2e3}onEnable(){this.btn_plus.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_plus]),this.btn_reduce.clickHandler=new Laya.Handler(this,this.handleClickBtn,[this.btn_reduce]),this.tf_num.on(Laya.Event.BLUR,this,this.changeItemNum),this.btn_buy.on(Laya.Event.CLICK,this,this.onRecruit),v.on("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),v.on(E.EVENT_REFRESH_ITEM_ONCHAIN_STATUS,this,this.onRefreshItemStatus)}setOpenData(t){if(t){this.shopItem=t;let s=$.m_dicItems.get(this.shopItem.itemId);if(!s)return;this.alertTitle.text=O.getLanguage(s.name),this.tf_price.text=`${this.shopItem.cost} USDT`,this.img_icon.skin=te.getItemIcon(s.icon),this.tf_des.text=O.getLanguage(s.des)}}handleClickBtn(t){switch(t){case this.btn_reduce:this.addL>1&&this.addL--,this.setItemNum();break;case this.btn_plus:this.addL<99999&&this.addL++,this.setItemNum();break}}onRefreshItemStatus(){this.close()}setItemNum(){this.tf_num.text=this.addL+"";let t=new Kr(Number(this.shopItem.cost)),s=new Kr(this.addL),n=t.multiply(s).getValue();this.tf_price.text=`${n} USDT`}changeItemNum(){var t=parseInt(this.tf_num.text);(!t||t<1)&&(t=1),this.addL=t,this.setItemNum()}onRecruit(){if(this.isButtonLocked)return;this.isButtonLocked=!0;let t=y.snake.socket.MessageType.MSG_SHOP_BUY;if(this.shopItem.id){let s=y.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopItem.id,symbolId:10,num:this.addL});ge.send(t,s)}Laya.timer.once(this.buttonLockTime,this,()=>{this.isButtonLocked=!1})}onBuySuccess(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_SHOP_BUY);s==y.snake.socket.MessageCode.SYS_NORMAL?n&&n.items&&(Me.notice(O.getLanguage(71)),xt.requestCoinInfo(),this.close()):s==y.snake.socket.MessageCode.MAX_INVITE?Me.notice(O.getLanguage(72)):Me.notice(O.getLanguage(73))}onDisable(){this.btn_plus.clickHandler=null,this.btn_reduce.clickHandler=null,this.tf_num.off(Laya.Event.BLUR,this,this.changeItemNum),this.btn_buy.off(Laya.Event.CLICK,this,this.onRecruit),v.off(E.EVENT_REFRESH_ITEM_ONCHAIN_STATUS,this,this.onRefreshItemStatus),v.off("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),Laya.timer.clearAll(this)}};$1=H([UN("LRfHnCX4RROGq5Y2JkrAZw")],$1);St();Ze();ut();We();var q1=class extends Laya.Box{};var{regClass:HN}=Laya,Y1=class extends q1{constructor(){super(...arguments);this.coins=[[3022,2],[3001,2],[3011,2],[3013,4],[3010,2],[3007,4],[3006,6],[3015,2],[3016,2],[3005,0]]}onEnable(){let t=(Laya.stage.width-K.DESIGN_WIDTH)/2;this.img_coinsBg.right-=t,console.log("dWidth: "+t),this.updateLocalAssets(),v.on(E.ROLE_INFO_CHANGE,this,this.updateLocalAssets),v.on(E.UPDATE_LOCAL_WALLET_LIST_EVENT,this,this.updateLocalAssets),this.coins=$.getGeneralValueById(19),this.list_coin.array=this.coins}onDisable(){v.off(E.ROLE_INFO_CHANGE,this,this.updateLocalAssets),v.off(E.UPDATE_LOCAL_WALLET_LIST_EVENT,this,this.updateLocalAssets)}updateLocalAssets(){this.list_coin.refresh()}};Y1=H([HN("7P9MlqipSaG6QoKpQowDbQ")],Y1);var Q1=class extends Laya.Box{};Vt();qt();Xe();et();Ze();var{regClass:zN}=Laya,X1=class extends Q1{constructor(){super()}onEnable(){this.on(Laya.Event.CLICK,this,this.toShowBuyDialog)}set dataSource(t){if(super.dataSource=t,this.shopItem=t,!this.shopItem)return;this.tf_const.text=`${this.shopItem.cost} USDT`;let s=$.m_dicItems.get(this.shopItem.itemId);if(!s)return;this.tf_name.text=O.getLanguage(s.name);let n=this.tf_name.height,o=this.tf_name.fontSize;this.tf_name.y=n>o?226:244,this.img_icon.skin=te.getItemIcon(s.icon)}toShowBuyDialog(){Oe.intance.openModule(w.BuyPropDialog,this.shopItem)}};X1=H([zN("awS07ko0RBaxCnxXWqiR4g")],X1);mt();wi();We();Rt();nt();var J1=class extends Laya.Scene{};ni();Ze();Cr();ut();Ri();Pt();et();ot();mn();Xe();rr();var{regClass:jN}=Laya,Z1=class extends J1{constructor(){super(...arguments);this.currTab=0;this.type=1;this.selectItemId=-1;this.shopId=1;this.isButtonLocked=!1;this.buttonLockTime=2e3}onAwake(){this.m_iLayerType=ee.M_POP,this.m_iPositionType=ee.UP}onOpened(t){t&&t.length>0?(this.type=t[0],t[1]!=null&&(this.selectItemId=t[1]),this.onClickTab(this.type)):(this.selectItemId=1,this.onTabClick(this.selectItemId))}onEnable(){xt.requestCoinInfo(),Bt.startJellyScaleAnimation(this.tf_tittle),this.tf_diamon.text=`${parseFloat(P.playerDto.score.toFixed(4)).toString()}`;for(let t=0;t<4;t++)this["tab"+t].on(Laya.Event.CLICK,this,this.onTabClick,[t]);for(let t=1;t<3;t++)this["btn_"+t].on(Laya.Event.CLICK,this,this.onClickTab,[t]);this.initShopList(),v.on("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),this.btn_back.on(Laya.Event.CLICK,this,this.setToMainScene),this.btn_left.on(Laya.Event.CLICK,this,this.clickLeftAndRight,[!0]),this.btn_right.on(Laya.Event.CLICK,this,this.clickLeftAndRight,[!1]),this.btn_buy.on(Laya.Event.CLICK,this,this.onRecruit),v.on(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate)}setTab(t){for(let s=1;s<3;s++)t==s?(this["btn_"+s].getChildByName("selectBox1").visible=!0,this["btn_"+s].getChildByName("selectBox2").visible=!1):(this["btn_"+s].getChildByName("selectBox1").visible=!1,this["btn_"+s].getChildByName("selectBox2").visible=!0)}async onClickTab(t){this.currTab!=t&&(this.type=t,this.setTab(t),t==1?(this.box_middle.visible=!0,this.tabBox.visible=!0,this.box_shop.visible=!1,this.tf_nft2.stroke=5,this.tf_nft2.fontSize=32,this.tf_props2.stroke=0,this.tf_props2.fontSize=25):t==2&&(this.box_middle.visible=!1,this.tabBox.visible=!1,this.box_shop.visible=!0,this.tf_nft2.stroke=0,this.tf_nft2.fontSize=25,this.tf_props2.stroke=5,this.tf_props2.fontSize=32))}setToMainScene(){je.setCurrentScene(he.M_SCENE_MAIN)}removeEvent(){for(let t=0;t<4;t++)this["tab"+t].off(Laya.Event.CLICK,this,this.onTabClick,[t]);for(let t=1;t<3;t++)this["btn_"+t].off(Laya.Event.CLICK,this,this.onClickTab,[t]);this.btn_back.off(Laya.Event.CLICK,this,this.setToMainScene),this.btn_left.off(Laya.Event.CLICK,this,this.clickLeftAndRight,[!0]),this.btn_right.off(Laya.Event.CLICK,this,this.clickLeftAndRight,[!1]),this.btn_buy.off(Laya.Event.CLICK,this,this.onRecruit),v.off("msg_"+y.snake.socket.MessageType.MSG_SHOP_BUY,this,this.onBuySuccess),v.off(E.UPDATE_TOKEN_BALANCE,this,this.onTokenBalanceUpdate)}clearAllTimer(){Laya.timer.clearAll(this),this.isButtonLocked=!1}onTabClick(t){let n="res/shop/img_Button_1.png",o="res/shop/img_btlv.png",l="res/shop/img_bt1_2.png",u="res/shop/img_Button_4.png",p="#0785f5";this.snake_sk&&(this.snake_sk.visible=!1),this.clearAllTimer();for(let f=0;f<4;f++){let g=this[`tab${f}`],_=g.getChildByName("tf_tit"),S=t===f,x=f===0;this.selectItemId=t,g.skin=x?S?n:l:S?o:u,_.stroke=S?5:0,_.strokeColor=p;let I=1001,M=101;switch(t){case 0:I=null,M=101,S&&(this.snake_sk.source="gameIcon/spine/shop/snake1/img_she_1.json",this.snake_sk.visible=!0,this.snake_sk&&this.snake_sk.templet&&this.snake_sk.play("animation",!0),this.eggBox.visible=!1);break;case 1:I=1001,M=102,S&&(this.img_egg.visible=!1,this.egg_sk.visible=!0,this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation1",!0),this.eggBox.visible=!0);break;case 2:I=1002,M=103,S&&(this.img_egg.visible=!0,this.egg_sk.visible=!1,this.img_egg.skin="res/shop/img_dan_2.png",this.eggBox.visible=!0);break;case 3:M=null,I=null,M=104,S&&(this.img_egg.visible=!0,this.egg_sk.visible=!1,this.img_egg.skin="res/shop/img_dan_3.png",this.img_egg.visible=!0);break;default:break}if(this.shopId=I,M&&S){var d=$.m_dicSnakes.get(M);let A=this.attribute_1.getChildByName("tf_value"),D=this.attribute_2.getChildByName("tf_value"),j=this.attribute_3.getChildByName("tf_value"),W=this.attribute_4.getChildByName("tf_value"),U=this.attribute_5.getChildByName("tf_value");d&&(M>=103?(A.text="?",D.text="?",j.text="?",W.text="?",U.text="?"):(A.text=`${d.initLength}`,D.text=`${d.maxLength}`,j.text=`${d.suctionRadius}`,W.text=`${d.baseSpeed}`,U.text=`${d.accelerationFactor}`))}if(I){let A=$.m_dicShops.get(I);A?(this.tf_price.text=`${A.cost} USDT`,this.btn_buy.visible=!0):this.btn_buy.visible=!1}else this.btn_buy.visible=!1;this.selectItemId<=0?this.btn_left.disabled=!0:this.btn_left.disabled=!1,this.selectItemId>=3?this.btn_right.disabled=!0:this.btn_right.disabled=!1}}clickLeftAndRight(t){t&&this.selectItemId>0&&(this.selectItemId--,this.onTabClick(this.selectItemId)),!t&&this.selectItemId<3&&(this.selectItemId++,this.onTabClick(this.selectItemId))}initShopList(){let t=[],s=$.m_dicShops;s&&s.values&&(t=Array.from(s.values).filter(o=>o.type===2),this.shopList.array=t);let n=Ei.getKnapsackItemById(10001);n?this.tf_diamon.text=`${parseFloat(n.num.toFixed(4)).toString()}`:this.tf_diamon.text="0"}onBuySuccess(t,s){var n=_e.getMsgBody(t,y.snake.socket.SC_SHOP_BUY);if(s==y.snake.socket.MessageCode.SYS_NORMAL){if(n&&n.items&&(console.log("buySNake============>",n),qe.playSoundByName(qe.soundName_snakeBuy),n.snake&&n.snake.skin)){let o=n.snake.skin-100;this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation2",!1),this.btn_buy.visible=!1;let l=te.getSnakeAniJson(`${o}`);this.snake_sk.source=l,Laya.timer.once(500,this,()=>{this.snake_sk.visible=!0,this.snake_sk&&this.snake_sk.templet&&this.snake_sk.play("animation",!0)}),Laya.timer.once(7e3,this,()=>{this.selectItemId==1&&(this.snake_sk&&(this.snake_sk.visible=!1),this.egg_sk&&this.egg_sk.templet&&this.egg_sk.play("animation1",!0),this.btn_buy.visible=!0)}),xt.requestCoinInfo()}}else s==y.snake.socket.MessageCode.NOT_ENOUGH_TOKEN?Me.notice(O.getLanguage(72)):Me.notice(O.getLanguage(73))}onRecruit(){if(this.isButtonLocked)return;this.isButtonLocked=!0,Laya.timer.once(this.buttonLockTime,this,()=>{this.isButtonLocked=!1});let t=y.snake.socket.MessageType.MSG_SHOP_BUY;var s=$.m_dicSnakes.get(this.shopId);if(console.log(s),this.shopId){let n=y.snake.socket.CS_SHOP_BUY.fromObject({id:this.shopId,symbolId:10,num:1});ge.send(t,n)}}onTokenBalanceUpdate(t){this.showAssetData(t)}showAssetData(t){let s=t.find(o=>o.symbolId===10),n=s?s.balance:0;this.tf_usdt.text=fo.filterNumFormat(n,2,!0)}onDisable(){this.removeEvent(),this.isButtonLocked=!1}};Z1=H([jN("IPCUkD5kRse3Gz5tw0Aovw")],Z1);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=bundle.js.map
